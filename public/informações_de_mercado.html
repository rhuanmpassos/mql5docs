<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informa√ß√µes de Mercado - MQL5 Docs</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
</head>
<body>
    <nav class="sidebar">
        <div class="logo">
            <h1>MQL5 Docs</h1>
            <p>Documenta√ß√£o Completa</p>
        </div>
        <div class="search-box">
            <input type="text" id="search" placeholder="Buscar..." onkeyup="filterNav()">
        </div>
        <ul class="nav-list" id="nav-list">
            <li class=""><a href="index.html">üìö √çndice</a></li>
            <li class=""><a href="introducao.html">Introducao</a></li>
<li class=""><a href="refer√™ncia_mql5.html">Refer√™ncia MQL5</a></li>
<li class=""><a href="elementos_b√°sicos_da_linguagem.html">Elementos B√°sicos da Linguagem</a></li>
<li class=""><a href="constantes,_enumeradores_e_estruturas.html">Constantes, Enumeradores e Estruturas</a></li>
<li class=""><a href="programas_mql5.html">Programas MQL5</a></li>
<li class=""><a href="vari√°veis_predefinidas.html">Vari√°veis Predefinidas</a></li>
<li class=""><a href="fun√ß√µes_comuns.html">Fun√ß√µes Comuns</a></li>
<li class=""><a href="fun√ß√µes_para_array.html">Fun√ß√µes para Array</a></li>
<li class=""><a href="m√©todos_matriciais_e_vetoriais.html">M√©todos matriciais e vetoriais</a></li>
<li class=""><a href="fun√ß√µes_de_convers√£o.html">Fun√ß√µes de Convers√£o</a></li>
<li class=""><a href="fun√ß√µes_matem√°ticas.html">Fun√ß√µes Matem√°ticas</a></li>
<li class=""><a href="fun√ß√µes_de_string.html">Fun√ß√µes de String</a></li>
<li class=""><a href="data_e_hora.html">Data e Hora</a></li>
<li class=""><a href="informa√ß√µes_de_conta.html">Informa√ß√µes de Conta</a></li>
<li class=""><a href="verificando_estado.html">Verificando Estado</a></li>
<li class=""><a href="manipula√ß√£o_de_eventos.html">Manipula√ß√£o de eventos</a></li>
<li class="active"><a href="informa√ß√µes_de_mercado.html">Informa√ß√µes de Mercado</a></li>
<li class=""><a href="calend√°rio_econ√¥mico.html">Calend√°rio econ√¥mico</a></li>
<li class=""><a href="s√©ries_temporais_e_acesso_a_indicadores.html">S√©ries Temporais e Acesso a Indicadores</a></li>
<li class=""><a href="s√≠mbolos_personalizados.html">S√≠mbolos personalizados</a></li>
<li class=""><a href="opera√ß√µes_de_gr√°ficos.html">Opera√ß√µes de Gr√°ficos</a></li>
<li class=""><a href="fun√ß√µes_de_negocia√ß√£o.html">Fun√ß√µes de Negocia√ß√£o</a></li>
<li class=""><a href="gerenciamento_de_sinais.html">Gerenciamento de sinais</a></li>
<li class=""><a href="fun√ß√µes_de_rede.html">Fun√ß√µes de rede</a></li>
<li class=""><a href="vari√°veis_globais_do_terminal.html">Vari√°veis Globais do Terminal</a></li>
<li class=""><a href="fun√ß√µes_de_arquivo.html">Fun√ß√µes de Arquivo</a></li>
<li class=""><a href="indicadores_customizados.html">Indicadores Customizados</a></li>
<li class=""><a href="fun√ß√µes_de_objeto.html">Fun√ß√µes de Objeto</a></li>
<li class=""><a href="indicadores_t√©cnicos.html">Indicadores T√©cnicos</a></li>
<li class=""><a href="trabalhando_com_resultados_de_otimiza√ß√£o.html">Trabalhando com Resultados de Otimiza√ß√£o</a></li>
<li class=""><a href="trabalhando_com_eventos.html">Trabalhando com Eventos</a></li>
<li class=""><a href="trabalhando_com_opencl.html">Trabalhando com OpenCL</a></li>
<li class=""><a href="trabalhar_com_bancos_de_dados.html">Trabalhar com bancos de dados</a></li>
<li class=""><a href="trabalho_com_directx.html">Trabalho com DirectX</a></li>
<li class=""><a href="metatrader_para_python.html">MetaTrader para Python</a></li>
<li class=""><a href="modelos_onnx.html">Modelos ONNX</a></li>
<li class=""><a href="biblioteca_padr√£o.html">Biblioteca Padr√£o</a></li>
<li class=""><a href="migrando_do_mql4.html">Migrando do MQL4</a></li>
<li class=""><a href="lista_de_fun√ß√µes_mql5.html">Lista de Fun√ß√µes MQL5</a></li>
<li class=""><a href="lista_de_constantes_mql5.html">Lista de Constantes MQL5</a></li>

        </ul>
    </nav>
    
    <main class="content">
        <header>
            <button class="menu-toggle" onclick="toggleSidebar()">‚ò∞</button>
            <h1>Informa√ß√µes de Mercado</h1>
        </header>
        
        <article>
            <p><h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
1978
<h3>Obtendo Informa√ß√µes de Mercado</h3>
Estas s√£o fun√ß√µes destinadas a receber informa√ß√µes sobre o estado do mercado.
<h3>Fun√ß√£o</h3>
<h3>A√ß√£o</h3>
<h3>SymbolsTotal</h3>
Retorna o n√∫mero de ativos dispon√≠veis (selecionados na janela
<h3>Observa√ß√£o de Mercado ou todos)</h3>
<h3>SymbolExist</h3>
Verifica se h√° um s√≠mbolo com o nome especificado
<h3>SymbolName</h3>
Retorna o nome de um ativo especificado
<h3>SymbolSelect</h3>
Seleciona um ativo na janela Observa√ß√£o de Mercado ou remove um
ativo desta janela
<h3>SymbolIsSynchronized</h3>
Verifica se dados de um ativo selecionado no terminal est√£o
sincronizados com dados no servidor de negocia√ß√µes
<h3>SymbolInfoDouble</h3>
Retorna um valor double de um ativo para a propriedade
correspondente
<h3>SymbolInfoInteger</h3>
Retorna um valor de tipo inteiro (long, datetime, int ou bool) de um
ativo especificado para a propriedade correspondente
<h3>SymbolInfoString</h3>
Retorna um valor do tipo string de um ativo especificado para a
propriedade correspondente
<h3>SymbolInfoMarginRate</h3>
Returns the margin rates depending on the order type and direction
<h3>SymbolInfoTick</h3>
Retorna os pre√ßos correntes para um ativo especificado em uma
vari√°vel do tipo MqlTick
<h3>SymbolInfoSessionQuote</h3>
Permite obter a hora de in√≠cio e fim das sess√µes de cota√ß√£o
especificadas para um ativo especificado e dia da semana.
<h3>SymbolInfoSessionTrade</h3>
Permite obter a hora de in√≠cio e fim das sess√µes de negocia√ß√£o
especificadas para um ativo especificado e dia da semana.
<h3>MarketBookAdd</h3>
Fornece abertura da Profundidade de Mercado para um ativo
selecionado, e subscrever para receber notifica√ß√µes de altera√ß√µes do
<h3>DOM (Depth of Market)</h3>
<h3>MarketBookRelease</h3>
Fornece fechamento da Profundidade de Mercado para um ativo
selecionado, e cancelar a subscri√ß√£o para receber notifica√ß√µes de
altera√ß√µes do DOM
<h3>MarketBookGet</h3>
Retorna um array de estrutura MqlBookInfo contendo registros da
Profundidade de Mercado de uma ativo especificado</p>
<p><h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
1979
<h3>SymbolsTotal</h3>
Retorna o n√∫mero de ativos dispon√≠veis (selecionados na janela Observa√ß√£o do Mercado ou todos os
ativos).
</p>
<pre><code class="language-mql5">
int¬† SymbolsTotal(
   bool¬† selected¬†     // True - somente ativos em Observa√ß√£o do Mercado
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
selected
[in] Mode de solicita√ß√£o. Pode ser true ou false.
<h3>Valor do Retorno</h3>
Se o par√¢metro &#x27;selected&#x27; for true, a fun√ß√£o retorna o n√∫mero de ativos selecionados na janela
Observa√ß√£o do Mercado. Se o valor for false, ela retorna o n√∫mero total de todos os ativos.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- obtemos o n√∫mero de s√≠mbolos dispon√≠veis
   int total    = SymbolsTotal(false);       // todos os s√≠mbolos no servidor
   int selected = SymbolsTotal(true);        // todos os s√≠mbolos adicionados √† janela
//--- enviamos os dados obtidos para o log
   PrintFormat(&quot;Number of available symbols on the server: %d\n&quot;+
               &quot;Number of available symbols selected in MarketWatch: %d&quot;, total, selec
   /*
¬†  resultado:
   Number of available symbols on the server: 140
   Number of available symbols selected in MarketWatch: 11
   */
</code></pre>
<p>
  }</p>
<p><h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
1980
<h3>SymbolExist</h3>
Verifica se h√° um s√≠mbolo com o nome especificado.
</p>
<pre><code class="language-mql5">
bool¬† SymbolExist(
   const string¬† name,¬†   // nome do s√≠mbolo
   bool&amp;   is_custom¬†     // tipo de s√≠mbolo personalizado
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
nome
[in]  Nome do s√≠mbolo.
is_custom
[out]  Tipo de s√≠mbolo personalizado que √© definido ap√≥s a execu√ß√£o bem-sucedida. Se for true, o
s√≠mbolo encontrado √© personalizado.
<h3>Valor retornado</h3>
Retorna false se o s√≠mbolo n√£o for encontrado entre os padr√£o ou entre os s√≠mbolos personalizados.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
#define SYMBOL_NAME &quot;GBPUSDn&quot;
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- declaramos um sinalizador de s√≠mbolo personalizado e verificamos a presen√ßa de u
   bool custom = false;
   bool result = SymbolExist(SYMBOL_NAME, custom);
   
//--- declaramos o texto da mensagem, por padr√£o sobre o s√≠mbolo n√£o encontrado
   string text = StringFormat(&quot;The symbol &#x27;%s&#x27; was not found among either the standard
   
//--- se o s√≠mbolo for encontrado, criamos o corpo da mensagem de acordo com a lista n
   if(result)
     {
      //--- se for um s√≠mbolo padr√£o
      if(!custom)
         text = StringFormat(&quot;The &#x27;%s&#x27; symbol is available on the server.&quot;, SYMBOL_NAM
      //--- se for um s√≠mbolo personalizado
      else
         text = StringFormat(&quot;The symbol &#x27;%s&#x27; was found in the list of custom symbols.
     }
     
//--- imprimimos no log a mensagem sobre o resultado da verifica√ß√£o
   Print(text);
   /*</p>
<p></code></pre>
<p>
<h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
1981
</p>
<pre><code class="language-mql5">
   resultado para o s√≠mbolo padr√£o &#x27;GBPUSD&#x27;:
   The &#x27;GBPUSD&#x27; symbol is available on the server.
   
   resultado para o s√≠mbolo personalizado &#x27;GBPUSDx&#x27;:
   The symbol &#x27;GBPUSDx&#x27; was found in the list of custom symbols.
   
   resultado para o s√≠mbolo ausente &#x27;GBPUSDn&#x27;:
   The symbol &#x27;GBPUSDn&#x27; was not found among either the standard or custom symbols.
   */
</code></pre>
<p>
  }
<h3>Veja tamb√©m</h3>
<h3>SymbolsTotal, SymbolSelect, S√≠mbolos personalizados</h3></p>
<p><h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
1982
<h3>SymbolName</h3>
Retorna o nome de um ativo.
</p>
<pre><code class="language-mql5">
string¬† SymbolName(
   int¬†  pos,¬†         // n√∫mero na lista
   bool¬† selected¬†     // true - somente ativos em Observa√ß√£o do Mercado
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
pos
[in] N√∫mero de ordem de um ativo.
selected
[in] Mode de solicita√ß√£o. Se o valor for true, o ativo √© tomado da lista de ativos selecionados na
janela Observa√ß√£o do Mercado. Se o valor for false, o ativo √© tomado da lista geral.
<h3>Valor do Retorno</h3>
Valor de tipo string com o nome do ativo.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
#define SYMBOL_NAME &quot;GBPHKD&quot;
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- definimos o sinalizador do resultado da pesquisa do s√≠mbolo no servidor
   bool found = false;
   
//--- localizamos o s√≠mbolo &#x27;SYMBOL_NAME&#x27; na lista de todos os s√≠mbolos do servidor
   int total = SymbolsTotal(false);
   for(int i=0; i&lt;total; i++)
     {
      //--- obtemos o nome do s√≠mbolo na lista com base no √≠ndice do loop
      string name = SymbolName(i, false);
      
      //--- se for o s√≠mbolo desejado, imprimimos seu nome e posi√ß√£o na lista no log e
      if(name == SYMBOL_NAME)
        {
         PrintFormat(&quot;The &#x27;%s&#x27; symbol was found in the list of server symbols at index
         found = true;
         break;
        }
     }
     
//--- se o s√≠mbolo n√£o for encontrado no servidor, informaremos sobre isso antes de en</p>
<p></code></pre>
<p>
<h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
1983
</p>
<pre><code class="language-mql5">
   if(!found)
      PrintFormat(&quot;The &#x27;%s&#x27; symbol was not found on the server.&quot;, SYMBOL_NAME);
</code></pre>
<p>
  }</p>
<p><h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
1984
<h3>SymbolSelect</h3>
Seleciona um ativo da janela Observa√ß√£o do Mercado ou remove um ativo desta janela.
</p>
<pre><code class="language-mql5">
bool¬† SymbolSelect(
   string¬† name,¬†      // nome do ativo
   bool¬†   select¬†     // adicionar ou remover
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
name
[in] Nome do ativo.
select
[in] Alterna. Se o valor for false, o ativo deve ser removido do Observa√ß√£o do Mercado, caso
contr√°rio o ativo deve ser selecionado nesta janela. O ativo n√£o pode ser removido se o gr√°fico do
ativo estiver aberto, ou houver posi√ß√µes em aberto deste ativo.
<h3>Valor do Retorno</h3>
Em caso de falha retorna false.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
#define SYMBOL_NAME &quot;GBPHKD&quot;
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- verificamos se o s√≠mbolo est√° presente nas listas; se n√£o estiver, informamos o 
   bool custom = false;
   if(!SymbolExist(SYMBOL_NAME, custom))
     {
      PrintFormat(&quot;&#x27;%s&#x27; symbol not found in the lists&quot;, SYMBOL_NAME);
      return;
     }
     
//--- adicionamos o s√≠mbolo √† janela Observa√ß√£o do mercado
   ResetLastError();
   if(!SymbolSelect(SYMBOL_NAME, true))
     {
      Print(&quot;SymbolSelect() failed. Error &quot;, GetLastError());
      return;
     }
//--- se o s√≠mbolo for adicionado com sucesso √† lista, obtemos seu √≠ndice na janela Ob
   int index = SymbolIndex(SYMBOL_NAME);
   PrintFormat(&quot;The &#x27;%s&#x27; symbol has been added to the MarketWatch list. Symbol index i
     </p>
<p></code></pre>
<p>
<h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
1985
</p>
<pre><code class="language-mql5">
//--- agora removemos o s√≠mbolo da janela Observa√ß√£o do Mercado
   ResetLastError();
   if(!SymbolSelect(SYMBOL_NAME, false))
     {
      Print(&quot;SymbolSelect() failed. Error &quot;, GetLastError());
      return;
     }
//--- se o s√≠mbolo for removido com sucesso da lista, seu √≠ndice na janela Observa√ß√£o 
   index = SymbolIndex(SYMBOL_NAME);
   PrintFormat(&quot;The &#x27;%s&#x27; symbol has been removed from the MarketWatch list. Symbol ind
   
   /*
¬†  resultado:
   The &#x27;GBPHKD&#x27; symbol has been added to the MarketWatch list. Symbol index in the lis
   The &#x27;GBPHKD&#x27; symbol has been removed from the MarketWatch list. Symbol index in the
   */
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Retorna o √≠ndice do s√≠mbolo na lista da Observa√ß√£o do Mercado   |
//+------------------------------------------------------------------+
int SymbolIndex(const string symbol)
  {
   int total = SymbolsTotal(true);
   for(int i=0; i&lt;total; i++)
     {
      string name = SymbolName(i, true);
      if(name == symbol)
         return i;
     }
   return(WRONG_VALUE);
</code></pre>
<p>
  }</p>
<p><h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
1986
<h3>SymbolIsSynchronized</h3>
Verifica se os dados do s√≠mbolo especificado no terminal est√£o sincronizados com os dados no servidor
de negocia√ß√£o.
</p>
<pre><code class="language-mql5">
bool¬† SymbolIsSynchronized(
   string¬† name,¬†      // nome do ativo
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
name
[in]  Nome do ativo.
<h3>Valor de retorno</h3>
Se os dados estiverem sincronizados, retorna true; caso contr√°rio, retorna false.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
#define SYMBOL_NAME &quot;EURUSD&quot;
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- obtemos o sinalizador de sincroniza√ß√£o dos dados no terminal para o s√≠mbolo &#x27;SYM
   bool   sync = SymbolIsSynchronized(SYMBOL_NAME);
   
//--- criamos uma mensagem dependendo do sinalizador de sincroniza√ß√£o
   string text = StringFormat(&quot;The data on the &#x27;%s&#x27; symbol in the terminal is synchron
   if(!sync)
      text = StringFormat(&quot;The data for the &#x27;%s&#x27; symbol in the terminal is not synchro
   
//--- exibimos o resultado obtido no log
   Print(text);
   
   /*
   resultado para dados sincronizados:
   The data on the &#x27;EURUSD&#x27; symbol in the terminal is synchronized with the data on th
   
</code></pre>
<p>
¬† resultado para dados ainda n√£o sincronizados:
</p>
<pre><code class="language-mql5">
   The data for the &#x27;GBPHKD&#x27; symbol in the terminal is not synchronized with the data 
   */
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
<h3>SymbolInfoInteger, Organizando Acesso a Dados</h3></p>
<p><h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
1987
<h3>SymbolInfoDouble</h3>
Retorna a propriedade correspondente de um ativo especificado. Existem 2 variantes da fun√ß√£o.
1. Imediatamente retorna o valor da propriedade.
</p>
<pre><code class="language-mql5">
double¬† SymbolInfoDouble(
   string¬†                  name,¬†      // ativo
   ENUM_SYMBOL_INFO_DOUBLE¬† prop_id¬†    // identificador da propriedade
   );
</code></pre>
<p>
2. Retorna true ou false dependendo se a fun√ß√£o for executada com sucesso. Em caso de sucesso, o
valor da propriedade √© colocado em uma vari√°vel recipiente, passada por refer√™nce atr√°ves do √∫ltimo
par√¢metro.
</p>
<pre><code class="language-mql5">
bool¬† SymbolInfoDouble(
   string¬†                  name,¬†      // ativo
   ENUM_SYMBOL_INFO_DOUBLE  prop_id,    // identificador da propriedade
   double&amp;¬†                 double_var¬† // aqui n√≥s assumimos o valor da propriedade
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
name
[in] Nome do ativo.
prop_id
[in] Identificador de um propriedade de ativo. O valor pode ser um dos valores da enumera√ß√£o
ENUM_SYMBOL_INFO_DOUBLE.
double_var
[out] Vari√°vel de tipo double recebendo o valor da propriedade solicitada.
<h3>Valor do Retorno</h3>
Valor de tipo double. Em caso de falha de execu√ß√£o, a informa√ß√£o sobre o erro pode ser obtida
usando a fun√ß√£o GetLastError():
¬∑ 5040 ‚Äì par√¢metro de string inv√°lido para especificar um nome de ativo,
¬∑ 4301 ‚Äì ativo desconhecido (instrumento financeiro),
¬∑ 4302 ‚Äì ativo n√£o est√° selecionado no &quot;Observador de Mercado&quot; (n√£o encontrado na lista de ativos
dispon√≠veis),
¬∑ 4303 ‚Äì identificador inv√°lido de uma propriedade de ativo.
<h3>Observa√ß√£o</h3>
√â recomend√°vel usar SymbolInfoTick() se a fun√ß√£o for usada para obter informa√ß√µes sobre o √∫ltimo
tick. √â bom poss√≠vel que nenhuma cota√ß√£o tenha aparecido ainda desde que o terminal se conectou
a uma conta de negocia√ß√£o. Em tal situa√ß√£o, o valor solicitado ser√° indefinido
Na maioria dos casos, √© suficiente usar a fun√ß√£o SymbolInfoTick() permitindo a um usu√°rio receber
os valores dos pre√ßos Compra, Venda, √öltimo, Volume e a hora da chegada do √∫ltimo tick atrav√©s de
uma √∫nica chamada.</p>
<p><h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
1988
A fun√ß√£o SymbolInfoMarginRate() fornece informa√ß√µes sobre o valor da margem cobrada,
dependendo do tipo e dire√ß√£o da ordem.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
void OnTick()
  {
//--- obt√©m spread a partir das propriedade do ativo
   bool spreadfloat=SymbolInfoInteger(Symbol(),SYMBOL_SPREAD_FLOAT);
   string comm=StringFormat(&quot;Spread %s = %I64d pontos\r\n&quot;,
                            spreadfloat?&quot;flutuante&quot;:&quot;fixo&quot;,
                            SymbolInfoInteger(Symbol(),SYMBOL_SPREAD));
//--- agora vamos calcular n√≥s mesmos o spread
   double ask=SymbolInfoDouble(Symbol(),SYMBOL_ASK);
   double bid=SymbolInfoDouble(Symbol(),SYMBOL_BID);
   double spread=ask-bid;
   int spread_points=(int)MathRound(spread/SymbolInfoDouble(Symbol(),SYMBOL_POINT));
   comm=comm+&quot;Spread calculada = &quot;+(string)spread_points+&quot; pontos&quot;;
   Comment(comm);
</code></pre>
<p>
  }</p>
<p><h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
1989
<h3>SymbolInfoInteger</h3>
Retorna a propriedade correspondente de um ativo especificado. Existem 2 variantes da fun√ß√£o.
1. Imediatamente retorna o valor da propriedade.
long¬† SymbolInfoInteger(
</p>
<pre><code class="language-mql5">
   string¬†                   name,¬†     // ativo
   ENUM_SYMBOL_INFO_INTEGER  prop_id¬†   // identificador da propriedade
   );
</code></pre>
<p>
2. Retorna true ou false dependendo se a fun√ß√£o for executada com sucesso. Em caso de sucesso, o
valor da propriedade √© colocado em uma vari√°vel recipiente, passada por refer√™nce atr√°ves do √∫ltimo
par√¢metro.
</p>
<pre><code class="language-mql5">
bool¬† SymbolInfoInteger(
   string¬†                   name,¬†     // ativo
   ENUM_SYMBOL_INFO_INTEGER  prop_id,   // identificador da propriedade
   long&amp;¬†                    long_var¬†  // aqui n√≥s assumimos o valor da propriedade
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
name
[in] Nome do ativo.
prop_id
[in] Identificador de um propriedade de ativo. O valor pode ser um dos valores da enumera√ß√£o
ENUM_SYMBOL_INFO_INTEGER.
long_var
[out] Vari√°vel de tipo long rececendo o valor da propriedade solicitada.
<h3>Valor do Retorno</h3>
Valor de tipo long. Em caso de falha de execu√ß√£o, a informa√ß√£o sobre o erro pode ser obtida usando
a fun√ß√£o GetLastError():
¬∑ 5040 ‚Äì par√¢metro de string inv√°lido para especificar um nome de ativo,
¬∑ 4301 ‚Äì ativo desconhecido (instrumento financeiro),
¬∑ 4302 ‚Äì ativo n√£o est√° selecionado no &quot;Observador de Mercado&quot; (n√£o encontrado na lista de ativos
dispon√≠veis),
¬∑ 4303 ‚Äì identificador inv√°lido de uma propriedade de ativo.
<h3>Observa√ß√£o</h3>
√â recomend√°vel usar SymbolInfoTick() se a fun√ß√£o for usada para obter informa√ß√µes sobre o √∫ltimo
tick. √â bom poss√≠vel que nenhuma cota√ß√£o tenha aparecido ainda desde que o terminal se conectou
a uma conta de negocia√ß√£o. Em tal situa√ß√£o, o valor solicitado ser√° indefinido
Na maioria dos casos, √© suficiente usar a fun√ß√£o SymbolInfoTick() permitindo a um usu√°rio receber
os valores dos pre√ßos Compra, Venda, √öltimo, Volume e a hora da chegada do √∫ltimo tick atrav√©s de
uma √∫nica chamada.</p>
<p><h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
1990
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
void OnTick()
  {
//--- obt√©m spread a partir das propriedade do ativo
   bool spreadfloat=SymbolInfoInteger(Symbol(),SYMBOL_SPREAD_FLOAT);
   string comm=StringFormat(&quot;Spread %s = %I64d pontos\r\n&quot;,
                            spreadfloat?&quot;flutuante&quot;:&quot;fixo&quot;,
                            SymbolInfoInteger(Symbol(),SYMBOL_SPREAD));
//--- agora vamos calcular n√≥s mesmos o spread
   double ask=SymbolInfoDouble(Symbol(),SYMBOL_ASK);
   double bid=SymbolInfoDouble(Symbol(),SYMBOL_BID);
   double spread=ask-bid;
   int spread_points=(int)MathRound(spread/SymbolInfoDouble(Symbol(),SYMBOL_POINT));
   comm=comm+&quot;Spread calculada = &quot;+(string)spread_points+&quot; pontos&quot;;
   Comment(comm);
</code></pre>
<p>
  }</p>
<p><h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
1991
<h3>SymbolInfoString</h3>
Retorna a propriedade correspondente do s√≠mbolo especificado. Existem 2 variantes da fun√ß√£o.
1. Retorna diretamente o valor da propriedade.
</p>
<pre><code class="language-mql5">
string¬† SymbolInfoString(
   string¬†                  name,¬†       // ativo
   ENUM_SYMBOL_INFO_STRING¬† prop_id¬†     // identificador da propriedade
   );
</code></pre>
<p>
2. Retorna true ou false dependendo do sucesso da execu√ß√£o da fun√ß√£o. Em caso de sucesso, o valor
da propriedade √© colocado na vari√°vel receptora passada por refer√™ncia como √∫ltimo par√¢metro.
</p>
<pre><code class="language-mql5">
bool¬† SymbolInfoString(
   string¬†                  name,¬†       // ativo
   ENUM_SYMBOL_INFO_STRING¬† prop_id¬†     // identificador da propriedade
   string&amp;¬†                 string_var¬†  // vari√°vel que recebe o valor da propriedade
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
name
[in] Nome do ativo.
prop_id
[in] Identificador da propriedade do ativo. O valor pode ser um dos valores da enumera√ß√£o
ENUM_SYMBOL_INFO_STRING.
string_var
[out] Vari√°vel do tipo string que recebe o valor da propriedade solicitada.
<h3>Valor do Retorno</h3>
Valor de tipo string. Em caso de execu√ß√£o malsucedida, a informa√ß√£o sobre o erro pode ser obtida
com a fun√ß√£o GetLastError():
¬∑ 5040 ‚Äì par√¢metro de string inv√°lido para especificar o nome do ativo,
¬∑ 4301 ‚Äì ativo desconhecido (instrumento financeiro),
¬∑ 4302 ‚Äì ativo n√£o selecionado no &quot;Observa√ß√£o do Mercado&quot; (n√£o est√° na lista dispon√≠vel),
¬∑ 4303 ‚Äì identificador da propriedade do ativo inv√°lido.
<h3>Observa√ß√£o</h3>
Se a fun√ß√£o for usada para obter informa√ß√µes sobre o √∫ltimo tick, √© melhor usar SymbolInfoTick()
***. √â poss√≠vel que n√£o tenha havido nenhuma cota√ß√£o para esse s√≠mbolo desde que o terminal se
conectou √† conta de negocia√ß√£o. Nesse caso, o valor solicitado ser√° indefinido.
Na maioria dos casos, √© suficiente usar a fun√ß√£o SymbolInfoTick(), que permite obter em uma
chamada os valores Ask, Bid, Last, Volume e a hora da chegada do √∫ltimo tick.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
#define SYMBOL_NAME &quot;USDJPY&quot;</p>
<p></code></pre>
<p>
<h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
1992
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- obtemos dados de string para o s√≠mbolo SYMBOL_NAME
   string currency_base   = SymbolInfoString(SYMBOL_NAME, SYMBOL_CURRENCY_BASE);    //
   string currency_profit = SymbolInfoString(SYMBOL_NAME, SYMBOL_CURRENCY_PROFIT);  //
   string currency_margin = SymbolInfoString(SYMBOL_NAME, SYMBOL_CURRENCY_MARGIN);  //
   string symbol_descript = SymbolInfoString(SYMBOL_NAME, SYMBOL_DESCRIPTION);      //
//--- criamos o corpo da mensagem com os dados recebidos
   string text=StringFormat(&quot;Symbol %s:\n&quot;+
                            &quot;- Currency Base: %s\n&quot;+
                            &quot;- Currensy Profit: %s\n&quot;+
                            &quot;- Currency Margin: %s\n&quot;+
                            &quot;- Symbol Description: %s&quot;,
                            SYMBOL_NAME, currency_base,
                            currency_profit, currency_margin,
                            symbol_descript);
//--- enviamos os dados obtidos para o log
   Print(text);
   /*
   Symbol USDJPY:
   - Currency Base: USD
   - Currensy Profit: JPY
   - Currency Margin: USD
   - Symbol Description: US Dollar vs Yen
   */
</code></pre>
<p>
  }</p>
<p><h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
1993
<h3>SymbolInfoMarginRate</h3>
Retorna os coeficientes de cobran√ßa de margem, dependendo do tipo e dire√ß√£o da ordem.
</p>
<pre><code class="language-mql5">
bool¬† SymbolInfoMarginRate(
   string¬†            name,¬†                    // s√≠mbolo
   ENUM_ORDER_TYPE¬†   order_type,               // tipo de ordem
   double&amp;            initial_margin_rate,      // coeficiente de cobran√ßa de margem i
   double&amp;¬†           maintenance_margin_rate¬†  // coeficiente de cobran√ßa de margem d
   );
</code></pre>
<p>
par√¢metros
name
[in]  Nome do s√≠mbolo.
order_type
[in]  Tipo de ordem.
initial_margin_rate
[in] Vari√°vel do tipo double para receber o coeficiente de cobran√ßa de margem inicial. A margem
inicial √© o valor da garantia para realizar a opera√ß√£o de 1 lote na dire√ß√£o correspondente. Ao
multiplicar o coeficiente pela margem inicial, podemos obter o valor dos fundos que ser√£o
reservados na conta ao colocar a ordem do tipo especificado.
maintenance_margin_rate
[out] A vari√°vel do tipo double para receber o coeficiente de cobran√ßa de margem de manuten√ß√£o.
A margem de manuten√ß√£o √© o valor m√≠nimo necess√°rio para manter a posi√ß√£o aberta de 1 lote na
dire√ß√£o correspondente. Ao multiplicar o coeficiente pela margem de manuten√ß√£o, podemos obter
o valor dos fundos que ser√£o reservados na conta ap√≥s a execu√ß√£o da ordem do tipo especificado.
valor de retorno
Retorna true em caso de execu√ß√£o bem-sucedida da solicita√ß√£o das propriedades, caso contr√°rio,
false.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
#define SYMBOL_NAME Symbol()
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- declaramos as vari√°veis que receber√£o os coeficientes
   double initial_margin_rate = 0;     // coeficiente de cobran√ßa de margem inicial
   double maintenance_margin_rate = 0; // coeficiente de cobran√ßa de margem de manuten
   
//--- obtemos e exibiremos no log os coeficientes para o s√≠mbolo SYMBOL_NAME para a or
   SymbolInfoMarginRatePrint(SYMBOL_NAME, ORDER_TYPE_BUY, initial_margin_rate, mainten
   </p>
<p></code></pre>
<p>
<h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
1994
</p>
<pre><code class="language-mql5">
//--- obtemos e exibiremos no log os coeficientes para o s√≠mbolo SYMBOL_NAME para a or
   SymbolInfoMarginRatePrint(SYMBOL_NAME, ORDER_TYPE_SELL, initial_margin_rate, mainte
   /*
   resultado:
   Initial margin rate for symbol AFKS for the Buy market order: 0.225600
   Maintenance margin rate for symbol AFKS for the Buy market order: 0.112800
   Initial margin rate for symbol AFKS for the Sell market order: 0.254400
   Maintenance margin rate for symbol AFKS for the Sell market order: 0.127200   
   */
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Imprime no log os coeficientes de cobran√ßa de margem |
//+------------------------------------------------------------------+
void SymbolInfoMarginRatePrint(const string symbol, const ENUM_ORDER_TYPE order_type, 
  {
//--- obtemos os coeficientes para o s√≠mbolo symbol para a ordem a mercado order_type
   ResetLastError();
   if(!SymbolInfoMarginRate(symbol, order_type, initial_margin_rate, maintenance_margi
     {
      Print(&quot;SymbolInfoMarginRate() failed. Error &quot;, GetLastError());
      return;
     }
//--- imprimimos os valores obtidos dos coeficientes
   string type=(order_type==ORDER_TYPE_BUY ? &quot;Buy&quot; : order_type==ORDER_TYPE_SELL ? &quot;Se
   PrintFormat(&quot;Initial margin rate for symbol %s for the %s market order: %f\n&quot;+
               &quot;Maintenance margin rate for symbol %s for the %s market order: %f&quot;,
               SYMBOL_NAME, type, initial_margin_rate,
               SYMBOL_NAME, type, maintenance_margin_rate);
</code></pre>
<p>
  }</p>
<p><h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
1995
<h3>SymbolInfoTick</h3>
Retorna os pre√ßos atuais para o s√≠mbolo especificado em uma vari√°vel do tipo MqlTick.
</p>
<pre><code class="language-mql5">
bool¬† SymbolInfoTick(
   string¬†   symbol,¬†    // nome do ativo
   MqlTick&amp;¬† tick  ¬†     // refer√™ncia para a estrutura
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
symbol
[in]  Nome do ativo.
tick
[out]  Refer√™ncia para a estrutura do tipo MqlTick, na qual ser√£o armazenados os pre√ßos atuais e o
hor√°rio da √∫ltima atualiza√ß√£o dos pre√ßos.
<h3>Valor do Retorno</h3>
Retorna true em caso de sucesso, caso contr√°rio, retorna false.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
#define SYMBOL_NAME &quot;EURUSD&quot;
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- declaramos um array do tipo estrutura MqlTick de tamanho 1
   MqlTick tick[1]={};
   
//--- obtemos os pre√ßos mais recentes para o s√≠mbolo SYMBOL_NAME na estrutura MqlTick
   if(!SymbolInfoTick(SYMBOL_NAME, tick[0]))
     {
      Print(&quot;SymbolInfoTick() failed. Error &quot;, GetLastError());
      return;
     }
//--- enviamos os dados obtidos para o log
   PrintFormat(&quot;Latest price data for the &#x27;%s&#x27; symbol:&quot;, SYMBOL_NAME);
   ArrayPrint(tick);
   /*
¬†  resultado:
   Latest price data for the &#x27;EURUSD&#x27; symbol:
                    [time]   [bid]   [ask] [last] [volume]    [time_msc] [flags] [volu
   [0] 2024.05.17 23:58:54 1.08685 1.08695 0.0000        0 1715990334319       6      
   */
</code></pre>
<p>
  }</p>
<p><h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
1996
<h3>SymbolInfoSessionQuote</h3>
Permite obter o hor√°rio de in√≠cio e t√©rmino da sess√£o de cota√ß√£o especificada para o s√≠mbolo e dia da
semana indicados.
</p>
<pre><code class="language-mql5">
bool¬† SymbolInfoSessionQuote(
   string¬†           name,¬†               // nome do ativo
   ENUM_DAY_OF_WEEK¬† day_of_week,         // dia da semana
   uint¬†             session_index,¬†      // √≠ndice da sess√£o
   datetime&amp;¬†        from,¬†               // hora de in√≠cio da sess√£o
   datetime&amp;¬†        to¬†                  // hora de t√©rmino da sess√£o
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
name
[in]  Nome do ativo.
<h3>ENUM_DAY_OF_WEEK</h3>
[in]  Dia da semana, um valor da enumera√ß√£o ENUM_DAY_OF_WEEK.
uint
[in]  N√∫mero ordinal da sess√£o para a qual se deseja obter o hor√°rio de in√≠cio e t√©rmino. A
indexa√ß√£o das sess√µes come√ßa em 0.
from
[out]  Hora de in√≠cio da sess√£o em segundos a partir de 00:00. A data no valor obtido deve ser
ignorada.
to
[out]  Hora de t√©rmino da sess√£o em segundos a partir de 00:00. A data no valor obtido deve ser
ignorada.
<h3>Valor do Retorno</h3>
Se os dados para a sess√£o, s√≠mbolo e dia da semana especificados forem obtidos, retorna true; caso
contr√°rio, retorna false.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
#define SYMBOL_NAME   Symbol()
#define SESSION_INDEX 0
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- imprime o cabe√ßalho com o s√≠mbolo e o √≠ndice da sess√£o SESSION_INDEX e
//--- em um loop de segunda a sexta, imprime no log o hor√°rio de in√≠cio e t√©rmino da s
   PrintFormat(&quot;Symbol %s, Quote session %d:&quot;, SYMBOL_NAME, SESSION_INDEX);
   for(int i=MONDAY; i&lt;SATURDAY; i++)</p>
<p></code></pre>
<p>
<h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
1997
</p>
<pre><code class="language-mql5">
      SymbolInfoSessionQuotePrint(SYMBOL_NAME, (ENUM_DAY_OF_WEEK)i, SESSION_INDEX);
   /*
¬†  resultado:
   Symbol RU000A103661, Quote session 0:
   - Monday     06:45 - 00:00
   - Tuesday    06:45 - 00:00
   - Wednesday  06:45 - 00:00
   - Thursday   06:45 - 00:00
   - Friday     06:45 - 00:00
   */
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Imprime no log o hor√°rio de in√≠cio e t√©rmino da sess√£o |
//| de cota√ß√£o para o s√≠mbolo e dia da semana especificados |
//+------------------------------------------------------------------+
void SymbolInfoSessionQuotePrint(const string symbol, const ENUM_DAY_OF_WEEK day_of_we
  {
//--- declaramos vari√°veis para armazenar o in√≠cio e t√©rmino da sess√£o de cota√ß√£o
   datetime date_from;  // hora de in√≠cio da sess√£o
   datetime date_to;    // hora de t√©rmino da sess√£o
   
//--- obtemos os dados da sess√£o de cota√ß√£o para o s√≠mbolo e dia da semana
   if(!SymbolInfoSessionQuote(symbol, day_of_week, session_index, date_from, date_to))
     {
      Print(&quot;SymbolInfoSessionQuote() failed. Error &quot;, GetLastError());
      return;
     }
     
//--- criamos o nome do dia da semana a partir da constante de enumera√ß√£o
   string week_day=EnumToString(day_of_week);
   if(week_day.Lower())
      week_day.SetChar(0, ushort(week_day.GetChar(0)-32));
//--- imprimimos no log os dados da sess√£o de cota√ß√£o especificada
   PrintFormat(&quot;- %-10s %s - %s&quot;, week_day, TimeToString(date_from, TIME_MINUTES), Tim
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
Propriedade de Ativo, TimeToStruct, Estrutura de Dados</p>
<p><h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
1998
<h3>SymbolInfoSessionTrade</h3>
Permite obter a hora de in√≠cio e t√©rmino da sess√£o de negocia√ß√£o especificada para o s√≠mbolo e dia da
semana indicados.
</p>
<pre><code class="language-mql5">
bool¬† SymbolInfoSessionTrade(
   string¬†           name,¬†               // nome do ativo
   ENUM_DAY_OF_WEEK¬† day_of_week,         // dia da semana
   uint¬†             session_index,¬†      // √≠ndice da sess√£o
   datetime&amp;¬†        from,¬†               // hora de in√≠cio da sess√£o
   datetime&amp;¬†        to¬†                  // hora de t√©rmino da sess√£o
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
name
[in]  Nome do ativo.
<h3>ENUM_DAY_OF_WEEK</h3>
[in]  Dia da semana, um valor da enumera√ß√£o ENUM_DAY_OF_WEEK.
uint
[in]  N√∫mero ordinal da sess√£o para a qual se deseja obter o hor√°rio de in√≠cio e t√©rmino. A
indexa√ß√£o das sess√µes come√ßa em 0.
from
[out]  Hora de in√≠cio da sess√£o em segundos a partir de 00:00. A data no valor obtido deve ser
ignorada.
to
[out]  Hora de t√©rmino da sess√£o em segundos a partir de 00:00. A data no valor obtido deve ser
ignorada.
<h3>Valor de retorno</h3>
Se os dados para a sess√£o, s√≠mbolo e dia da semana especificados forem obtidos, retorna true; caso
contr√°rio, retorna false.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
#define SYMBOL_NAME   Symbol()
#define SESSION_INDEX 0
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- imprime o cabe√ßalho com o s√≠mbolo e o √≠ndice da sess√£o SESSION_INDEX e
//--- em um loop de segunda a sexta, imprime no log a hora de in√≠cio e t√©rmino da sess
   PrintFormat(&quot;Symbol %s, Trade session %d:&quot;, SYMBOL_NAME, SESSION_INDEX);
   for(int i=MONDAY; i&lt;SATURDAY; i++)</p>
<p></code></pre>
<p>
<h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
1999
</p>
<pre><code class="language-mql5">
      SymbolInfoSessionTradePrint(SYMBOL_NAME, (ENUM_DAY_OF_WEEK)i, SESSION_INDEX);
   /*
¬†  resultado:
   Symbol GBPUSD, Trade session 0:
   - Monday     00:15 - 23:55
   - Tuesday    00:15 - 23:55
   - Wednesday  00:15 - 23:55
   - Thursday   00:15 - 23:55
   - Friday     00:15 - 23:55
   */
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Imprime no log o hor√°rio de in√≠cio e t√©rmino da sess√£o |
//| de negocia√ß√£o para o s√≠mbolo e dia da semana especificados |
//+------------------------------------------------------------------+
void SymbolInfoSessionTradePrint(const string symbol, const ENUM_DAY_OF_WEEK day_of_we
  {
//--- declaramos vari√°veis para armazenar o in√≠cio e t√©rmino da sess√£o de negocia√ß√£o
   datetime date_from;  // hora de in√≠cio da sess√£o
   datetime date_to;    // hora de t√©rmino da sess√£o
   
//--- obtemos os dados da sess√£o de negocia√ß√£o para o s√≠mbolo e dia da semana
   if(!SymbolInfoSessionTrade(symbol, day_of_week, session_index, date_from, date_to))
     {
      Print(&quot;SymbolInfoSessionTrade() failed. Error &quot;, GetLastError());
      return;
     }
     
//--- criamos o nome do dia da semana a partir da constante de enumera√ß√£o
   string week_day=EnumToString(day_of_week);
   if(week_day.Lower())
      week_day.SetChar(0, ushort(week_day.GetChar(0)-32));
//--- imprimimos no log os dados da sess√£o de negocia√ß√£o especificada
   PrintFormat(&quot;- %-10s %s - %s&quot;, week_day, TimeToString(date_from, TIME_MINUTES), Tim
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
Propriedade de Ativo, TimeToStruct, Estrutura de Dados</p>
<p><h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
2000
<h3>MarketBookAdd</h3>
Abre o livro de ofertas (Depth of Market, DOM) para o ativo selecionado, e ativa notifica√ß√µes de
altera√ß√µes na DOM.
</p>
<pre><code class="language-mql5">
bool¬† MarketBookAdd(
   string¬† symbol¬†     // ativo
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
symbol
[in] O nome do ativo cujo livro de ofertas √© usado no Expert Advisor ou script.
<h3>Valor do Retorno</h3>
O valor true se aberto com sucesso, caso contr√°rio false.
<h3>Observa√ß√£o</h3>
Normalmente, esta fun√ß√£o deve ser chamada a partir da fun√ß√£o OnInit() ou no construtor da classe.
Para manipular a chegada de alertas, o programa Expert Advisor deve conter a fun√ß√£o void
OnBookEvent(string&amp; symbol).
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
#define   SYMBOL_NAME   &quot;GBPUSD&quot;
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- abrimos o livro de ofertas do s√≠mbolo SYMBOL_NAME
   if(!MarketBookAdd(SYMBOL_NAME))
     {
      PrintFormat(&quot;MarketBookAdd(%s) failed. Error &quot;, SYMBOL_NAME, GetLastError());
      return;
     }
//--- mostramos no log a mensagem sobre a abertura bem-sucedida do livro de ofertas
   PrintFormat(&quot;The MarketBook for the &#x27;%s&#x27; symbol was successfully opened and a subsc
   
//--- esperamos 2 segundos
   Sleep(2000);
   
//--- no final, cancelaremos a assinatura do livro de ofertas
   ResetLastError();
   if(MarketBookRelease(SYMBOL_NAME))
      PrintFormat(&quot;MarketBook for the &#x27;%s&#x27; symbol was successfully closed&quot;, SYMBOL_NAM
   else
      PrintFormat(&quot;Error %d occurred when closing MarketBook using the &#x27;%s&#x27; symbol&quot;, G</p>
<p></code></pre>
<p>
<h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
2001
</p>
<pre><code class="language-mql5">
      
   /*
¬†  resultado:
   The MarketBook for the &#x27;GBPUSD&#x27; symbol was successfully opened and a subscription t
   MarketBook for the &#x27;GBPUSD&#x27; symbol was successfully closed
   */
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
Estrutura da Profundidade de Mercado, Estruturas e Classes</p>
<p><h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
2002
<h3>MarketBookRelease</h3>
Fecha o livro de ofertas (Depth of Market, DOM) para um ativo selecionado, e cancela a assinatura
para receber notifica√ß√µes de altera√ß√£o na DOM.
</p>
<pre><code class="language-mql5">
bool¬† MarketBookRelease(
   string¬† symbol¬†     // ativo
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
symbol
[in] Nome do ativo.
<h3>Valor do Retorno</h3>
O valor true se a fechamento foi bem sucedido, caso contr√°rio false.
<h3>Observa√ß√£o</h3>
Normalmente, esta fun√ß√£o deve ser chamada da fun√ß√£o OnDeinit(), se a correspondente fun√ß√£o
MarketBookAdd() foi chamada na fun√ß√£o OnInit(). Ou ela deve ser chamada a partir do destrutor da
classe, se a fun√ß√£o MarketBookAdd() correspondente foi chamada a partir do construtor da classe.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
#define SYMBOL_NAME &quot;GBPUSD&quot;
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- abrimos o livro de ofertas do s√≠mbolo SYMBOL_NAME
   if(!MarketBookAdd(SYMBOL_NAME))
     {
      PrintFormat(&quot;MarketBookAdd(%s) failed. Error &quot;, SYMBOL_NAME, GetLastError());
      return;
     }
//--- mostramos no log a mensagem sobre a abertura bem-sucedida do livro de ofertas
   PrintFormat(&quot;The MarketBook for the &#x27;%s&#x27; symbol was successfully opened and a subsc
   
//--- esperamos 2 segundos
   Sleep(2000);
   
//--- no final, cancelaremos a assinatura do livro de ofertas
//--- mostramos no log a mensagem sobre o cancelamento bem-sucedido da assinatura do l
   ResetLastError();
   if(MarketBookRelease(SYMBOL_NAME))
      PrintFormat(&quot;MarketBook for the &#x27;%s&#x27; symbol was successfully closed&quot;, SYMBOL_NAM
   else</p>
<p></code></pre>
<p>
<h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
2003
</p>
<pre><code class="language-mql5">
      PrintFormat(&quot;Error %d occurred when closing MarketBook using the &#x27;%s&#x27; symbol&quot;, G
      
   /*
¬†  resultado:
   The MarketBook for the &#x27;GBPUSD&#x27; symbol was successfully opened and a subscription t
   MarketBook for the &#x27;GBPUSD&#x27; symbol was successfully closed
   */
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
Estrutura da Profundidade de Mercado, Estruturas e Classes</p>
<p><h3>Informa√ß√µes de Mercado</h3>
¬© 2000-2025, MetaQuotes Ltd.
2004
<h3>MarketBookGet</h3>
Retorna um array de estruturas MqlBookInfo contendo registros da Profundidade de Mercado de um
ativo especificado.
</p>
<pre><code class="language-mql5">
bool¬† MarketBookGet(
   string¬†       symbol,¬†    // ativo
   MqlBookInfo&amp;¬† book[]¬†     // refer√™ncia para um array
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
symbol
[in] Nome do ativo.
book[]
[in] Refer√™ncia para um array de registros de Profundidade de Mercado. O array pode ser pr√©-
alocado para um n√∫mero suficiente de registros. Se um array din√¢mico n√£o tiver sido pr√©-alocado
na mem√≥ria operacional, o terminal cliente alocar√° ele mesmo o array.
<h3>Valor do Retorno</h3>
Retorna true em caso de sucesso, caso contr√°rio false.
<h3>Observa√ß√£o</h3>
A Profundidade de Mercado deve ser pre-aberta pela fun√ß√£o MarketBookAdd().
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
   MqlBookInfo priceArray[];
   bool getBook=MarketBookGet(NULL,priceArray);
   if(getBook)
     {
      int size=ArraySize(priceArray);
      Print(&quot;MarketBookInfo para &quot;,Symbol());
      for(int i=0;i&lt;size;i++)
        {
         Print(i+&quot;:&quot;,priceArray[i].price
               +&quot;    Volume = &quot;+priceArray[i].volume,
               &quot; tipo = &quot;,priceArray[i].type);
        }
     }
   else
     {
      Print(&quot;Could not get contents of the symbol DOM &quot;,Symbol());
     }
</code></pre>
<p>
<h3>Tamb√©m Veja</h3>
Estrutura da Profundidade de Mercado, Estruturas e Classes
</p>
        </article>
        
        <footer>
            <p>Documenta√ß√£o MQL5 - Fonte: MetaQuotes Ltd.</p>
        </footer>
    </main>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
        
        function toggleSidebar() {
            document.querySelector('.sidebar').classList.toggle('open');
        }
        
        function filterNav() {
            const filter = document.getElementById('search').value.toLowerCase();
            const items = document.querySelectorAll('.nav-list li');
            items.forEach(item => {
                const text = item.textContent.toLowerCase();
                item.style.display = text.includes(filter) ? '' : 'none';
            });
        }
    </script>
</body>
</html>