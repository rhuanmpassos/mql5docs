<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data e Hora - MQL5 Docs</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
</head>
<body>
    <nav class="sidebar">
        <div class="logo">
            <h1>MQL5 Docs</h1>
            <p>Documenta√ß√£o Completa</p>
        </div>
        <div class="search-box">
            <input type="text" id="search" placeholder="Buscar..." onkeyup="filterNav()">
        </div>
        <ul class="nav-list" id="nav-list">
            <li class=""><a href="index.html">üìö √çndice</a></li>
            <li class=""><a href="introducao.html">Introducao</a></li>
<li class=""><a href="refer√™ncia_mql5.html">Refer√™ncia MQL5</a></li>
<li class=""><a href="elementos_b√°sicos_da_linguagem.html">Elementos B√°sicos da Linguagem</a></li>
<li class=""><a href="constantes,_enumeradores_e_estruturas.html">Constantes, Enumeradores e Estruturas</a></li>
<li class=""><a href="programas_mql5.html">Programas MQL5</a></li>
<li class=""><a href="vari√°veis_predefinidas.html">Vari√°veis Predefinidas</a></li>
<li class=""><a href="fun√ß√µes_comuns.html">Fun√ß√µes Comuns</a></li>
<li class=""><a href="fun√ß√µes_para_array.html">Fun√ß√µes para Array</a></li>
<li class=""><a href="m√©todos_matriciais_e_vetoriais.html">M√©todos matriciais e vetoriais</a></li>
<li class=""><a href="fun√ß√µes_de_convers√£o.html">Fun√ß√µes de Convers√£o</a></li>
<li class=""><a href="fun√ß√µes_matem√°ticas.html">Fun√ß√µes Matem√°ticas</a></li>
<li class=""><a href="fun√ß√µes_de_string.html">Fun√ß√µes de String</a></li>
<li class="active"><a href="data_e_hora.html">Data e Hora</a></li>
<li class=""><a href="informa√ß√µes_de_conta.html">Informa√ß√µes de Conta</a></li>
<li class=""><a href="verificando_estado.html">Verificando Estado</a></li>
<li class=""><a href="manipula√ß√£o_de_eventos.html">Manipula√ß√£o de eventos</a></li>
<li class=""><a href="informa√ß√µes_de_mercado.html">Informa√ß√µes de Mercado</a></li>
<li class=""><a href="calend√°rio_econ√¥mico.html">Calend√°rio econ√¥mico</a></li>
<li class=""><a href="s√©ries_temporais_e_acesso_a_indicadores.html">S√©ries Temporais e Acesso a Indicadores</a></li>
<li class=""><a href="s√≠mbolos_personalizados.html">S√≠mbolos personalizados</a></li>
<li class=""><a href="opera√ß√µes_de_gr√°ficos.html">Opera√ß√µes de Gr√°ficos</a></li>
<li class=""><a href="fun√ß√µes_de_negocia√ß√£o.html">Fun√ß√µes de Negocia√ß√£o</a></li>
<li class=""><a href="gerenciamento_de_sinais.html">Gerenciamento de sinais</a></li>
<li class=""><a href="fun√ß√µes_de_rede.html">Fun√ß√µes de rede</a></li>
<li class=""><a href="vari√°veis_globais_do_terminal.html">Vari√°veis Globais do Terminal</a></li>
<li class=""><a href="fun√ß√µes_de_arquivo.html">Fun√ß√µes de Arquivo</a></li>
<li class=""><a href="indicadores_customizados.html">Indicadores Customizados</a></li>
<li class=""><a href="fun√ß√µes_de_objeto.html">Fun√ß√µes de Objeto</a></li>
<li class=""><a href="indicadores_t√©cnicos.html">Indicadores T√©cnicos</a></li>
<li class=""><a href="trabalhando_com_resultados_de_otimiza√ß√£o.html">Trabalhando com Resultados de Otimiza√ß√£o</a></li>
<li class=""><a href="trabalhando_com_eventos.html">Trabalhando com Eventos</a></li>
<li class=""><a href="trabalhando_com_opencl.html">Trabalhando com OpenCL</a></li>
<li class=""><a href="trabalhar_com_bancos_de_dados.html">Trabalhar com bancos de dados</a></li>
<li class=""><a href="trabalho_com_directx.html">Trabalho com DirectX</a></li>
<li class=""><a href="metatrader_para_python.html">MetaTrader para Python</a></li>
<li class=""><a href="modelos_onnx.html">Modelos ONNX</a></li>
<li class=""><a href="biblioteca_padr√£o.html">Biblioteca Padr√£o</a></li>
<li class=""><a href="migrando_do_mql4.html">Migrando do MQL4</a></li>
<li class=""><a href="lista_de_fun√ß√µes_mql5.html">Lista de Fun√ß√µes MQL5</a></li>
<li class=""><a href="lista_de_constantes_mql5.html">Lista de Constantes MQL5</a></li>

        </ul>
    </nav>
    
    <main class="content">
        <header>
            <button class="menu-toggle" onclick="toggleSidebar()">‚ò∞</button>
            <h1>Data e Hora</h1>
        </header>
        
        <article>
            <p><h3>Data e Hora</h3>
¬© 2000-2025, MetaQuotes Ltd.
1883
<h3>Data e Hora</h3>
Este √© o grupo de fun√ß√µes para trabalhar com dados do tipo datetime (um inteiro que representa
n√∫mero de segundos decorridos a partir da 0 hora de 1¬∞ Janeiro de 1970).
Para obter contadores e timers de alta-resolu√ß√£o, use a fun√ß√£o GetTickCount(), que produz valores em
milissegundos.
<h3>Fun√ß√£o</h3>
<h3>A√ß√£o</h3>
<h3>TimeCurrent</h3>
Retorna a √∫ltima hora conhecida do servidor (hora da √∫ltima cota√ß√£o
recebida) no formato de datetime(
<h3>TimeTradeServer</h3>
Retorna a hora calculada corrente do servidor de negocia√ß√£o
<h3>TimeLocal</h3>
Retorna a hora do computador local em formato datetime
<h3>TimeGMT</h3>
Retorna a hora GMT em formato datetime com o hor√°rio de ver√£o por
hora local do computador, de onde o terminal cliente est√° executando
<h3>TimeDaylightSavings</h3>
Retorna o sinal do ajuste do hor√°rio de ver√£o
<h3>TimeGMTOffset</h3>
Retorna a diferen√ßa corrente entre a hora GMT e a hora do computador
local em segundos, levando em considera√ß√£o o ajuste do hor√°rio de
ver√£o
<h3>TimeToStruct</h3>
Converte um valor datetime em uma vari√°vel do tipo estrutura
<h3>MqlDateTime</h3>
<h3>StructToTime</h3>
Converte uma vari√°vel do tipo estrutura MqlDateTime em um valor
datetime</p>
<p><h3>Data e Hora</h3>
¬© 2000-2025, MetaQuotes Ltd.
1884
<h3>TimeCurrent</h3>
Retorna a √∫ltima hora conhecida do servidor, hora da √∫ltima cota√ß√£o recebida para um dos ativos
selecionados na janela &quot;Observa√ß√£o de Mercado&quot;. No handler OnTick(), esta fun√ß√£o retorna a hora do
tick recebido, que est√° sendo tratado. Em outros casos (por exemplos, chamar nos handlers OnInit(),
OnDeinit(), OnTimer() e assim por diante), esta fun√ß√£o retorna a hora da √∫ltima cota√ß√£o recebida para
qualquer ativo dispon√≠vel na janela &quot;Observa√ß√£o de Mercado&quot;, a hora exibida no cabe√ßalho desta
janela. O valor da hora √© formado em servidor de negocia√ß√£o e n√£o depende das configura√ß√µes de hora
em seu computador. Existem 2 variantes da fun√ß√£o.
<h3>Chamar sem par√¢metros</h3>
datetime¬† TimeCurrent();
<h3>Chamar com par√¢metro de tipo MqlDateTime</h3>
datetime¬† TimeCurrent(
</p>
<pre><code class="language-mql5">
   MqlDateTime&amp;¬† dt_struct¬†     // vari√°vel de tipo estrutura
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
dt_struct
[out]  MqlDateTime vari√°vel de tipo estrutura.
<h3>Valor do Retorno</h3>
<h3>Valor de tipo datetime</h3>
<h3>Observa√ß√£o</h3>
Se uma vari√°vel de tipo estrutura MqlDateTime for passada como par√¢metro, ela √© preenchida de
acordo.
Para obter contadores e timer de alta-resolu√ß√£o, use a fun√ß√£o GetTickCount(), que produz valores
em milissegundos.
During testing in the strategy tester, TimeCurrent() is simulated according to historical data.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
void OnStart()
  {
//--- declaramos a vari√°vel MqlDateTime a ser preenchida com dados de data/hora e obte
   MqlDateTime tm={};
   datetime    time1=TimeCurrent();    // primeiro formato de chamada: hora da √∫ltima 
   datetime    time2=TimeCurrent(tm);  //segunda forma de chamada: hora da √∫ltima cota
   
//--- exibimos no log o resultado da obten√ß√£o da data/hora e do preenchimento da estru
   PrintFormat(&quot;Tick time: %s\n- Year: %u\n- Month: %02u\n- Day: %02u\n- Hour: %02u\n-
               (string)time1, tm.year, tm.mon, tm.day, tm.hour, tm.min, tm.sec, tm.day
  /*
</code></pre>
<p>
<h3>Resultado</h3>
</p>
<pre><code class="language-mql5">
   Tick time: 2024.04.18 15:40:06</p>
<p></code></pre>
<p>
<h3>Data e Hora</h3>
¬© 2000-2025, MetaQuotes Ltd.
1885
</p>
<pre><code class="language-mql5">
   - Year: 2024
   - Month: 04
   - Day: 18
   - Hour: 15
   - Min: 40
   - Sec: 06
   - Day of Year: 108
   - Day of Week: 4 (THURSDAY)
</code></pre>
<p>
  */
  }</p>
<p><h3>Data e Hora</h3>
¬© 2000-2025, MetaQuotes Ltd.
1886
<h3>TimeTradeServer</h3>
Returna a hora corrente calculada do servidor de negocia√ß√£o. Diferentemente de TimeCurrent(), o
c√°lculo do valor da hora √© realizado no terminal cliente e depende das configura√ß√µes de hora em seu
computador. Existem 2 variantes da fun√ß√£o.
<h3>Chamar sem par√¢metros</h3>
datetime¬† TimeTradeServer();
<h3>Chamar com par√¢metro de tipo MqlDateTime</h3>
datetime¬† TimeTradeServer(
</p>
<pre><code class="language-mql5">
   MqlDateTime&amp;¬† dt_struct¬†     // Vari√°vel de tipo estrutura
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
dt_struct
[out]  Vari√°vel de tipo estrutura MqlDateTime.
<h3>Valor do Retorno</h3>
<h3>Valor de tipo datetime</h3>
<h3>Observa√ß√£o</h3>
Se uma vari√°vel de tipo estrutura MqlDateTime for passada como par√¢metro, ela √© preenchida de
acordo.
Para obter contadores e timer de alta-resolu√ß√£o, use a fun√ß√£o GetTickCount(), que produz valores
em milissegundos.
Durante o teste no testador de estrat√©gia, o tempo do servidor simuladoTimeGMT() √© sempre igual
ao TimeCurrent().
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
void OnStart()
  {
//--- declaramos a vari√°vel MqlDateTime a ser preenchida com dados de data/hora e obte
   MqlDateTime tm={};
   datetime    time_current=TimeCurrent();                  // primeria forma de chama
   datetime    time_server =TimeTradeServer(tm);            // segunda forma de chamad
   int         difference  =int(time_current-time_server);  // diferen√ßa entre Time Cu
   
//--- exibimos no log a hora da √∫ltima cota√ß√£o e a hora atual estimada do servidor de 
   PrintFormat(&quot;Time Current: %s\nTime Trade Server: %s\n- Year: %u\n- Month: %02u\n- 
               &quot;- Hour: %02u\n- Min: %02u\n- Sec: %02u\n- Day of Year: %03u\n- Day of 
               (string)time_current, (string)time_server, tm.year, tm.mon, tm.day, tm.
               EnumToString((ENUM_DAY_OF_WEEK)tm.day_of_week), difference);
  /*
</code></pre>
<p>
<h3>Resultado</h3>
</p>
<pre><code class="language-mql5">
   Time Current: 2024.04.18 16:10:14</p>
<p></code></pre>
<p>
<h3>Data e Hora</h3>
¬© 2000-2025, MetaQuotes Ltd.
1887
</p>
<pre><code class="language-mql5">
   Time Trade Server: 2024.04.18 16:10:15
   - Year: 2024
   - Month: 04
   - Day: 18
   - Hour: 16
   - Min: 10
   - Sec: 15
   - Day of Year: 108
   - Day of Week: 4 (THURSDAY)
   Difference between Time Current and Time Trade Server: -1
</code></pre>
<p>
  */
  }</p>
<p><h3>Data e Hora</h3>
¬© 2000-2025, MetaQuotes Ltd.
1888
<h3>TimeLocal</h3>
Retorna a hora local de um computador, de onde o terminal cliente est√° executando. Existem 2
variantes da fun√ß√£o.
<h3>Chamar sem par√¢metros</h3>
datetime¬† TimeLocal();
<h3>Chamar com par√¢metro de tipo MqlDateTime</h3>
datetime¬† TimeLocal(
</p>
<pre><code class="language-mql5">
   MqlDateTime&amp;¬† dt_struct¬†     // Vari√°vel de tipo estrutura
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
dt_struct
[out]  Vari√°vel de tipo estrutura MqlDateTime.
<h3>Valor do Retorno</h3>
<h3>Valor de tipo datetime</h3>
<h3>Observa√ß√£o</h3>
Se uma vari√°vel de tipo estrutura MqlDateTime for passada como par√¢metro, ela √© preenchida de
acordo.
Para obter contadores e timer de alta-resolu√ß√£o, use a fun√ß√£o GetTickCount(), que produz valores
em milissegundos.
Durante o teste no testador de estrat√©gia, o tempo do servidor simuladoTimeGMT() √© sempre igual
ao TimeCurrent().
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
void OnStart()
  {
//--- declaramos a vari√°vel MqlDateTime para ser preenchida com dados sobre a hora loc
   MqlDateTime tm={};
   datetime    time1=TimeLocal();            // primeira forma de chamada: hora local 
   datetime    time2=TimeLocal(tm); // segunda forma de chamada: hora local do computa
   
//--- exibimos no log o resultado da obten√ß√£o da hora local do preenchimento da estrut
   PrintFormat(&quot;Local time: %s\n- Year: %u\n- Month: %02u\n- Day: %02u\n- Hour: %02u\n
               (string)time1, tm.year, tm.mon, tm.day, tm.hour, tm.min, tm.sec, tm.day
  /*
</code></pre>
<p>
<h3>Resultado</h3>
</p>
<pre><code class="language-mql5">
   Local time: 2024.04.18 19:44:09
   - Year: 2024
   - Month: 04
   - Day: 18
   - Hour: 19</p>
<p></code></pre>
<p>
<h3>Data e Hora</h3>
¬© 2000-2025, MetaQuotes Ltd.
1889
</p>
<pre><code class="language-mql5">
   - Min: 44
   - Sec: 09
   - Day of Year: 108
   - Day of Week: 4 (THURSDAY)
</code></pre>
<p>
  */
  }</p>
<p><h3>Data e Hora</h3>
¬© 2000-2025, MetaQuotes Ltd.
1890
<h3>TimeGMT</h3>
Retorna a hora GMT, que √© calculada levando em considera√ß√£o o ajuste ao hor√°rio de ver√£o pela hora
local no computador de onde o terminal cliente est√° executando. Existem 2 variantes da fun√ß√£o.
<h3>Chamar sem par√¢metros</h3>
datetime¬† TimeGMT();
<h3>Chamar com par√¢metro de tipo MqlDateTime</h3>
datetime¬† TimeGMT(
</p>
<pre><code class="language-mql5">
   MqlDateTime&amp;¬† dt_struct¬†     // Vari√°vel de tipo estrutura
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
dt_struct
[out]  Vari√°vel de tipo estrutura MqlDateTime.
<h3>Valor do Retorno</h3>
<h3>Valor de tipo datetime</h3>
<h3>Observa√ß√£o</h3>
Se uma vari√°vel de tipo estrutura MqlDateTime for passada como par√¢metro, ela √© preenchida de
acordo.
Para obter contadores e timer de alta-resolu√ß√£o, use a fun√ß√£o GetTickCount(), que produz valores
em milissegundos.
Durante o teste no testador de estrat√©gia, o tempo do servidor simuladoTimeGMT() √© sempre igual
ao TimeTradeServer().
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
void OnStart()
  {
//--- declaramos a a vari√°vel MqlDateTime para preencher com dados de data/hora e obte
   MqlDateTime tm={};
   datetime    time1=TimeLocal();            // primeira forma de chamada: hora local 
   datetime    time2=TimeGMT(tm);            // segunda forma de chamada: hora GMT cal
   int         shift=int(time1-time2)/3600;  // deslocamento da hora local em rela√ß√£o 
   
//--- exibimos no log a hora local e a hora GMT com dados da estrutura MqlDateTime pre
   PrintFormat(&quot;Time Local: %s\nTime GMT: %s\n- Year: %u\n- Month: %02u\n- Day: %02u\n
               &quot;- Hour: %02u\n- Min: %02u\n- Sec: %02u\n- Day of Year: %03u\n- Day of 
               (string)time1, (string)time2, tm.year, tm.mon, tm.day, tm.hour, tm.min,
               EnumToString((ENUM_DAY_OF_WEEK)tm.day_of_week), shift);
  /*
</code></pre>
<p>
<h3>Resultado</h3>
</p>
<pre><code class="language-mql5">
   Time Local: 2024.04.18 19:37:23
   Time GMT: 2024.04.18 12:37:23</p>
<p></code></pre>
<p>
<h3>Data e Hora</h3>
¬© 2000-2025, MetaQuotes Ltd.
1891
</p>
<pre><code class="language-mql5">
   - Year: 2024
   - Month: 04
   - Day: 18
   - Hour: 12
   - Min: 37
   - Sec: 23
   - Day of Year: 108
   - Day of Week: 4 (THURSDAY)
   Local time offset relative to GMT: +7
</code></pre>
<p>
  */
  }</p>
<p><h3>Data e Hora</h3>
¬© 2000-2025, MetaQuotes Ltd.
1892
<h3>TimeDaylightSavings</h3>
Retorna corre√ß√£o para o hor√°rio de ver√£o em segundos, ajuste ao hor√°rio de ver√£o foi feito. Depende
das configura√ß√µes de hora de seu computador.
</p>
<pre><code class="language-mql5">
int¬† TimeDaylightSavings();
</code></pre>
<p>
<h3>Valor do Retorno</h3>
Se o ajuste ao hor√°rio de inverno (padr√£o) foi feito, retorna 0.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
void OnStart()
  {
//--- obtemos a corre√ß√£o do hor√°rio de ver√£o em segundos
   int sec_dl=TimeDaylightSavings();
   
//--- criamos um texto de descri√ß√£o para o valor obtido
   string text=(sec_dl==0 ? &quot;Standard \&quot;winter\&quot; time is used&quot; : 
                StringFormat(&quot;Daylight saving time has been switched over. The correct
   
//--- exibimos no log uma descri√ß√£o da corre√ß√£o do hor√°rio de ver√£o em segundos
   Print(text);
   /*
   Resultado para o hor√°rio de &quot;inverno&quot;:
   Standard &quot;winter&quot; time is used
   
   Resultado para o hor√°rio de &quot;ver√£o&quot;:
   Daylight saving time has been switched over. The correction is -3600 seconds
   */
</code></pre>
<p>
  }</p>
<p><h3>Data e Hora</h3>
¬© 2000-2025, MetaQuotes Ltd.
1893
<h3>TimeGMTOffset</h3>
Retorna a diferen√ßa corrente entre a hora GMT e a hora do computador local em segundos. Depende
das configura√ß√µes de hora de seu computador.
</p>
<pre><code class="language-mql5">
int¬† TimeGMTOffset();
</code></pre>
<p>
<h3>Valor do Retorno</h3>
Valor de tipo int, representando a diferen√ßa corrente entre a hora GMT  e a hora local do
computador TimeLocal() em segundos.
<h3>TimeGMTOffset() =  TimeGMT() - TimeLocal()</h3>
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
void OnStart()
  {
//--- obtemos a hora local, a hora GMT e a diferen√ßa entre a hora GMT e a hora local d
   datetime time_local=TimeLocal();
   datetime time_gmt  =TimeGMT();
   int      offset    =TimeGMTOffset();
   
//--- exibimos no log os valores obtidos de tempo e deslocamento
   PrintFormat(&quot;Local Time: %s, GMT Time: %s, Seconds Offset: %+d&quot;, (string)time_local
  /*
</code></pre>
<p>
<h3>Resultado</h3>
</p>
<pre><code class="language-mql5">
   Local Time: 2024.04.18 19:35:52, GMT Time: 2024.04.18 12:35:52, Seconds Offset: -25
</code></pre>
<p>
  */
  }</p>
<p><h3>Data e Hora</h3>
¬© 2000-2025, MetaQuotes Ltd.
1894
<h3>TimeToStruct</h3>
Converte um valor de tipo datetime (n√∫mero de segundos desde 01.01.1970) em uma vari√°vel
estrutura MqlDateTime.
</p>
<pre><code class="language-mql5">
bool¬† TimeToStruct(
   datetime¬†     dt,¬†           // data e hora
   MqlDateTime&amp;¬† dt_struct¬†     // estrutura para a captura de valores
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
dt
[in]  Valor de data e hora para convers√£o.
dt_struct
[out]  Vari√°vel de tipo estrutura MqlDateTime.
<h3>Valor do Retorno</h3>
true se bem sucedido, caso contr√°rio false. Para obter informa√ß√µes sobre o erro, chamar a fun√ß√£o
GetLastError().
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
void OnStart()
  {
//---obtemos a √∫ltima hora conhecida do servidor, declaramos a estrutura de data/hora 
   datetime    time=TimeCurrent();
   MqlDateTime tm  ={};
   if(!TimeToStruct(time,tm))
      Print(&quot;TimeToStruct() failed. Error &quot;, GetLastError());
   
//--- exibimos no log a hora recebida do servidor e o resultado do preenchimento da es
   PrintFormat(&quot;Server time: %s\n- Year: %u\n- Month: %02u\n- Day: %02u\n- Hour: %02u\
               (string)time, tm.year, tm.mon, tm.day, tm.hour, tm.min, tm.sec, tm.day_
  /*
</code></pre>
<p>
<h3>Resultado</h3>
</p>
<pre><code class="language-mql5">
   Server time: 2024.04.18 15:47:27
   - Year: 2024
   - Month: 04
   - Day: 18
   - Hour: 15
   - Min: 47
   - Sec: 27
   - Day of Year: 108
   - Day of Week: 4 (THURSDAY)
</code></pre>
<p>
  */
  }</p>
<p><h3>Data e Hora</h3>
¬© 2000-2025, MetaQuotes Ltd.
1895
<h3>StructToTime</h3>
Converte uma vari√°vel estrutura MqlDateTime em um valor de tipo datetime e retorna o valor
resultante.
datetime¬† StructToTime(
</p>
<pre><code class="language-mql5">
   MqlDateTime&amp;¬† dt_struct¬†     // estrutura da data e hora
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
dt_struct
[in] Vari√°vel de tipo estrutura MqlDateTime.
<h3>Valor do Retorno</h3>
Valor de tipo datetime contendo o n√∫mero de segundos deste 01.01.1970.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
#property script_show_inputs
input int   InpYear  =  0;    // Year
input int   InpMonth =  0;    // Month
input int   InpDay   =  0;    // Day
input int   InpHour  =  0;    // Hour
input int   InpMin   =  0;    // Minutes
input int   InpSec   =  0;    // Seconds
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- corregemos os valores inseridos e os escrevemos nas vari√°veis
   int year =  (InpYear&lt;1970 ? 1970 : InpYear); // Se o ano inserido for inferior a 19
   int month=  (InpMonth&lt;1 ?  1  :  InpMonth &gt; 12  ?  12 :  InpMonth);
   int day  =  (InpDay  &lt;1 ?  1  :  InpDay   &gt; 31  ?  31 :  InpDay);
   int hour =  (InpHour &lt;0 ?  0  :  InpHour  &gt; 23  ?  23 :  InpHour);
   int min  =  (InpMin  &lt;0 ?  0  :  InpMin   &gt; 59  ?  59 :  InpMin);
   int sec  =  (InpSec  &lt;0 ?  0  :  InpSec   &gt; 59  ?  59 :  InpSec);
//--- exibimos os valores inseridos no log
   PrintFormat(&quot;Entered date and time: %04u.%02u.%02u %02u:%02u:%02u&quot;, InpYear, InpMon
   
//--- exibimos os valores corrigidos no log
   PrintFormat(&quot;Corrected date and time: %04u.%02u.%02u %02u:%02u:%02u&quot;, year, month, 
   
//--- escrevemos os valores de entrada nos campos correspondentes da estrutura
   MqlDateTime time_struct={};
   time_struct.year= year;</p>
<p></code></pre>
<p>
<h3>Data e Hora</h3>
¬© 2000-2025, MetaQuotes Ltd.
1896
</p>
<pre><code class="language-mql5">
   time_struct.mon = month;
   time_struct.day = day;
   time_struct.hour= hour;
   time_struct.min = min;
   time_struct.sec = sec;
   
//--- convertemos a data e a hora da estrutura em uma vari√°vel com o tipo datetime e
   datetime time = StructToTime(time_struct);
   
//--- exibimos o resultado da convers√£o de uma vari√°vel do tipo de estrutura MqlDateTi
   Print(&quot;Converted date and time: &quot;,TimeToString(time,TIME_DATE|TIME_MINUTES|TIME_SEC
   /*
¬†  Resultados, se forem inseridos valores padr√£o zero:
   Entered date and time: 0000.00.00 00:00:00
   Corrected date and time: 1970.01.01 00:00:00
   Converted date and time: 1970.01.01 00:00:00
   
¬†  Resultados, se for inserido o dia errado do m√™s de fevereiro do ano atual:
   Entered date and time: 2024.02.31 00:00:00
   Corrected date and time: 2024.02.31 00:00:00
   Converted date and time: 2024.03.02 00:00:00
   */
</code></pre>
<p>
  }
</p>
        </article>
        
        <footer>
            <p>Documenta√ß√£o MQL5 - Fonte: MetaQuotes Ltd.</p>
        </footer>
    </main>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
        
        function toggleSidebar() {
            document.querySelector('.sidebar').classList.toggle('open');
        }
        
        function filterNav() {
            const filter = document.getElementById('search').value.toLowerCase();
            const items = document.querySelectorAll('.nav-list li');
            items.forEach(item => {
                const text = item.textContent.toLowerCase();
                item.style.display = text.includes(filter) ? '' : 'none';
            });
        }
    </script>
</body>
</html>