<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fun√ß√µes de Convers√£o - MQL5 Docs</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
</head>
<body>
    <nav class="sidebar">
        <div class="logo">
            <h1>MQL5 Docs</h1>
            <p>Documenta√ß√£o Completa</p>
        </div>
        <div class="search-box">
            <input type="text" id="search" placeholder="Buscar..." onkeyup="filterNav()">
        </div>
        <ul class="nav-list" id="nav-list">
            <li class=""><a href="index.html">üìö √çndice</a></li>
            <li class=""><a href="introducao.html">Introducao</a></li>
<li class=""><a href="refer√™ncia_mql5.html">Refer√™ncia MQL5</a></li>
<li class=""><a href="elementos_b√°sicos_da_linguagem.html">Elementos B√°sicos da Linguagem</a></li>
<li class=""><a href="constantes,_enumeradores_e_estruturas.html">Constantes, Enumeradores e Estruturas</a></li>
<li class=""><a href="programas_mql5.html">Programas MQL5</a></li>
<li class=""><a href="vari√°veis_predefinidas.html">Vari√°veis Predefinidas</a></li>
<li class=""><a href="fun√ß√µes_comuns.html">Fun√ß√µes Comuns</a></li>
<li class=""><a href="fun√ß√µes_para_array.html">Fun√ß√µes para Array</a></li>
<li class=""><a href="m√©todos_matriciais_e_vetoriais.html">M√©todos matriciais e vetoriais</a></li>
<li class="active"><a href="fun√ß√µes_de_convers√£o.html">Fun√ß√µes de Convers√£o</a></li>
<li class=""><a href="fun√ß√µes_matem√°ticas.html">Fun√ß√µes Matem√°ticas</a></li>
<li class=""><a href="fun√ß√µes_de_string.html">Fun√ß√µes de String</a></li>
<li class=""><a href="data_e_hora.html">Data e Hora</a></li>
<li class=""><a href="informa√ß√µes_de_conta.html">Informa√ß√µes de Conta</a></li>
<li class=""><a href="verificando_estado.html">Verificando Estado</a></li>
<li class=""><a href="manipula√ß√£o_de_eventos.html">Manipula√ß√£o de eventos</a></li>
<li class=""><a href="informa√ß√µes_de_mercado.html">Informa√ß√µes de Mercado</a></li>
<li class=""><a href="calend√°rio_econ√¥mico.html">Calend√°rio econ√¥mico</a></li>
<li class=""><a href="s√©ries_temporais_e_acesso_a_indicadores.html">S√©ries Temporais e Acesso a Indicadores</a></li>
<li class=""><a href="s√≠mbolos_personalizados.html">S√≠mbolos personalizados</a></li>
<li class=""><a href="opera√ß√µes_de_gr√°ficos.html">Opera√ß√µes de Gr√°ficos</a></li>
<li class=""><a href="fun√ß√µes_de_negocia√ß√£o.html">Fun√ß√µes de Negocia√ß√£o</a></li>
<li class=""><a href="gerenciamento_de_sinais.html">Gerenciamento de sinais</a></li>
<li class=""><a href="fun√ß√µes_de_rede.html">Fun√ß√µes de rede</a></li>
<li class=""><a href="vari√°veis_globais_do_terminal.html">Vari√°veis Globais do Terminal</a></li>
<li class=""><a href="fun√ß√µes_de_arquivo.html">Fun√ß√µes de Arquivo</a></li>
<li class=""><a href="indicadores_customizados.html">Indicadores Customizados</a></li>
<li class=""><a href="fun√ß√µes_de_objeto.html">Fun√ß√µes de Objeto</a></li>
<li class=""><a href="indicadores_t√©cnicos.html">Indicadores T√©cnicos</a></li>
<li class=""><a href="trabalhando_com_resultados_de_otimiza√ß√£o.html">Trabalhando com Resultados de Otimiza√ß√£o</a></li>
<li class=""><a href="trabalhando_com_eventos.html">Trabalhando com Eventos</a></li>
<li class=""><a href="trabalhando_com_opencl.html">Trabalhando com OpenCL</a></li>
<li class=""><a href="trabalhar_com_bancos_de_dados.html">Trabalhar com bancos de dados</a></li>
<li class=""><a href="trabalho_com_directx.html">Trabalho com DirectX</a></li>
<li class=""><a href="metatrader_para_python.html">MetaTrader para Python</a></li>
<li class=""><a href="modelos_onnx.html">Modelos ONNX</a></li>
<li class=""><a href="biblioteca_padr√£o.html">Biblioteca Padr√£o</a></li>
<li class=""><a href="migrando_do_mql4.html">Migrando do MQL4</a></li>
<li class=""><a href="lista_de_fun√ß√µes_mql5.html">Lista de Fun√ß√µes MQL5</a></li>
<li class=""><a href="lista_de_constantes_mql5.html">Lista de Constantes MQL5</a></li>

        </ul>
    </nav>
    
    <main class="content">
        <header>
            <button class="menu-toggle" onclick="toggleSidebar()">‚ò∞</button>
            <h1>Fun√ß√µes de Convers√£o</h1>
        </header>
        
        <article>
            <p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1720
<h3>Fun√ß√µes de Convers√£o</h3>
Este √© um grupo de fun√ß√µes que fornece convers√£o de dados de um formato para outro.
The NormalizeDouble() function must be specially noted as it provides the necessary accuracy of the
price presentation. Em opera√ß√µes de negocia√ß√£o, nenhum pre√ßo n√£o normalizado deve ser usado caso
sua precis√£o exceder, mesmo que por um d√≠gito, daquilo que √© requerida pelo servidor de negocia√ß√£o.
<h3>Fun√ß√£o</h3>
<h3>A√ß√£o</h3>
<h3>CharToString</h3>
Converte um c√≥digo de s√≠mbolo em um string de um caractere.
<h3>DoubleToString</h3>
Converte um valor num√©rico para um linha de texto com a precis√£o
especificada
<h3>EnumToString</h3>
Converte um valor de enumera√ß√£o de qualquer tipo para string
<h3>NormalizeDouble</h3>
Arredonda um n√∫mero de ponto flutuando para uma precis√£o
especificada
<h3>StringToDouble</h3>
Converte uma string contendo um representa√ß√£o de s√≠mbolo de
n√∫mero em um n√∫mero de tipo double
<h3>StringToInteger</h3>
Converte uma string contendo uma representa√ß√£o de s√≠mbolo de
n√∫mero em um n√∫mero de tipo long
<h3>StringToTime</h3>
Converte uma string contendo hora ou data no formato
&quot;yyyy.mm.dd [hh:mi]&quot; em um tipo datetime
<h3>TimeToString</h3>
Converte um valor contendo hora em segundos decorridos deste
01.01.1970 em uma string de formato &quot;yyyy.mm.dd hh:mi&quot;
<h3>IntegerToString</h3>
Converte int em uma string de comprimento predefinido
<h3>ShortToString</h3>
Converte c√≥digo de s√≠mbolo (unicode) em string de um s√≠mbolo
<h3>ShortArrayToString</h3>
Copia parte de um array em uma string
<h3>StringToShortArray</h3>
Copia s√≠mbolo a s√≠mbolo uma string para uma parte selecionada de
array de tipo ushort
<h3>CharArrayToString</h3>
Converte c√≥digo de s√≠mbolo (ansi) em um array de um s√≠mbolo
<h3>StringToCharArray</h3>
Copia s√≠mbolo a s√≠mbolo uma string convertida de Unicode para
ANSI, para um lugar selecionado de um array de tipo uchar
<h3>CharArrayToStruct</h3>
Copia uma matriz do tipo uchar para a estrutura POD
<h3>StructToCharArray</h3>
Copia a estrutura POD para a matriz do tipo uchar
<h3>ColorToARGB</h3>
Converte tipo color para tipo uint para receber representa√ß√£o ARGB
da cor.
<h3>ColorToString</h3>
Converte um valor de color em uma string como &quot;R,G,B&quot;
<h3>StringToColor</h3>
Converte uma string &quot;R,G,B&quot; ou uma string com nome de cor em
valor de tipo color</p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1721
<h3>Fun√ß√£o</h3>
<h3>A√ß√£o</h3>
<h3>StringFormat</h3>
Converte um n√∫mero em string de acordo com um formato
predefinido
<h3>Tamb√©m Veja</h3>
Uso de um C√≥digo de P√°gina (Codepage)</p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1722
<h3>CharToString</h3>
Converte um c√≥digo de s√≠mbolo em uma string de um caractere.
</p>
<pre><code class="language-mql5">
string¬† CharToString(
   uchar¬† char_code¬†     // c√≥digo num√©rico de um s√≠mbolo
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
char_code
[in]  C√≥digo de um s√≠mbolo ANSI.
<h3>Valor do Retorno</h3>
String com um s√≠mbolo ANSI.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
string ExtStrArray[224];
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- em um ciclo a partir do c√≥digo do caractere 32 (espa√ßo) at√© o c√≥digo 255(UCHAR_M
//--- preenchemos o array com c√≥digos de caracteres convertidos em uma string de acord
   for(int i=32; i&lt;=UCHAR_MAX; i++)
      ExtStrArray[i-32]=CharToString((uchar)i);
//--- imprimimos no log o t√≠tulo e a tabela de caracteres
   Print(&quot;Table of symbols:&quot;);
   ArrayPrint(ExtStrArray,_Digits,&quot; | &quot;);
   /*
</code></pre>
<p>
¬† resultado:
</p>
<pre><code class="language-mql5">
   Table of symbols:
   [  0] &quot; &quot; | &quot;!&quot; | &quot;&quot;&quot; | &quot;#&quot; | &quot;$&quot; | &quot;%&quot; | &quot;&amp;&quot; | &quot;&#x27;&quot; | &quot;(&quot; | &quot;)&quot; | &quot;*&quot; | &quot;+&quot; | &quot;,&quot; 
   [ 25] &quot;9&quot; | &quot;:&quot; | &quot;;&quot; | &quot;&lt;&quot; | &quot;=&quot; | &quot;&gt;&quot; | &quot;?&quot; | &quot;@&quot; | &quot;A&quot; | &quot;B&quot; | &quot;C&quot; | &quot;D&quot; | &quot;E&quot; 
   [ 50] &quot;R&quot; | &quot;S&quot; | &quot;T&quot; | &quot;U&quot; | &quot;V&quot; | &quot;W&quot; | &quot;X&quot; | &quot;Y&quot; | &quot;Z&quot; | &quot;[&quot; | &quot;\&quot; | &quot;]&quot; | &quot;^&quot; 
   [ 75] &quot;k&quot; | &quot;l&quot; | &quot;m&quot; | &quot;n&quot; | &quot;o&quot; | &quot;p&quot; | &quot;q&quot; | &quot;r&quot; | &quot;s&quot; | &quot;t&quot; | &quot;u&quot; | &quot;v&quot; | &quot;w&quot; 
   [100] &quot;‚Äû&quot; | &quot;‚Ä¶&quot; | &quot;‚Ä†&quot; | &quot;‚Ä°&quot; | &quot;‚Ç¨&quot; | &quot;‚Ä∞&quot; | &quot;–â&quot; | &quot;‚Äπ&quot; | &quot;–ä&quot; | &quot;–å&quot; | &quot;–ã&quot; | &quot;–è&quot; | &quot;—í&quot; 
   [125] &quot;—ú&quot; | &quot;—õ&quot; | &quot;—ü&quot; | &quot; &quot; | &quot;–é&quot; | &quot;—û&quot; | &quot;–à&quot; | &quot;¬§&quot; | &quot;“ê&quot; | &quot;¬¶&quot; | &quot;¬ß&quot; | &quot;–Å&quot; | &quot;¬©&quot; 
   [150] &quot;¬∂&quot; | &quot;¬∑&quot; | &quot;—ë&quot; | &quot;‚Ññ&quot; | &quot;—î&quot; | &quot;¬ª&quot; | &quot;—ò&quot; | &quot;–Ö&quot; | &quot;—ï&quot; | &quot;—ó&quot; | &quot;–ê&quot; | &quot;–ë&quot; | &quot;–í&quot; 
   [175] &quot;–ü&quot; | &quot;–†&quot; | &quot;–°&quot; | &quot;–¢&quot; | &quot;–£&quot; | &quot;–§&quot; | &quot;–•&quot; | &quot;–¶&quot; | &quot;–ß&quot; | &quot;–®&quot; | &quot;–©&quot; | &quot;–™&quot; | &quot;–´&quot; 
   [200] &quot;–∏&quot; | &quot;–π&quot; | &quot;–∫&quot; | &quot;–ª&quot; | &quot;–º&quot; | &quot;–Ω&quot; | &quot;–æ&quot; | &quot;–ø&quot; | &quot;—Ä&quot; | &quot;—Å&quot; | &quot;—Ç&quot; | &quot;—É&quot; | &quot;—Ñ&quot; 
   */
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3></p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1723
<h3>StringToCharArray, ShortToString, StringGetCharacter</h3></p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1724
<h3>CharArrayToString</h3>
Copia e converte parte de um array de tipo uchar em uma string retornada
</p>
<pre><code class="language-mql5">
string¬† CharArrayToString(
   uchar¬† array[],¬†             // array
   int¬†   start=0,¬†             // posi√ß√£o de in√≠cio no array
   int¬†   count=-1¬†             // n√∫mero de s√≠mbolos
   uint¬†   codepage=CP_ACP¬†     // c√≥digo de p√°gina
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
array[]
[in]  Array de tipo uchar.
start=0
[in]  Posi√ß√£o a partir da qual a c√≥pia come√ßa. por default 0 √© usado.
count=-1
[in]  N√∫mero de elementos do array para c√≥pia. Define o comprimento de uma string resultante.
Valor padr√£o √© -1, que significa copiar at√© o fim do array, ou at√© o terminador 0.
codepage=CP_ACP
[in]  O valor do c√≥digo de p√°gina. Para os mais usados c√≥digos de p√°gina forne√ßa as constantes
apropriadas.
<h3>Valor do Retorno</h3>
String.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- criamos um array de c√≥digos de caracteres
   uchar array[]= { 84, 104, 105, 115,  32, 105, 115,  32,  97,  32,
                   116, 101, 115, 116,  32, 111, 102,  32, 116, 104,
                   101,  32,  67, 104,  97, 114,  65, 114, 114,  97,
                   121,  84, 111,  83, 116, 114, 105, 110, 103,  40,
                    41,  32, 102, 117, 110,  99, 116, 105, 111, 110
//--- imprimimos no log um array de c√≥digos convertidos em uma string
   Print(CharArrayToString(array));
//--- criamos um array de c√≥digos de caracteres e com terminal zero
   uchar array_z[]= { 84, 104, 105, 115,  32, 105, 115,  32,  97,  32,
                     116, 101, 115, 116,   0,  32, 111, 102,  32, 116,</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1725
</p>
<pre><code class="language-mql5">
                     104, 101,  32,  67, 104,  97, 114,  65, 114, 114,
                      97, 121,  84, 111,  83, 116, 114, 105, 110, 103,
                      40,  41,  32, 102, 117, 110,  99, 116, 105, 111, 110
                    };
//--- imprimimos no log o segundo array de c√≥digos com o terminal zero
   PrintFormat(&quot;%s ...&quot;, CharArrayToString(array_z));
   /*
</code></pre>
<p>
¬† resultado:
</p>
<pre><code class="language-mql5">
   This is a test of the CharArrayToString() function
   This is a test ...
   */
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
StringToCharArray, ShortArrayToString, Uso de um C√≥digo de P√°gina (Codepage)</p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1726
<h3>CharArrayToStruct</h3>
Copia uma matriz do tipo uchar para a estrutura POD.
</p>
<pre><code class="language-mql5">
bool¬† CharArrayToStruct(
   void&amp;         struct_object,¬†   // estrutura
   const uchar&amp;¬† char_array[],¬†    // matriz
   uint¬†         start_pos=0¬†      // posi√ß√£o inicial na matriz
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
struct_object
[in]  Refer√™ncia para qualquer tipo de estrutura POD (estruturas contendo apenas tipos de dados
simples).
char_array[]
[in]  Matriz do tipo uchar.
start_pos=0
[in]  Posi√ß√£o na matriz a partir da qual ser√£o copiados os dados.
<h3>Valor retornado</h3>
Retorna true em caso de sucesso, caso contr√°rio, false.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
#define DATA_TOTAL 4
</code></pre>
<p>
<h3>MqlRates ExtDataRates[DATA_TOTAL];</h3>
uchar    ExtCharArray[];
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- copiamos os dados das √∫ltimas quatro barras para a matriz uchar
   ResetLastError();
   for(int i=0; i&lt;DATA_TOTAL; i++)
     {
      if(!CopyRatesToCharArray(i, ExtCharArray))
         return;
     }
//--- copiamos todos os dados dispon√≠veis da matriz uchar para a matriz de estruturas 
   for(int i=0; i&lt;DATA_TOTAL; i++)
     {
      ResetLastError();</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1727
</p>
<pre><code class="language-mql5">
      if(!CharArrayToStruct(ExtDataRates[i], ExtCharArray, sizeof(MqlRates)*i))
        {
         Print(&quot;CharArrayToStruct() failed. Error code: &quot;, GetLastError());
         return;
        }
      //--- caso a c√≥pia de dados da matriz uchar para a estrutura MqlRates seja bem-s
      //--- imprimimos no log os dados copiados para a estrutura
      MqlRatesPrint(ExtDataRates[i]);
     }
   /*
</code></pre>
<p>
¬† resultado:
</p>
<pre><code class="language-mql5">
   MqlRates data:
    Time = 2024.02.21 09:00;
    Open = 1.08116;
    High = 1.08141;
    Low = 1.08062;
    Close = 1.08124;
    Tick volume = 5344;
    Spread = 1;
    Real volume = 0
   MqlRates data:
    Time = 2024.02.21 08:00;
    Open = 1.08149;
    High = 1.08153;
    Low = 1.08073;
    Close = 1.08114;
    Tick volume = 3607;
    Spread = 2;
    Real volume = 0
   MqlRates data:
    Time = 2024.02.21 07:00;
    Open = 1.08143;
    High = 1.08165;
    Low = 1.08122;
    Close = 1.08150;
    Tick volume = 2083;
    Spread = 0;
    Real volume = 0
   MqlRates data:
    Time = 2024.02.21 06:00;
    Open = 1.08178;
    High = 1.08190;
    Low = 1.08132;
    Close = 1.08142;
    Tick volume = 1733;</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1728
</p>
<pre><code class="language-mql5">
    Spread = 0;
    Real volume = 0
   */
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Copia os dados da barra pelo √≠ndice especificado                 |
//| atrav√©s da estrutura MqlRates em uma matriz uchar                |
//+------------------------------------------------------------------+
bool CopyRatesToCharArray(const int index, uchar &amp;data_array[])
  {
   MqlRates rates[1];
   uint     start=sizeof(MqlRates);
   ResetLastError();
   if(CopyRates(Symbol(), PERIOD_CURRENT, index, 1, rates)!=1)
     {
      Print(&quot;CopyRates() failed. Error code: &quot;, GetLastError());
      return(false);
     }
   if(!StructToCharArray(rates[0], data_array, start*index))
     {
      Print(&quot;StructToCharArray() failed. Error code: &quot;, GetLastError());
      return(false);
     }
   return(true);
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Imprimimos no log os campos da estrutura MqlRates                |
//+------------------------------------------------------------------+
void MqlRatesPrint(MqlRates &amp;rates)
  {
//--- criamos uma string de sa√≠da
   string text=StringFormat(&quot; Time = %s;\n&quot;
                            &quot; Open = %.*f;\n&quot;
                            &quot; High = %.*f;\n&quot;
                            &quot; Low = %.*f;\n&quot;
                            &quot; Close = %.*f;\n&quot;
                            &quot; Tick volume = %I64u;\n&quot;
                            &quot; Spread = %d;\n&quot;
                            &quot; Real volume = %I64u&quot;,
                            TimeToString(rates.time),
                            _Digits, rates.open,
                            _Digits, rates.high,
                            _Digits, rates.low,
                            _Digits, rates.close,
                            rates.tick_volume,
                            rates.spread,
                            rates.real_volume);</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1729
</p>
<pre><code class="language-mql5">
//--- imprimimos no log o t√≠tulo e a string de sa√≠da
   Print(&quot;MqlRates data:\n&quot;, text, &quot;\n&quot;);
</code></pre>
<p>
  }
<h3>Veja tamb√©m</h3>
StringToCharArray, ShortArrayToString, StructToCharArray, Uso da p√°gina de c√≥digo,
<h3>FileReadStruct, Uni√£o (union), MathSwap</h3></p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1730
<h3>StructToCharArray</h3>
Copia a estrutura POD para a matriz do tipo uchar.
</p>
<pre><code class="language-mql5">
bool¬† StructToCharArray(
   const void&amp;  struct_object,¬†    // estrutura
   uchar&amp;¬†      char_array[],¬†     // matriz
   uint¬†        start_pos=0¬†       // posi√ß√£o inicial na matriz
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
struct_object
[in]  Refer√™ncia para qualquer tipo de estrutura POD (estruturas contendo apenas tipos de dados
simples).
char_array[]
[in]  Matriz do tipo uchar.
start_pos=0
[in]  Posi√ß√£o na matriz a partir da qual ser√£o copiados os dados.
<h3>Valor retornado</h3>
Retorna true em caso de sucesso, caso contr√°rio, false.
<h3>Observa√ß√£o</h3>
Ao copiar, a matriz din√¢mica √© expandida automaticamente (ArrayResize) se n√£o houver espa√ßo
suficiente. Se n√£o for poss√≠vel expandir a matriz para o valor requerido, a fun√ß√£o retornar√° um erro.
<h3>Exemplo:</h3>
uchar    ExtCharArray[];
<h3>MqlRates ExtRates[1];</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- copiamos na estrutura MqlRates os dados de uma barra atual
   if(CopyRates(Symbol(), PERIOD_CURRENT, 0, 1, ExtRates)!=1)
     {
      Print(&quot;CopyRates() failed. Error code: &quot;, GetLastError());
      return;
     }
//--- imprimimos no log os dados recebidos na estrutura MqlRates
   Print(&quot;Data in the structure immediately after receiving it:&quot;);
   MqlRatesPrint(ExtRates[0]);</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1731
</p>
<pre><code class="language-mql5">
//--- copiamos a estrutura da p√°gina em um array do tipo uchar
   ResetLastError();
   if(!StructToCharArray(ExtRates[0], ExtCharArray))
     {
      Print(&quot;StructToCharArray() failed. Error code: &quot;, GetLastError());
      return;
     }
//--- limpamos a estrutura
   ZeroMemory(ExtRates[0]);
//--- imprimimos os dados na estrutura ap√≥s a limpeza
   Print(&quot;\nData in the structure after ZeroMemory():&quot;);
   MqlRatesPrint(ExtRates[0]);
//--- agora vamos copiar os dados do array uchar para a estrutura MqlRates
   if(!CharArrayToStruct(ExtRates[0], ExtCharArray))
     {
      Print(&quot;CharArrayToStruct() failed. Error code: &quot;, GetLastError());
      return;
     }
//--- imprimimos os dados na estrutura MqlRates depois de copi√°-los do array uchar
   Print(&quot;\nData in the MqlRates structure after copying it from a uchar array:&quot;);
   MqlRatesPrint(ExtRates[0]);
   /*
</code></pre>
<p>
¬† resultado:
</p>
<pre><code class="language-mql5">
   Data in the structure immediately after receiving it:
   MqlRates data:
    Time = 2024.02.21 07:00;
    Open = 1.08143;
    High = 1.08158;
    Low = 1.08122;
    Close = 1.08137;
    Tick volume = 1341;
    Spread = 4;
    Real volume = 0
   Data in the structure after ZeroMemory():
   MqlRates data:
    Time = 0;
    Open = 0.00000;
    High = 0.00000;
    Low = 0.00000;
    Close = 0.00000;
    Tick volume = 0;
    Spread = 0;
    Real volume = 0</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1732
</p>
<pre><code class="language-mql5">
   Data in the MqlRates structure after copying it from a uchar array:
   MqlRates data:
    Time = 2024.02.21 07:00;
    Open = 1.08143;
    High = 1.08158;
    Low = 1.08122;
    Close = 1.08137;
    Tick volume = 1341;
    Spread = 4;
    Real volume = 0
   */
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Imprimimos no log os campos da estrutura MqlRates                |
//+------------------------------------------------------------------+
void MqlRatesPrint(MqlRates &amp;rates)
  {
//--- criamos uma string de sa√≠da
   string text=StringFormat(&quot; Time = %s;\n&quot;
                            &quot; Open = %.*f;\n&quot;
                            &quot; High = %.*f;\n&quot;
                            &quot; Low = %.*f;\n&quot;
                            &quot; Close = %.*f;\n&quot;
                            &quot; Tick volume = %I64u;\n&quot;
                            &quot; Spread = %d;\n&quot;
                            &quot; Real volume = %I64u&quot;,
                            TimeToString(rates.time),
                            _Digits, rates.open,
                            _Digits, rates.high,
                            _Digits, rates.low,
                            _Digits, rates.close,
                            rates.tick_volume,
                            rates.spread,
                            rates.real_volume);
//--- imprimimos no log o t√≠tulo e a string de sa√≠da
   Print(&quot;MqlRates data:\n&quot;, text);
</code></pre>
<p>
  }
<h3>Veja tamb√©m</h3>
StringToCharArray, ShortArrayToString,CharArrayToStruct, Uso da p√°gina de c√≥digo,
<h3>FileWriteStruct, Uni√£o (union), MathSwap</h3></p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1733
<h3>ColorToARGB</h3>
A fun√ß√£o converte o tipo color em tipo uint para obter a representa√ß√£o ARGB da cor. O formato de cor
ARGB √© usado para gerar recurso gr√°fico, exibi√ß√£o de texto, assim como a classe da biblioteca padr√£o
CCanvas.
uint¬† ColorToARGB(
</p>
<pre><code class="language-mql5">
   color¬† clr,¬†         // converte color em formato de cor
   uchar ¬†alpha=255     // canal alfa para gerenciamente da transpar√™ncia de cor
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
clr
[in]  Valor da cor em vari√°vel de tipo color.
alpha
[in]  O valor do canal alfa usado para receber a cor em formato ARGB. O valor pode ser definido de
0 (uma cor de um pixel de primeiro plano n√£o altera a exibi√ß√£o de um pixel subjacente) at√© 255
(uma cor de um pixel subjacente √© completamente substitu√≠da pela cor do pixel do primeiro plano).
Transpar√™ncia de cor em termos de percentagem √© calculada como (1-alpha/255)*100%. Em outras
palavras, quanto menor o valor de canal alfa, mais transparente √© a cor.
<h3>Valor de retorno</h3>
Apresenta a cor em formato ARGB onde os valores Alfa, Red, Green, Blue (canal alfa, vermelho,
verde, azul) s√£o definidos em s√©ries de quatro bytes de tipo uint.
<h3>Observa√ß√£o</h3>
RGB √© um formato b√°sico e comumente usado para descrever cor de pixel em uma tela em gr√°ficos
de computador. Nomes de cores b√°sicas s√£o usadas para atribuir componentes de cor vermelho,
verde e azul. Cada componente √© descrito por um byte especificando a satura√ß√£o de cor em uma
faixa de 0 a 255 (0x00 a 0XFF formato hexadecimal). J√° que a cor branca cont√©m todas as cores, ela
√© descrita como 0xFFFFFF, ou seja, cada um dos tr√™s componentes est√° presente pelo valor m√°ximo
de 0xFF.
Entretanto, algumas tarefas requerem especificar a transpar√™ncia da cor para descrever a apar√™ncia
de uma imagem no caso dela ficar coberta, atrav√©s de uma cor com algum grau de transpar√™ncia. O
conceito de canal alfa √© introduzido para tais casos. Ele √© implementado como componente adicional
do formato RGB. A estrutura do ARGB √© mostrado abaixo.
Valores ARGB s√£o tipicamente expressos usando formato hexadecimal com cada par de d√≠gitos
representando os valores dos canais Alpha, Green, e Blue, respectivamente. Por exemplo, a cor
80FFFF00 representa 50.2% amarelo opaco. Inicialmente, 0x80 define valor alfa de 50.2%, uma vez
que √© 50.2% de valor 0xFF. Ent√£o, o primeiro par FF define o valor mais alto do componente
vermelho; o pr√≥ximo par FF √© como o anterior mas para o componente verde; e par final 00
representa o valor mais baixo do componente azul que pode haver (aus√™ncia de azul). Combina√ß√£o</p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1734
de cores verde e vermelha resultam na cor amarela. Se o canal alfa n√£o for usado, a entrada pode
ser reduzida para 6 RRGGBB d√≠gitos, √© por isso que os valores de canal alfa s√£o armazenados nos
bits de topo do tipo inteiro uint.
Dependendo do contexto, d√≠gitos hexadecimais podem ser escritos com o prefixo &#x27;0x&#x27; ou &#x27;#&#x27;, por
exemplo, 80FFFF00, 0x80FFFF00 ou #80FFFF00.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Programa Script da fun√ß√£o start (iniciar)¬†                       |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- define transpar√™ncia
   uchar alpha=0x55;  // 0x55 significa 55/255=21.6 % de transpar√™ncia
   //--- fazer convers√£o de ARGB para cor clrBlue
   PrintFormat(&quot;0x%.8X - clrBlue&quot;,clrBlue);
   PrintFormat(&quot;0x%.8X - clrBlue ARGB com alpha=0x55 (transparency 21.6%%)&quot;,ColorToARG
   //--- fazer convers√£o de ARGB para cor clrGreen
   PrintFormat(&quot;0x%.8X - clrGreen&quot;,clrGreen);
   PrintFormat(&quot;0x%.8X - clrGreen ARGB com alpha=0x55 (transparency 21.6%%)&quot;,ColorToAR
   //--- fazer convers√£o de ARGB para cor clrRed
   PrintFormat(&quot;0x%.8X - clrRed&quot;,clrRed);
   PrintFormat(&quot;0x%.8X - clrRed ARGB com alpha=0x55 (transparency 21.6%%)&quot;,ColorToARGB
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
Recursos, ResourceCreate(), TextOut(), Tipo color, Tipos char, short, int e long</p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1735
<h3>ColorToString</h3>
Converte valor de cor em string na forma de &quot;R,G,B&quot;.
</p>
<pre><code class="language-mql5">
string¬† ColorToString(
   color¬† color_value,¬†    // valor da cor
   bool¬†  color_name¬†      // mostrar ou n√£o nome da cor
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
color_value
[in]  Valor da cor em vari√°vel de tipo color.
color_name
[in]  Sinaliza a necessidade de retornar o nome da cor, se o nome da cor for id√™ntica a uma das
constantes de cor  predefinidas.
<h3>Valor do Retorno</h3>
Representa√ß√£o de string da cor como &quot;R,G,B&quot;, onde R, G e B s√£o constantes decimais de 0 a 255
convertidos em uma string. Se o par√¢metro color_name=true for definido, a fun√ß√£o tentar√°
converter o valor da cor no nome da cor.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
   string clr=ColorToString(C&#x27;0,255,0&#x27;); // cor verde
   Print(clr);
   clr=ColorToString(C&#x27;0,255,0&#x27;,true);   // obt√©m a constante de cor
   Print(clr);
</code></pre>
<p>
<h3>Tamb√©m Veja</h3>
<h3>StringToColor, ColorToARGB</h3></p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1736
<h3>DoubleToString</h3>
Converte um valor num√©rico em string de texto.
</p>
<pre><code class="language-mql5">
string¬† DoubleToString(
   double¬† value,¬†     // n√∫mero
   int¬†    digits=8¬†   // numero de d√≠gitos depois do ponto decimal
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
value
[in]  Valor com um ponto flutuante.
digits
[in]  Formato de precis√£o. Se o valor de digits estiver na faixa entre 0 e 16, um representa√ß√£o de
</p>
<pre><code class="language-mql5">
string de um n√∫mero com a quantidade especificada de d√≠gitos depois do ponto ser√° obtida. Se o
</code></pre>
<p>
valor de digits estiver na faixa entre -1 e -16, uma representa√ß√£o de string de um n√∫mero em
nota√ß√£o cient√≠fica com a quantidade especificada de d√≠gitos depois do ponto decimal ser√° obtida.
Em todos os outros casos, o valor da string conter√° 8 d√≠gitos depois do ponto decimal.
<h3>Valor do Retorno</h3>
String contendo uma representa√ß√£o de um n√∫mero com a precis√£o especificada.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
   Print(&quot;DoubleToString(120.0 + M_PI) : &quot;,DoubleToString(120.0+M_PI));
   Print(&quot;DoubleToString(120.0 + M_PI,16) : &quot;,DoubleToString(120.0+M_PI,16));
   Print(&quot;DoubleToString(120.0 + M_PI,-16) : &quot;,DoubleToString(120.0+M_PI,-16));
   Print(&quot;DoubleToString(120.0 + M_PI,-1) : &quot;,DoubleToString(120.0+M_PI,-1));
   Print(&quot;DoubleToString(120.0 + M_PI,-20) : &quot;,DoubleToString(120.0+M_PI,-20));
</code></pre>
<p>
<h3>Tamb√©m Veja</h3>
<h3>NormalizeDouble, StringToDouble</h3></p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1737
<h3>EnumToString</h3>
Converte um valor de enumera√ß√£o de qualquer tipo para forma de texto.
</p>
<pre><code class="language-mql5">
string¬† EnumToString(
   any_enum¬† value¬†     // qualquer tipo de valor de enumera√ß√£o
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
value
[in]  Qualquer tipo de valor de enumera√ß√£o.
<h3>Valor do Retorno</h3>
Uma string com uma representa√ß√£o de texto da enumera√ß√£o. Para obter a mensagem de erro chame
a fun√ß√£o GetLastError().
<h3>Observa√ß√£o</h3>
A fun√ß√£o pode definir os seguintes valores de erro na vari√°vel _LastError:
¬∑ ERR_INTERNAL_ERROR ‚Äì erro do ambiente de execu√ß√£o
¬∑ ERR_NOT_ENOUGH_MEMORY ‚Äì sem mem√≥ria suficiente para concluir a opera√ß√£o
¬∑ ERR_INVALID_PARAMETER ‚Äì n√£o pode permitir o nome do valor da enumera√ß√£o
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
enum interval  // Enumera√ß√£o de constantes nomeadas
  {
   month=1,     // intervalo de um m√™s
   two_months,  // dois meses
   quarter,     // tr√™s meses - um quadrimestre
   halfyear=6,  // meio ano
   year=12,     // um ano - 12 months
</code></pre>
<p>
  };
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Programa Script da fun√ß√£o start (iniciar)¬†                       |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- define o intervalo de tempo igual a um m√™s
   interval period=month;
   Print(EnumToString(period)+&quot;=&quot;+IntegerToString(period));
//--- define o intervalo de tempo igual a um quadrimestre (tr√™s meses)
   period=quarter;
   Print(EnumToString(period)+&quot;=&quot;+IntegerToString(period));
//--- define o intervalo de tempo igual a um ano (12 meses)
   period=year;</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1738
</p>
<pre><code class="language-mql5">
   Print(EnumToString(period)+&quot;=&quot;+IntegerToString(period));
//--- verifica como o tipo de ordem √© mostrado
   ENUM_ORDER_TYPE type=ORDER_TYPE_BUY;
   Print(EnumToString(type)+&quot;=&quot;+IntegerToString(type));
//--- verifica como valores incorretos s√£o mostrados
   type=WRONG_VALUE;
   Print(EnumToString(type)+&quot;=&quot;+IntegerToString(type));
// Resultado:
// month=1
// quarter=3
// year=12
// ORDER_TYPE_BUY=0
// ENUM_ORDER_TYPE::-1=-1
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
<h3>Enumera√ß√µes, Vari√°veis de entrada</h3></p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1739
<h3>IntegerToString</h3>
Esta fun√ß√£o converte um valor de tipo inteiro em uma string de comprimento especificado e retorna a
</p>
<pre><code class="language-mql5">
string obtida.
string¬† IntegerToString(
   long¬†   number,¬†             // n√∫mero
   int¬†    str_len=0,¬†          // comprimento da string resultado
   ushort¬† fill_symbol=&#x27; &#x27;¬†     // s√≠mbolo de preenchimento
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
number
[in]  N√∫mero para convers√£o.
str_len=0
[in]  Comprimento da string. Se o comprimento da string resultante for maior que aquele
especificado, a string n√£o √© truncada. Se ela for menor, os s√≠mbolos de preenchimento (filler)
ser√£o adicionados a esquerda.
fill_symbol=&#x27; &#x27;
[in]  S√≠mbolo de preenchimento. Por padr√£o, ele √© um espa√ßo.
<h3>Valor do Retorno</h3>
String.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
#define DATA_TOTAL 1001
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- em um ciclo percorrendo DATA_TOTAL, exibimos as strings com √≠ndice divis√≠vel por
//--- na string √© exibido o valor do √≠ndice no formato de quatro caracteres
//--- caso o comprimento da string seja menor que 4 caracteres, o valor do √≠ndice do c
//--- na string √© precedido por zeros √† esquerda
   for(int i=0; i&lt;DATA_TOTAL; i++)
     {
      if(i%100==0)
         Print(&quot;Converted index value: &quot;,IntegerToString(i,4,&#x27;0&#x27;));
     }
   /*
</code></pre>
<p>
¬† resultado:
</p>
<pre><code class="language-mql5">
   Converted index value: 0000
   Converted index value: 0100</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1740
</p>
<pre><code class="language-mql5">
   Converted index value: 0200
   Converted index value: 0300
   Converted index value: 0400
   Converted index value: 0500
   Converted index value: 0600
   Converted index value: 0700
   Converted index value: 0800
   Converted index value: 0900
   Converted index value: 1000
   */
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
<h3>StringToInteger</h3></p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1741
<h3>ShortToString</h3>
Converte um c√≥digo de s√≠mbolo (unicode) em uma string de um s√≠mbolo e retorna a string resultante.
</p>
<pre><code class="language-mql5">
string¬† ShortToString(
   ushort¬† symbol_code¬†     // s√≠mbolo
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
symbol_code
[in]  C√≥digo do s√≠mbolo. Ao inv√©s de um c√≥digo de s√≠mbolo, voc√™ pode usar uma string literal
contendo um s√≠mbolo ou uma string literal com c√≥digo hexadecimal de 2-bytes correspondente ao
s√≠mbolo da tabela Unicode.
<h3>Valor do Retorno</h3>
String.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- em um ciclo imprimimos 18 caracteres, come√ßando pelo caractere com o n√∫mero Unic
   for(int i=0; i&lt;18; i++)
     {
      ushort code=0x23E9+(ushort)i;
      PrintFormat(&quot;Unicode number U+%hX: %s&quot;,code,ShortToString(code));
     }
   /*
</code></pre>
<p>
¬† resultado:
</p>
<pre><code class="language-mql5">
   Unicode number U+23E9: ‚è©
   Unicode number U+23EA: ‚è™
   Unicode number U+23EB: ‚è´
   Unicode number U+23EC: ‚è¨
   Unicode number U+23ED: ‚è≠
   Unicode number U+23EE: ‚èÆ
   Unicode number U+23EF: ‚èØ
   Unicode number U+23F0: ‚è∞
   Unicode number U+23F1: ‚è±
   Unicode number U+23F2: ‚è≤
   Unicode number U+23F3: ‚è≥
   Unicode number U+23F4: ‚è¥
   Unicode number U+23F5: ‚èµ
   Unicode number U+23F6: ‚è∂
   Unicode number U+23F7: ‚è∑</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1742
</p>
<pre><code class="language-mql5">
   Unicode number U+23F8: ‚è∏
   Unicode number U+23F9: ‚èπ
   Unicode number U+23FA: ‚è∫
   */
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
<h3>StringToCharArray, CharToString, StringGetCharacter</h3></p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1743
<h3>ShortArrayToString</h3>
Copia parte de um array em uma string retornada.
</p>
<pre><code class="language-mql5">
string¬† ShortArrayToString(
   ushort¬† array[],¬†     // array
   int¬†    start=0,¬†     // posi√ß√£o de come√ßo do array
   int¬†    count=-1¬†     // n√∫mero de s√≠mbolos
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
array[]
[in]  Array de tipo ushort (an√°logo ao tipo wchar_t).
start=0
[in] Posi√ß√£o, a partir da qual a c√≥pia come√ßa, Default - 0.
count=-1
[in]  N√∫mero de elemento do array para copiar. Define o comprimento de uma string resultante.
Valor padr√£o √© -1, que significa copiar at√© o fim do array, ou at√© o terminador 0.
<h3>Valor do Retorno</h3>
String.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
#define ROW_SIZE 16
</code></pre>
<p>
ushort ExtShortArray[]={0x2190,0x2191,0x2192,0x2193,0x2194,0x2195,0x2196,0x2197,0x2198
</p>
<pre><code class="language-mql5">
                        0x21A0,0x21A1,0x21A2,0x21A3,0x21A4,0x21A5,0x21A6,0x21A7,0x21A8
                        0x21B0,0x21B1,0x21B2,0x21B3,0x21B4,0x21B5,0x21B6,0x21B7,0x21B8
                        0x21C0,0x21C1,0x21C2,0x21C3,0x21C4,0x21C5,0x21C6,0x21C7,0x21C8
                        0x21D0,0x21D1,0x21D2,0x21D3,0x21D4,0x21D5,0x21D6,0x21D7,0x21D8
                        0x21E0,0x21E1,0x21E2,0x21E3,0x21E4,0x21E5,0x21E6,0x21E7,0x21E8
                        0x21F0,0x21F1,0x21F2,0x21F3,0x21F4,0x21F5,0x21F6,0x21F7,0x21F8
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- calculamos o n√∫mero de linhas na tabela de caracteres 7x16
   int total=(int)ExtShortArray.Size()/ROW_SIZE;
//--- em um ciclo pelas linhas da tabela imprimimos no log 7 conjuntos de setas, 16 em
   for(int i=0; i&lt;total; i++)
     {
      int row=i*ROW_SIZE;
      PrintFormat(&quot;Arrow set %u: %s&quot;,i+1,ShortArrayToString(ExtShortArray,row,ROW_SIZE</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1744
</p>
<pre><code class="language-mql5">
     }
   /*
</code></pre>
<p>
¬† resultado:
</p>
<pre><code class="language-mql5">
   Arrow set 1: ‚Üê‚Üë‚Üí‚Üì‚Üî‚Üï‚Üñ‚Üó‚Üò‚Üô‚Üö‚Üõ‚Üú‚Üù‚Üû‚Üü
   Arrow set 2: ‚Ü†‚Ü°‚Ü¢‚Ü£‚Ü§‚Ü•‚Ü¶‚Üß‚Ü®‚Ü©‚Ü™‚Ü´‚Ü¨‚Ü≠‚ÜÆ‚ÜØ
   Arrow set 3: ‚Ü∞‚Ü±‚Ü≤‚Ü≥‚Ü¥‚Üµ‚Ü∂‚Ü∑‚Ü∏‚Üπ‚Ü∫‚Üª‚Üº‚ÜΩ‚Üæ‚Üø
   Arrow set 4: ‚áÄ‚áÅ‚áÇ‚áÉ‚áÑ‚áÖ‚áÜ‚áá‚áà‚áâ‚áä‚áã‚áå‚áç‚áé‚áè
   Arrow set 5: ‚áê‚áë‚áí‚áì‚áî‚áï‚áñ‚áó‚áò‚áô‚áö‚áõ‚áú‚áù‚áû‚áü
   Arrow set 6: ‚á†‚á°‚á¢‚á£‚á§‚á•‚á¶‚áß‚á®‚á©‚á™‚á´‚á¨‚á≠‚áÆ‚áØ
   Arrow set 7: ‚á∞‚á±‚á≤‚á≥‚á¥‚áµ‚á∂‚á∑‚á∏‚áπ‚á∫‚áª‚áº‚áΩ‚áæ‚áø
   */
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
StringToShortArray, CharArrayToString, Uso de um C√≥digo de P√°gina (Codepage)</p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1745
<h3>TimeToString</h3>
Converte um valor contendo hora em segundos decorridos deste 01.01.1970 em uma string de formato
&quot;yyyy.mm.dd hh:mi&quot;.
</p>
<pre><code class="language-mql5">
string¬† TimeToString(
   datetime¬† value,¬†                          // n√∫mero
   int¬†      mode=TIME_DATE|TIME_MINUTES¬†     // formato de sa√≠da
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
value
[in]  Hora em segundos a partir de 00:00 1970/01/01.
mode=TIME_DATE|TIME_MINUTES
[in] Modo de entrada de dados adicionais. Pode ser um ou sinalizador combinado: 
<h3>TIME_DATE obt√©m como resultado &quot;yyyy.mm.dd&quot;,</h3>
<h3>TIME_MINUTES obt√©m como resultado &quot;hh:mi&quot;,</h3>
TIME_SECONDS ob√™m resultados como &quot;hh:mi:ss&quot;.
<h3>Valor do Retorno</h3>
String.
<h3>Exemplo:</h3>
datetime ExtBarTimeOpen;
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Custom indicator initialization function                         |
//+------------------------------------------------------------------+
int OnInit()
  {
//--- definimos valor do cron√¥metro como um segundo
   EventSetTimer(1);
//---
   return(INIT_SUCCEEDED);
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Custom indicator deinitialization function                       |
//+------------------------------------------------------------------+
void OnDeinit(const int reason)
  {
   Comment(&quot;&quot;);
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Custom indicator iteration function                              |
//+------------------------------------------------------------------+
int OnCalculate(const int rates_total,</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1746
</p>
<pre><code class="language-mql5">
                const int prev_calculated,
                const datetime &amp;time[],
                const double &amp;open[],
                const double &amp;high[],
                const double &amp;low[],
                const double &amp;close[],
                const long &amp;tick_volume[],
                const long &amp;volume[],
                const int &amp;spread[])
  {
//--- obtemos o tempo de abertura da barra atual
   ExtBarTimeOpen=time[rates_total-1];
//--- return value of prev_calculated for next call
   return(rates_total);
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Timer function                                                   |
//+------------------------------------------------------------------+
void OnTimer()
  {
//--- registramos o tempo de abertura da barra anterior
   static datetime bar_open_time=ExtBarTimeOpen;
//--- calculamos a quantidade de segundos que passaram desde a abertura da barra
   static int seconds=int(TimeCurrent()-ExtBarTimeOpen);
//--- se o tempo de abertura anterior n√£o √© igual ao atual, ent√£o √© uma nova barra
//--- registramos o novo tempo de abertura como o anterior e zeramos os segundos
   if(bar_open_time!=ExtBarTimeOpen)
     {
      bar_open_time=ExtBarTimeOpen;
      seconds=0;
     }
//--- incrementamos e ajustamos a quantidade de segundos passados desde a abertura da 
   seconds++;
   if(seconds&gt;PeriodSeconds(PERIOD_CURRENT))
      seconds=0;
//--- descri√ß√£o do tempo de abertura da barra no formato yyyy.mm.dd hh:mi
   string bar_time_open=TimeToString(ExtBarTimeOpen);
//--- descri√ß√£o do tempo atual no formato yyyy.mm.dd hh:mi:ss
   string time_current=TimeToString(TimeCurrent(),TIME_DATE|TIME_MINUTES|TIME_SECONDS)
//--- quantidade de segundos restantes at√© a abertura da pr√≥xima barra
   int    sec_left=PeriodSeconds(PERIOD_CURRENT)-seconds;
//--- descri√ß√£o do tempo restante at√© o fechamento da barra atual no formato hh:mm:ss
   string time_left=TimeToString(sec_left,TIME_MINUTES|TIME_SECONDS);
//--- criamos a string de sa√≠da
   string txt=StringFormat(&quot;Opening time of the current bar: %s\n&quot;+
                           &quot;Time Current: %s\n&quot;+
                           &quot;Seconds have passed since the bar opened: %d\n&quot;+
                           &quot;Approximately seconds left before bar closes: %d\n&quot;+
                           &quot;Time remaining until bar closes: %s&quot;,bar_time_open,time_cu</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1747
</p>
<pre><code class="language-mql5">
//--- exibimos no coment√°rio do gr√°fico o tempo de abertura da barra, o tempo atual,
//--- a quantidade de segundos que passaram desde a abertura da barra atual e os resta
//--- o tempo restante at√© o fechamento da barra atual
   Comment(txt);
   /*
   resultado em M1:
   Opening time of the current bar: 2024.02.22 18:06
   Time Current: 2024.02.22 18:06:24
   Seconds have passed since the bar opened: 25
   Approximately seconds left before bar closes: 35
   Time remaining until bar closes: 00:00:35
   resultado em M5:
   Opening time of the current bar: 2024.02.22 18:05
   Time Current: 2024.02.22 18:07:28
   Seconds have passed since the bar opened: 149
   Approximately seconds left before bar closes: 151
   Time remaining until bar closes: 00:02:31
   resultado em H1:
   Opening time of the current bar: 2024.02.22 18:00
   Time Current: 2024.02.22 18:08:13
   Seconds have passed since the bar opened: 494
   Approximately seconds left before bar closes: 3106
   Time remaining until bar closes: 00:51:46
   
   resultado em D1:
   Opening time of the current bar: 2024.02.22 00:00
   Time Current: 2024.02.22 18:11:01
   Seconds have passed since the bar opened: 65462
   Approximately seconds left before bar closes: 20938
   Time remaining until bar closes: 05:48:58
   */
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
<h3>StringToTime, TimeToStruct</h3></p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1748
<h3>NormalizeDouble</h3>
Arredonda um n√∫mero de ponto flutuante para uma precis√£o especificada.
</p>
<pre><code class="language-mql5">
double¬† NormalizeDouble(
   double¬† value,¬†     // n√∫mero normalizado
   int¬†    digits¬†     // n√∫mero de d√≠gitos depois do ponto decimal
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
value
[in] Valor com um ponto flutuante.
digits
[in]  Formato de precis√£o, n√∫mero de d√≠gitos depois do ponto (0-8).
<h3>Valor do Retorno</h3>
Valor de tipo double com precis√£o predefinida.
<h3>Observa√ß√£o</h3>
Valores calculados de StopLoss, TakeProfit, e valores de pre√ßos de abertura para ordens pendentes
devem ser normalizados com a precis√£o obtida atrav√©s de Digits().
Favor notar que ao imprimir no Di√°rio usando a fun√ß√£o Print(), um n√∫mero normalizado pode conter
um n√∫mero maior de posi√ß√µes decimais do que o esperado. Por exemplo, para:
</p>
<pre><code class="language-mql5">
   double a=76.671;             // Um n√∫mero normalizado com tr√™s posi√ß√µes decimais
   Print(&quot;Print(76.671)=&quot;,a);   // Imprime como √©
   Print(&quot;DoubleToString(a,8)=&quot;,DoubleToString(a,8)); // Imprime com um precis√£o prede
</code></pre>
<p>
voc√™ ter√° o seguinte no terminal:
<h3>DoubleToString(a,8)=76.67100000</h3>
<h3>Print(76.671)=76.67100000000001</h3>
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
   double pi=M_PI;
   Print(&quot;pi = &quot;,DoubleToString(pi,16));
      
   double pi_3=NormalizeDouble(M_PI,3);
   Print(&quot;NormalizeDouble(pi,3) = &quot;,DoubleToString(pi_3,16))
   ;
   double pi_8=NormalizeDouble(M_PI,8);
   Print(&quot;NormalizeDouble(pi,8) = &quot;,DoubleToString(pi_8,16));
   
   double pi_0=NormalizeDouble(M_PI,0);
   Print(&quot;NormalizeDouble(pi,0) = &quot;,DoubleToString(pi_0,16));</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1749
</p>
<pre><code class="language-mql5">
/*
</code></pre>
<p>
<h3>Resultado:</h3>
</p>
<pre><code class="language-mql5">
   pi= 3.1415926535897931
   NormalizeDouble(pi,3)= 3.1419999999999999
   NormalizeDouble(pi,8)= 3.1415926499999998
   NormalizeDouble(pi,0)= 3.0000000000000000
</code></pre>
<p>
*/
<h3>Tamb√©m Veja</h3>
DoubleToString, Tipos reais¬†(double,¬†float), Convers√£o de Tipo (Typecasting)</p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1750
<h3>StringToCharArray</h3>
Copia s√≠mbolo a s√≠mbolo uma string convertida de Unicode para ANSI, para um lugar selecionado de um
array de tipo uchar. Retorna o n√∫mero de elementos copiados.
</p>
<pre><code class="language-mql5">
int¬† StringToCharArray(
   string¬† text_string,¬†        // string fonte
   uchar&amp;  array[],¬†            // array
   int¬†    start=0,¬†            // posi√ß√£o de come√ßo no array
   int¬†    count=-1¬†            // n√∫mero de s√≠mbolos
   uint¬†   codepage=CP_ACP¬†     // c√≥digo de p√°gina
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
text_string
[in]  String para copiar.
array[]
[out]  Array de tipo uchar.
start=0
[in]  Posi√ß√£o a partir da qual a c√≥pia come√ßa. Default - 0.
count=-1
[in]  N√∫mero de elemento do array para copiar. Define o comprimento de uma string resultante.
Valor padr√£o √© -1, que significa copiar at√© o fim do array, ou at√© o terminador 0. Terminador 0
ser√° tamb√©m copiado para o array destino, neste caso o tamanho de um array din√¢mico pode ser
aumentado se necess√°rio para o tamanho da string. Se o tamanho do array inicializado n√£o √©
especificado, ele √© determinado pelo compilador, baseado no tamanho da seq√º√™ncia de
inicializa√ß√£o.
codepage=CP_ACP
[in]  O valor do c√≥digo de p√°gina. Para os mais usados c√≥digos de p√°gina forne√ßa as constantes
apropriadas.
<h3>Valor do Retorno</h3>
N√∫mero de elementos copiados.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- string to convert
   string text = &quot;This is a test of the StringToCharArray() function&quot;;
//--- convertemos a string de entrada em um array uchar de acordo com o conjunto de ca</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1751
</p>
<pre><code class="language-mql5">
   uchar char_array[];
   int   copied=StringToCharArray(text, char_array);
   PrintFormat(&quot;String length: %u\nNumber of characters copied (with terminal 0): %d\n
               StringLen(text), copied, text);
//--- imprimimos no log o array resultante
   ArrayPrint(char_array, 0, &quot; | &quot;);
   /*
</code></pre>
<p>
¬† resultado:
</p>
<pre><code class="language-mql5">
   String length: 50
   Number of characters copied (with terminal 0): 51
   Array of characters for the string &#x27;This is a test of the StringToCharArray() funct
   [ 0]  84 | 104 | 105 | 115 |  32 | 105 | 115 |  32 |  97 |  32 | 116 | 101 | 115 | 
   [17]  32 | 116 | 104 | 101 |  32 |  83 | 116 | 114 | 105 | 110 | 103 |  84 | 111 | 
   [34]  65 | 114 | 114 |  97 | 121 |  40 |  41 |  32 | 102 | 117 | 110 |  99 | 116 | 
   */
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
CharArrayToString, StringToShortArray, Uso de um C√≥digo de P√°gina (Codepage)</p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1752
<h3>StringToColor</h3>
Converte uma string &quot;R,G,B&quot; ou uma string com o nome da cor em valor de tipo color.
color¬† StringToColor(
</p>
<pre><code class="language-mql5">
   string¬† color_string¬†     // representa√ß√£o de string de cor
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
color_string
[in]  Representa√ß√£o de string de uma cor de tipo &quot;R,G,B&quot; ou nome de uma das Web-cores
predefinidas.
<h3>Valor do Retorno</h3>
Valor da cor.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
   color str_color=StringToColor(&quot;0,127,0&quot;);
   Print(str_color);
   Print((string)str_color);
//--- altera a cor um pouco
   str_color=StringToColor(&quot;0,128,0&quot;);
   Print(str_color);
   Print((string)str_color);
</code></pre>
<p>
<h3>Tamb√©m Veja</h3>
<h3>ColorToString, ColorToARGB</h3></p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1753
<h3>StringToDouble</h3>
A fun√ß√£o converte uma string contendo uma representa√ß√£o de um n√∫mero em um n√∫mero de tipo
double.
</p>
<pre><code class="language-mql5">
double¬† StringToDouble(
   string¬† value¬†     // string
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
value
[in]  String cont√©m uma representa√ß√£o do s√≠mbolo de um n√∫mero.
<h3>Valor do Retorno</h3>
Valor de tipo double.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- string to convert
   string str = &quot;12345.54321&quot;;
//--- convertemos a string de entrada como um n√∫mero real em uma vari√°vel do tipo doub
   double converted=StringToDouble(str);
//--- imprimimos no log o n√∫mero obtido com uma precis√£o de 8 casas decimais
   PrintFormat(&quot;The string &#x27;%s&#x27; is converted to the real number %.8f&quot;, str, converted)
   /*
</code></pre>
<p>
¬† resultado:
</p>
<pre><code class="language-mql5">
   The string &#x27;12345.54321&#x27; is converted to the real number 12345.54321000
   */
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
NormalizeDouble, Tipos reais¬†(double,¬†float), Convers√£o de Tipo (Typecasting)</p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1754
<h3>StringToInteger</h3>
A fun√ß√£o converte uma string contendo uma representa√ß√£o de s√≠mbolo de um n√∫mero em um n√∫mero
de tipo long (inteiro).
long¬† StringToInteger(
</p>
<pre><code class="language-mql5">
   string¬† value¬†     // string
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
value
[in]  String contendo um n√∫mero.
<h3>Valor do Retorno</h3>
Valor de tipo long.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- string to convert
   string str = &quot;12345.54321&quot;;
//--- convertemos a string de entrada como um n√∫mero em uma vari√°vel de tipo long
   long converted=StringToInteger(str);
//--- imprimimos no log o n√∫mero obtido com a parte fracion√°ria cortada
   PrintFormat(&quot;The string &#x27;%s&#x27; is converted to the integer number %I64d&quot;, str, conver
   /*
</code></pre>
<p>
¬† resultado:
</p>
<pre><code class="language-mql5">
   The string &#x27;12345.54321&#x27; is converted to the integer number 12345
   */
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
IntegerToString, Tipos reais¬†(double,¬†float), Convers√£o de Tipo (Typecasting)</p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1755
<h3>StringToShortArray</h3>
A fun√ß√£o copia s√≠mbolo a s√≠mbolo uma string em um lugar especificado de um array de tipo ushort.
Retorna o n√∫mero de elementos copiados.
</p>
<pre><code class="language-mql5">
int¬† StringToShortArray(
   string¬† text_string,¬†    // string fonte
   ushort&amp; array[],¬†        // array
   int¬†    start=0,¬†        // posi√ß√£o de come√ßo no array
   int¬†    count=-1¬†        // n√∫mero de s√≠mbolos
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
text_string
[in]  String para copiar
array[]
[out]  Array de tipo ushort (an√°logo ao tipo wchar_t).
start=0
[in]  Posi√ß√£o, a partir da qual a c√≥pia come√ßa. Default - 0.
count=-1
[in]  N√∫mero de elemento do array para copiar. Define o comprimento de uma string resultante.
Valor padr√£o √© -1, que significa copiar at√© o final do array, ou at√© o terminador 0. O terminador 0
ser√° copiado para o array destino, neste caso o tamanho de um array din√¢mico pode ser
aumentado se necess√°rio para o tamanho da string. Se o tamanho do array inicializado n√£o √©
especificado, ele √© determinado pelo compilador, baseado no tamanho da seq√º√™ncia de
inicializa√ß√£o.
<h3>Valor do Retorno</h3>
N√∫mero de elementos copiados.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- string with chars to convert
   string text = &quot;Chars: ‚ù§‚ô´‚òé‚úà‚ú£‚òè‚òÄ‚úâ‚òÜ‚òÅ‚ôï‚ô†¬Æ‚úß‚ùÜ‚ô£   &quot;;
   ushort short_array[];
//--- na string de entrada encontramos a posi√ß√£o do caractere &quot;:&quot; e extra√≠mos a substr
   int    pos=StringFind(text, &quot;:&quot;);
   string str=(pos&lt;0 ? text : StringSubstr(text, pos+1));
//--- removemos -da esquerda e da direita da string resultante- os caracteres de retor
   StringTrimLeft(str);</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1756
</p>
<pre><code class="language-mql5">
   StringTrimRight(str);
//--- copiamos a string recebida em um array ushort e imprimimos o array recebido no l
   int copied=StringToShortArray(str, short_array);
   PrintFormat(&quot;String of characters length: %u\n&quot;
               &quot;Number of characters copied (with terminal 0): %d\n&quot;
               &quot;Array of chars for the string &#x27;%s&#x27;:&quot;,
               StringLen(str), copied, str);
   ArrayPrint(short_array, 0, &quot; | &quot;);
   /*
</code></pre>
<p>
¬† resultado:
</p>
<pre><code class="language-mql5">
   String of characters length: 16
   Number of characters copied (with terminal 0): 17
   Array of chars for the string &#x27;‚ù§‚ô´‚òé‚úà‚ú£‚òè‚òÄ‚úâ‚òÜ‚òÅ‚ôï‚ô†¬Æ‚úß‚ùÜ‚ô£&#x27;:
   10084 |  9835 |  9742 |  9992 | 10019 |  9743 |  9728 |  9993 |  9734 |  9729 |  98
   */
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
ShortArrayToString, StringToCharArray, Uso de um C√≥digo de P√°gina (Codepage)</p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1757
<h3>StringToTime</h3>
Converte uma string contendo a hora e/ou data no formato &quot;aaaa.mm.dd [hh:mi]&quot; para o tipo
datetime.
datetime¬† StringToTime(
</p>
<pre><code class="language-mql5">
   const string¬† time_string¬†     // string data
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
time_string
[in]  String em um dos formatos especificados:
¬∑   &quot;yyyy.mm.dd [hh:mi]&quot;
¬∑   &quot;yyyy.mm.dd [hh:mi:ss]&quot;
¬∑   &quot;yyyymmdd [hh:mi:ss]&quot;
¬∑   &quot;yyyymmdd [hhmiss]&quot;
¬∑   &quot;yyyy/mm/dd [hh:mi:ss]&quot;
¬∑   &quot;yyyy-mm-dd [hh:mi:ss]&quot;
<h3>Valor retornado</h3>
O valor do tipo datetime contendo o n√∫mero de segundos desde 1¬∫ de janeiro de 1970.
<h3>Observa√ß√£o</h3>
Qualquer sequ√™ncia de tabula√ß√£o e de espa√ßos entre data e hora √© contada como um espa√ßo, de
modo que n√£o √© necess√°rio nenhum processamento adicional da linha time_string antes de chamar a
StringToTime().
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//--- input parameters
input group    &quot;The date can be entered in any of the formats:&quot;
input group    &quot;yyyy.mm.dd [hh:mi], yyyy.mm.dd [hh:mi:ss]&quot;
input group    &quot;yyyymmdd [hh:mi:ss], yyyymmdd [hhmiss]&quot;
input group    &quot;yyyy/mm/dd [hh:mi:ss], yyyy-mm-dd [hh:mi:ss]&quot;
input string   InpDateStr;    // Please enter the date here as a string
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- convertemos a hora inserida nos par√¢metros de entrada como uma string em um valo
   datetime time=StringToTime(InpDateStr);
//--- imprimimos no log a string inserida e o tempo obtido</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1758
</p>
<pre><code class="language-mql5">
   PrintFormat(&quot;Date entered as a string in the form &#x27;%s&#x27; is converted to datetime in 
               InpDateStr, TimeToString(time, TIME_DATE|TIME_MINUTES|TIME_SECONDS));
//--- criamos uma linha vertical na data-hora obtida e deslocamos o gr√°fico para esse 
   if(CreateVLine(time))
      ChartNavigateToTime(time);
   /*
</code></pre>
<p>
¬† resultado:
</p>
<pre><code class="language-mql5">
   Date entered as a string in the form &#x27;&#x27; is converted to datetime in the form &#x27;1970.
   Date entered as a string in the form &#x27;2024&#x27; is converted to datetime in the form &#x27;2
   Date entered as a string in the form &#x27;202400&#x27; is converted to datetime in the form 
   Date entered as a string in the form &#x27;20240000&#x27; is converted to datetime in the for
   Date entered as a string in the form &#x27;2024022410&#x27; is converted to datetime in the f
   Date entered as a string in the form &#x27;20240224 10&#x27; is converted to datetime in the 
   Date entered as a string in the form &#x27;20240224 01&#x27; is converted to datetime in the 
   Date entered as a string in the form &#x27;20240224 0030&#x27; is converted to datetime in th
   Date entered as a string in the form &#x27;20240224 0100&#x27; is converted to datetime in th
   */
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Cria um objeto de linha vertical                                 |
//+------------------------------------------------------------------+
bool CreateVLine(const datetime line_time)
  {
   ResetLastError();
   string name=MQLInfoString(MQL_PROGRAM_NAME)+&quot;_VLINE&quot;;
   if(!ObjectCreate(0, name, OBJ_VLINE, 0, line_time, 0))
     {
      Print(&quot;ObjectCreate() failed. Error code: &quot;, GetLastError());
      return(false);
     }
   ObjectSetInteger(0, name, OBJPROP_STYLE, STYLE_DOT);
   ObjectSetInteger(0, name, OBJPROP_SELECTABLE, true);
   return(true);
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Desloca o gr√°fico pelo tempo de abertura da barra especificado   |
//+------------------------------------------------------------------+
bool ChartNavigateToTime(const datetime time)
  {
   ChartSetInteger(0, CHART_AUTOSCROLL, false);
   ResetLastError();
   int bar=iBarShift(_Symbol, PERIOD_CURRENT, time);
   if(bar&lt;0)
     {
      PrintFormat(&quot;%s: iBarShift() failed. Error code: %d&quot;, __FUNCTION__, GetLastError
      return(false);</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1759
</p>
<pre><code class="language-mql5">
     }
   long first=0;
   if(!ChartGetInteger(0, CHART_FIRST_VISIBLE_BAR, 0, first))
     {
      PrintFormat(&quot;%s: ChartGetInteger() failed. Error code: %d&quot;, __FUNCTION__, GetLas
      return(false);
     }
   return(ChartNavigate(0, CHART_CURRENT_POS, (int)first-bar));
</code></pre>
<p>
  }
<h3>Veja tamb√©m</h3>
<h3>TimeToString, TimeToStruct</h3></p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1760
<h3>StringFormat</h3>
A fun√ß√£o formata par√¢metros obtidos e retorna uma string.
</p>
<pre><code class="language-mql5">
string¬† StringFormat(
   string¬† format,¬†    // string com descri√ß√£o de formato
   ...¬†    ...¬†        // par√¢metros
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
format
[in]  String contendo m√©todo de formata√ß√£o. As regras de forma√ß√£o s√£o as mesmas da fun√ß√£o
PrintFormat.
...
[in]  Par√¢metros, separados por v√≠rgula.
<h3>Valor do Retorno</h3>
String.
<h3>Exemplo:</h3></p>
<p><h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1761
</p>
<pre><code class="language-mql5">
void OnStart()
  {
//--- string variables
   string output_string;
   string temp_string;
   string format_string;
//--- prepare the specification header
   temp_string=StringFormat(&quot;Contract specification for %s:\n&quot;,_Symbol);
   StringAdd(output_string,temp_string);
//--- int value output
   int digits=(int)SymbolInfoInteger(_Symbol,SYMBOL_DIGITS);
   temp_string=StringFormat(&quot;   SYMBOL_DIGITS = %d (number of digits after the decimal
                            digits);
   StringAdd(output_string,temp_string);
//--- double value output with variable number of digits after the decimal point
   double point_value=SymbolInfoDouble(_Symbol,SYMBOL_POINT);
   format_string=StringFormat(&quot;   SYMBOL_POINT = %%.%df (point value)\n&quot;,
                              digits);
   temp_string=StringFormat(format_string,point_value);
   StringAdd(output_string,temp_string);
//--- int value output
   int spread=(int)SymbolInfoInteger(_Symbol,SYMBOL_SPREAD);
   temp_string=StringFormat(&quot;   SYMBOL_SPREAD = %d (current spread in points)\n&quot;,
                            spread);
   StringAdd(output_string,temp_string);
//--- int value output
   int min_stop=(int)SymbolInfoInteger(_Symbol,SYMBOL_TRADE_STOPS_LEVEL);
   temp_string=StringFormat(&quot;   SYMBOL_TRADE_STOPS_LEVEL = %d (minimal indention in po
                            min_stop);
   StringAdd(output_string,temp_string);
//--- double value output without the fractional part
   double contract_size=SymbolInfoDouble(_Symbol,SYMBOL_TRADE_CONTRACT_SIZE);
   temp_string=StringFormat(&quot;   SYMBOL_TRADE_CONTRACT_SIZE = %.f (contract size)\n&quot;,
                            contract_size);
   StringAdd(output_string,temp_string);
//--- double value output with default accuracy
   double tick_size=SymbolInfoDouble(_Symbol,SYMBOL_TRADE_TICK_SIZE);
   temp_string=StringFormat(&quot;   SYMBOL_TRADE_TICK_SIZE = %f (minimal price change)\n&quot;,
                            tick_size);
   StringAdd(output_string,temp_string);
//--- determining the swap calculation mode
   int swap_mode=(int)SymbolInfoInteger(_Symbol,SYMBOL_SWAP_MODE);
   string str_swap_mode;
   switch(swap_mode)
     {
      case SYMBOL_SWAP_MODE_DISABLED: str_swap_mode=&quot;SYMBOL_SWAP_MODE_DISABLED (no swa
      case SYMBOL_SWAP_MODE_POINTS: str_swap_mode=&quot;SYMBOL_SWAP_MODE_POINTS (in points)
      case SYMBOL_SWAP_MODE_CURRENCY_SYMBOL: str_swap_mode=&quot;SYMBOL_SWAP_MODE_CURRENCY_
      case SYMBOL_SWAP_MODE_CURRENCY_MARGIN: str_swap_mode=&quot;SYMBOL_SWAP_MODE_CURRENCY_
      case SYMBOL_SWAP_MODE_CURRENCY_DEPOSIT: str_swap_mode=&quot;SYMBOL_SWAP_MODE_CURRENCY
      case SYMBOL_SWAP_MODE_INTEREST_CURRENT: str_swap_mode=&quot;SYMBOL_SWAP_MODE_INTEREST
      case SYMBOL_SWAP_MODE_INTEREST_OPEN: str_swap_mode=&quot;SYMBOL_SWAP_MODE_INTEREST_OP
      case SYMBOL_SWAP_MODE_REOPEN_CURRENT: str_swap_mode=&quot;SYMBOL_SWAP_MODE_REOPEN_CUR
      case SYMBOL_SWAP_MODE_REOPEN_BID: str_swap_mode=&quot;SYMBOL_SWAP_MODE_REOPEN_BID (by
     }
//--- string value output
   temp_string=StringFormat(&quot;   SYMBOL_SWAP_MODE = %s\n&quot;,
                            str_swap_mode);
   StringAdd(output_string,temp_string);
//--- double value output with default accuracy
   double swap_long=SymbolInfoDouble(_Symbol,SYMBOL_SWAP_LONG);</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1762
</p>
<pre><code class="language-mql5">
   temp_string=StringFormat(&quot;   SYMBOL_SWAP_LONG = %f (long swap value)\n&quot;,
                            swap_long);
   StringAdd(output_string,temp_string);
//--- double value output with default accuracy
   double swap_short=SymbolInfoDouble(_Symbol,SYMBOL_SWAP_SHORT);
   temp_string=StringFormat(&quot;   SYMBOL_SWAP_SHORT = %f (short swap value)\n&quot;,
                            swap_short);
   StringAdd(output_string,temp_string);
//--- determining the trading mode
   int trade_mode=(int)SymbolInfoInteger(_Symbol,SYMBOL_TRADE_MODE);
   string str_trade_mode;
   switch(trade_mode)
     {
      case SYMBOL_TRADE_MODE_DISABLED: str_trade_mode=&quot;SYMBOL_TRADE_MODE_DISABLED (tra
      case SYMBOL_TRADE_MODE_LONGONLY: str_trade_mode=&quot;SYMBOL_TRADE_MODE_LONGONLY (onl
      case SYMBOL_TRADE_MODE_SHORTONLY: str_trade_mode=&quot;SYMBOL_TRADE_MODE_SHORTONLY (o
      case SYMBOL_TRADE_MODE_CLOSEONLY: str_trade_mode=&quot;SYMBOL_TRADE_MODE_CLOSEONLY (o
      case SYMBOL_TRADE_MODE_FULL: str_trade_mode=&quot;SYMBOL_TRADE_MODE_FULL (no trade re
     }
//--- string value output
   temp_string=StringFormat(&quot;   SYMBOL_TRADE_MODE = %s\n&quot;,
                            str_trade_mode);
   StringAdd(output_string,temp_string);
//--- double value output in a compact format
   double volume_min=SymbolInfoDouble(_Symbol,SYMBOL_VOLUME_MIN);
   temp_string=StringFormat(&quot;   SYMBOL_VOLUME_MIN = %g (minimal volume for a deal)\n&quot;,
   StringAdd(output_string,temp_string);
//--- double value output in a compact format
   double volume_step=SymbolInfoDouble(_Symbol,SYMBOL_VOLUME_STEP);
   temp_string=StringFormat(&quot;   SYMBOL_VOLUME_STEP = %g (minimal volume change step)\n
   StringAdd(output_string,temp_string);
//--- double value output in a compact format
   double volume_max=SymbolInfoDouble(_Symbol,SYMBOL_VOLUME_MAX);
   temp_string=StringFormat(&quot;   SYMBOL_VOLUME_MAX = %g (maximal volume for a deal)\n&quot;,
   StringAdd(output_string,temp_string);
//--- determining the contract price calculation mode
   int calc_mode=(int)SymbolInfoInteger(_Symbol,SYMBOL_TRADE_CALC_MODE);
   string str_calc_mode;
   switch(calc_mode)
     {
      case SYMBOL_CALC_MODE_FOREX:str_calc_mode=&quot;SYMBOL_CALC_MODE_FOREX (Forex)&quot;;break
      case SYMBOL_CALC_MODE_FUTURES:str_calc_mode=&quot;SYMBOL_CALC_MODE_FUTURES (futures)&quot;
      case SYMBOL_CALC_MODE_CFD:str_calc_mode=&quot;SYMBOL_CALC_MODE_CFD (CFD)&quot;;break;
      case SYMBOL_CALC_MODE_CFDINDEX:str_calc_mode=&quot;SYMBOL_CALC_MODE_CFDINDEX (CFD for
      case SYMBOL_CALC_MODE_CFDLEVERAGE:str_calc_mode=&quot;SYMBOL_CALC_MODE_CFDLEVERAGE (C
      case SYMBOL_CALC_MODE_EXCH_STOCKS:str_calc_mode=&quot;SYMBOL_CALC_MODE_EXCH_STOCKS (t
      case SYMBOL_CALC_MODE_EXCH_FUTURES:str_calc_mode=&quot;SYMBOL_CALC_MODE_EXCH_FUTURES 
      case SYMBOL_CALC_MODE_EXCH_FUTURES_FORTS:str_calc_mode=&quot;SYMBOL_CALC_MODE_EXCH_FU
     }
//--- string value output
   temp_string=StringFormat(&quot;   SYMBOL_TRADE_CALC_MODE = %s\n&quot;,
                            str_calc_mode);
   StringAdd(output_string,temp_string);
//--- double value output with 2 digits after the decimal point
   double margin_initial=SymbolInfoDouble(_Symbol,SYMBOL_MARGIN_INITIAL);
   temp_string=StringFormat(&quot;   SYMBOL_MARGIN_INITIAL = %.2f (initial margin)\n&quot;,
                            margin_initial);
   StringAdd(output_string,temp_string);
//--- double value output with 2 digits after the decimal point
   double margin_maintenance=SymbolInfoDouble(_Symbol,SYMBOL_MARGIN_MAINTENANCE);
   temp_string=StringFormat(&quot;   SYMBOL_MARGIN_MAINTENANCE = %.2f (maintenance margin)\</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes de Convers√£o</h3>
¬© 2000-2025, MetaQuotes Ltd.
1763
</p>
<pre><code class="language-mql5">
                            margin_maintenance);
   StringAdd(output_string,temp_string);
//--- int value output
   int freeze_level=(int)SymbolInfoInteger(_Symbol,SYMBOL_TRADE_FREEZE_LEVEL);
   temp_string=StringFormat(&quot;   SYMBOL_TRADE_FREEZE_LEVEL = %d (order freeze level in 
                            freeze_level);
   StringAdd(output_string,temp_string);
   Print(output_string);
   Comment(output_string);
/* execution result
   Contract specification for EURUSD:
     SYMBOL_DIGITS = 5 (number of digits after the decimal point)
     SYMBOL_POINT = 0.00001 (point value)
     SYMBOL_SPREAD = 10 (current spread in points)
     SYMBOL_TRADE_STOPS_LEVEL = 18 (minimal indention in points for Stop orders)
     SYMBOL_TRADE_CONTRACT_SIZE = 100000 (contract size)
     SYMBOL_TRADE_TICK_SIZE = 0.000010 (minimal price change)
     SYMBOL_SWAP_MODE = SYMBOL_SWAP_MODE_POINTS (in points)
     SYMBOL_SWAP_LONG = -0.700000 (buy order swap value)
     SYMBOL_SWAP_SHORT = -1.000000 (sell order swap value)
     SYMBOL_TRADE_MODE = SYMBOL_TRADE_MODE_FULL (no trade restrictions)
     SYMBOL_VOLUME_MIN = 0.01 (minimal volume for a deal)
     SYMBOL_VOLUME_STEP = 0.01 (minimal volume change step)
     SYMBOL_VOLUME_MAX = 500 (maximal volume for a deal)
     SYMBOL_TRADE_CALC_MODE = SYMBOL_CALC_MODE_FOREX (Forex)
     SYMBOL_MARGIN_INITIAL = 0.00 (initial margin)
     SYMBOL_MARGIN_MAINTENANCE = 0.00 (maintenance margin)
     SYMBOL_TRADE_FREEZE_LEVEL = 0 (order freeze level in points)
</code></pre>
<p>
*/
  }
<h3>Tamb√©m Veja</h3>
<h3>PrintFormat, DoubleToString,ColorToString, TimeToString</h3>
</p>
        </article>
        
        <footer>
            <p>Documenta√ß√£o MQL5 - Fonte: MetaQuotes Ltd.</p>
        </footer>
    </main>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
        
        function toggleSidebar() {
            document.querySelector('.sidebar').classList.toggle('open');
        }
        
        function filterNav() {
            const filter = document.getElementById('search').value.toLowerCase();
            const items = document.querySelectorAll('.nav-list li');
            items.forEach(item => {
                const text = item.textContent.toLowerCase();
                item.style.display = text.includes(filter) ? '' : 'none';
            });
        }
    </script>
</body>
</html>