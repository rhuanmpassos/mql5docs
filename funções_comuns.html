<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fun√ß√µes Comuns - MQL5 Docs</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
</head>
<body>
    <nav class="sidebar">
        <div class="logo">
            <h1>MQL5 Docs</h1>
            <p>Documenta√ß√£o Completa</p>
        </div>
        <div class="search-box">
            <input type="text" id="search" placeholder="Buscar..." onkeyup="filterNav()">
        </div>
        <ul class="nav-list" id="nav-list">
            <li class=""><a href="index.html">üìö √çndice</a></li>
            <li class=""><a href="introducao.html">Introducao</a></li>
<li class=""><a href="refer√™ncia_mql5.html">Refer√™ncia MQL5</a></li>
<li class=""><a href="elementos_b√°sicos_da_linguagem.html">Elementos B√°sicos da Linguagem</a></li>
<li class=""><a href="constantes,_enumeradores_e_estruturas.html">Constantes, Enumeradores e Estruturas</a></li>
<li class=""><a href="programas_mql5.html">Programas MQL5</a></li>
<li class=""><a href="vari√°veis_predefinidas.html">Vari√°veis Predefinidas</a></li>
<li class="active"><a href="fun√ß√µes_comuns.html">Fun√ß√µes Comuns</a></li>
<li class=""><a href="fun√ß√µes_para_array.html">Fun√ß√µes para Array</a></li>
<li class=""><a href="m√©todos_matriciais_e_vetoriais.html">M√©todos matriciais e vetoriais</a></li>
<li class=""><a href="fun√ß√µes_de_convers√£o.html">Fun√ß√µes de Convers√£o</a></li>
<li class=""><a href="fun√ß√µes_matem√°ticas.html">Fun√ß√µes Matem√°ticas</a></li>
<li class=""><a href="fun√ß√µes_de_string.html">Fun√ß√µes de String</a></li>
<li class=""><a href="data_e_hora.html">Data e Hora</a></li>
<li class=""><a href="informa√ß√µes_de_conta.html">Informa√ß√µes de Conta</a></li>
<li class=""><a href="verificando_estado.html">Verificando Estado</a></li>
<li class=""><a href="manipula√ß√£o_de_eventos.html">Manipula√ß√£o de eventos</a></li>
<li class=""><a href="informa√ß√µes_de_mercado.html">Informa√ß√µes de Mercado</a></li>
<li class=""><a href="calend√°rio_econ√¥mico.html">Calend√°rio econ√¥mico</a></li>
<li class=""><a href="s√©ries_temporais_e_acesso_a_indicadores.html">S√©ries Temporais e Acesso a Indicadores</a></li>
<li class=""><a href="s√≠mbolos_personalizados.html">S√≠mbolos personalizados</a></li>
<li class=""><a href="opera√ß√µes_de_gr√°ficos.html">Opera√ß√µes de Gr√°ficos</a></li>
<li class=""><a href="fun√ß√µes_de_negocia√ß√£o.html">Fun√ß√µes de Negocia√ß√£o</a></li>
<li class=""><a href="gerenciamento_de_sinais.html">Gerenciamento de sinais</a></li>
<li class=""><a href="fun√ß√µes_de_rede.html">Fun√ß√µes de rede</a></li>
<li class=""><a href="vari√°veis_globais_do_terminal.html">Vari√°veis Globais do Terminal</a></li>
<li class=""><a href="fun√ß√µes_de_arquivo.html">Fun√ß√µes de Arquivo</a></li>
<li class=""><a href="indicadores_customizados.html">Indicadores Customizados</a></li>
<li class=""><a href="fun√ß√µes_de_objeto.html">Fun√ß√µes de Objeto</a></li>
<li class=""><a href="indicadores_t√©cnicos.html">Indicadores T√©cnicos</a></li>
<li class=""><a href="trabalhando_com_resultados_de_otimiza√ß√£o.html">Trabalhando com Resultados de Otimiza√ß√£o</a></li>
<li class=""><a href="trabalhando_com_eventos.html">Trabalhando com Eventos</a></li>
<li class=""><a href="trabalhando_com_opencl.html">Trabalhando com OpenCL</a></li>
<li class=""><a href="trabalhar_com_bancos_de_dados.html">Trabalhar com bancos de dados</a></li>
<li class=""><a href="trabalho_com_directx.html">Trabalho com DirectX</a></li>
<li class=""><a href="metatrader_para_python.html">MetaTrader para Python</a></li>
<li class=""><a href="modelos_onnx.html">Modelos ONNX</a></li>
<li class=""><a href="biblioteca_padr√£o.html">Biblioteca Padr√£o</a></li>
<li class=""><a href="migrando_do_mql4.html">Migrando do MQL4</a></li>
<li class=""><a href="lista_de_fun√ß√µes_mql5.html">Lista de Fun√ß√µes MQL5</a></li>
<li class=""><a href="lista_de_constantes_mql5.html">Lista de Constantes MQL5</a></li>

        </ul>
    </nav>
    
    <main class="content">
        <header>
            <button class="menu-toggle" onclick="toggleSidebar()">‚ò∞</button>
            <h1>Fun√ß√µes Comuns</h1>
        </header>
        
        <article>
            <p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1128
<h3>Fun√ß√µes Comuns</h3>
Fun√ß√µes de prop√≥sito geral n√£o inclusas em nenhum grupo especializado est√£o listadas aqui.
<h3>Fun√ß√£o</h3>
<h3>A√ß√£o</h3>
<h3>Alert</h3>
Exibe uma mensagem em uma janela separada
<h3>CheckPointer</h3>
Retorna o tipo do ponteiro de objeto
<h3>Comment</h3>
Gera um coment√°rio no canto superior esquerdo do gr√°fico
<h3>CryptEncode</h3>
Transforma os dados do array com o m√©todo especificado
<h3>CryptDecode</h3>
Executa a transforma√ß√£o inversa dos dados do array
<h3>DebugBreak</h3>
Ponto de parada de programa em depura√ß√£o
<h3>ExpertRemove</h3>
Interrompe um Expert Advisor e o descarrega do gr√°fico
<h3>GetPointer</h3>
<h3>Retorna o ponteiro de objeto</h3>
<h3>GetTickCount</h3>
Retorno o n√∫mero de milissegundos decorridos desde que o sistema foi
iniciado
<h3>GetTickCount64</h3>
Retorno o n√∫mero de milissegundos decorridos desde que o sistema foi
iniciado
<h3>GetMicrosecondCount</h3>
Retorna o n√∫mero de microssegundos que decorreram desde o in√≠cio
do programa MQL5
<h3>MessageBox</h3>
Cria, exibe uma caixa de mensagem e o gerencia
<h3>PeriodSeconds</h3>
Retorna o n√∫mero de segundos no per√≠odo
<h3>PlaySound</h3>
<h3>Toca um arquivo de som</h3>
<h3>Print</h3>
<h3>Exibe uma mensagem no log</h3>
<h3>PrintFormat</h3>
Formata e imprime um conjunto de s√≠mbolos e valores em um arquivo
de log de acordo com um formato predefinido
<h3>ResetLastError</h3>
Define o valor da vari√°vel predeterminada _LastError para zero
<h3>ResourceCreate</h3>
Cria um recurso de imagem baseado em um conjunto de dados
<h3>ResourceFree</h3>
Exclui recursos criados dinamicamente (liberando a mem√≥ria alocada
para ele)
<h3>ResourceReadImage</h3>
L√™ os dados do recurso gr√°fico criado pela fun√ß√£o ResourceCreate() ou
salvo em arquivo EX5 durante a compila√ß√£o
<h3>ResourceSave</h3>
Salva um recurso em um arquivo especificado
<h3>SetUserError</h3>
Define a vari√°vel predefinida _LastError para o valor igual a
<h3>ERR_USER_ERROR_FIRST + user_error</h3>
<h3>SetReturnError</h3>
Define o c√≥digo de retorno que devolver√° um processo do terminal ao
encerrar o trabalho</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1129
<h3>Fun√ß√£o</h3>
<h3>A√ß√£o</h3>
<h3>Sleep</h3>
Suspende por um intervalo especificado a execu√ß√£o do Expert Advisor
corrente ou script
<h3>TerminalClose</h3>
Ordena o terminal a finalizar a opera√ß√£o
<h3>TesterHideIndicators</h3>
Define o modo mostrar/ocultar indicadores usados no Expert Advisor
<h3>TesterStatistics</h3>
Retorna o valor de uma estat√≠stica espec√≠fica calculada com base em
resultados de teste
<h3>TesterStop</h3>
D√° o comando para encerrar o programa durante os testes.
<h3>TesterDeposit</h3>
Fun√ß√£o especial para emular opera√ß√µes de dep√≥sito durante o teste.
Pode ser usado em alguns sistemas de gerenciamento de capital
<h3>TesterWithdrawal</h3>
Fun√ß√£o especial para emular a opera√ß√£o de saque de dinheiro no
processo de teste
<h3>TranslateKey</h3>
Retorna o caractere Unicode de acordo com o c√≥digo de tecla virtual
<h3>ZeroMemory</h3>
Redefine uma vari√°vel passada para ela por refer√™ncia. A vari√°vel
pode ser de qualquer tipo, exceto classes e estruturas que tenham
construtores.</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1130
<h3>Alert</h3>
Exibe uma mensagem em uma janela separada.
</p>
<pre><code class="language-mql5">
void¬† Alert(
   argument,     // primeiro valor
   ...¬†          // outros valores
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
argument
[in]  Quaisquer valores separados por virgulas. Para dividir a sa√≠da da informa√ß√£o em v√°rias linhas
voc√™ pode usar o caractere de quebra de linha &quot;\n&quot; ou &quot;\r\n&quot;. O n√∫mero de par√¢metros n√£o pode
exceder 64.
<h3>Valor do Retorno</h3>
Sem valor de retorno.
<h3>Observa√ß√£o</h3>
Arrays n√£o podem ser passados para a fun√ß√£o Alert(). Arrays devem ser fornecidos elemento a
elemento. Dados do tipo double s√£o exibidos com 8 d√≠gitos ap√≥s o ponto decimal, dados do tipo float
s√£o exibidos com 5 d√≠gitos ap√≥s o ponto decimal. Para exibir os n√∫meros reais com uma precis√£o
diferente ou em nota√ß√£o cient√≠fica, use a fun√ß√£o DoubleToString().
Dados do tipo bool s√£o exibidos como strings &quot;true&quot; ou &quot;false&quot;. Datas s√£o exibidas como
YYYY.MM.DD HH:MM:SS. Para exibir uma data em um outro formato use a fun√ß√£o TimeToString().
Dados do tipo color s√£o exibidos tanto como uma string R,G,B ou como nome de cor, se a cor estiver
presente no conjunto de cores.
A fun√ß√£o Alert() n√£o funciona no Testador de estrat√©gias.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//--- enums
enum ENUM_INTERSECT_DIRECTION
  {
   INTERSECT_DIRECTION_NONE= 0,  // n√£o h√° intersec√ß√£o
   INTERSECT_DIRECTION_UP  = 1,  // intersec√ß√£o para cima
   INTERSECT_DIRECTION_DOWN=-1,  // intersec√ß√£o para baixo
</code></pre>
<p>
  };
</p>
<pre><code class="language-mql5">
//--- input parameters
input    uint               InpPeriod = 10;            // MA Period
input    int                InpShift  = 0;             // MA Shift
input    ENUM_MA_METHOD     InpMethod = MODE_SMA;      // MA Method
input    ENUM_APPLIED_PRICE InpPrice  = PRICE_CLOSE;   // MA Applied price
//--- global variables</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1131
</p>
<pre><code class="language-mql5">
int      ExtMaHandle;
int      ExtMaPeriod;
double   ExtData[2];
</code></pre>
<p>
<h3>MqlRates ExtRates[2];</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Expert initialization function                                   |
//+------------------------------------------------------------------+
int OnInit()
  {
//--- o per√≠odo de c√°lculo da m√©dia m√≥vel ser√° igual ao valor padr√£o (10) se um zero f
   ExtMaPeriod=int(InpPeriod&lt;1 ? 10 : InpPeriod);
//--- criamos um handle do indicador Moving Average com os par√¢metros especificados
   ExtMaHandle=iMA(Symbol(),PERIOD_CURRENT,ExtMaPeriod,InpShift,InpMethod,InpPrice);
   ResetLastError();
   if(ExtMaHandle==INVALID_HANDLE)
     {
      PrintFormat(&quot;Failed to create iMA() handle. Error code: %d&quot;,GetLastError());
      return(INIT_FAILED);
     }
     
//--- obtemos o tempo da √∫ltima atualiza√ß√£o de pre√ßos
   datetime tick_time=TickTime();
//--- obtemos os dados da m√©dia m√≥vel e os dados de pre√ßos dos √∫ltimos dois a barras
   if(GetData(ExtMaHandle,ExtData,ExtRates) &amp;&amp; tick_time!=0)
     {
      //--- se o pre√ßo estiver acima da m√©dia m√≥vel
      if(ExtRates[1].close&gt;ExtData[1])
        {
         //--- criamos o texto da mensagem e exibimos um Alert
         string message=StringFormat(&quot;Bar time: %s. The price is above the moving aver
         Alert(message+&quot; at &quot;+TimeToString(tick_time,TIME_DATE|TIME_MINUTES|TIME_SECON
        /*
¬†       Resultado:
         Alert: Bar time: 2024.02.16 18:00. The price is above the moving average at 2
        */
        }
      else
        {
         //--- se o pre√ßo estiver abaixo da m√©dia m√≥vel
         if(ExtRates[1].close&lt;ExtData[1])
           {
         //--- criamos o texto da mensagem e exibimos um Alert
            string message=StringFormat(&quot;Bar time: %s. The price is below the moving a
            Alert(message+&quot; at &quot;+TimeToString(tick_time,TIME_DATE|TIME_MINUTES|TIME_SE
           /*
¬†          Resultado:
            Alert: Bar time: 2024.02.16 19:00. The price is below the moving average a
           */</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1132
</p>
<pre><code class="language-mql5">
           }
         else
           {
         //--- criamos o texto da mensagem e exibimos um Alert
            string message=StringFormat(&quot;Bar time: %s. The price and moving average ar
            Alert(message+&quot; at &quot;+TimeToString(tick_time,TIME_DATE|TIME_MINUTES|TIME_SE
           /*
¬†          Resultado:
            Alert: Bar time: 2024.02.16 20:00. The price and moving average are equal 
           */
           }
        }
     }
     
//--- Sucesso
   return(INIT_SUCCEEDED);
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Expert tick function                                             |
//+------------------------------------------------------------------+
void OnTick()
  {
   ResetLastError();
//--- obtemos os dados da m√©dia m√≥vel e os dados de pre√ßos dos √∫ltimos dois a barras
   if(!GetData(ExtMaHandle,ExtData,ExtRates))
      return;
//--- obtemos a dire√ß√£o da intersec√ß√£o do pre√ßo com a m√©dia m√≥vel na nova barra
   ENUM_INTERSECT_DIRECTION intersect=GetIntersectDirection(ExtData,ExtRates);
//--- vari√°vel para salvar a mensagem anterior
   static string message_prev=&quot;&quot;;
//--- se o pre√ßo cruzou a m√©dia m√≥vel da parte inferior para a superior na a barra atu
   if(intersect==INTERSECT_DIRECTION_UP)
     {
      //--- obtemos o tempo do tick no qual ocorreu a intersec√ß√£o
      datetime tick_time=TickTime();
      if(tick_time==0)
         return;
      //--- criamos o texto da mensagem
      string message=StringFormat(&quot;Bar time: %s. The price crossed the MA from bottom 
      //--- se a mensagem anterior n√£o for igual √† atual, exibimos um Alert com a mens
      if(message!=message_prev)
        {
         Alert(message+&quot; at &quot;+TimeToString(tick_time,TIME_DATE|TIME_MINUTES|TIME_SECON
         message_prev=message;
        /*
¬†       Resultado:\
         Alert: Bar time: 2024.02.16 09:00. The price crossed the MA from bottom to to</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1133
</p>
<pre><code class="language-mql5">
        */
        }
     }
//--- se o pre√ßo cruzou a m√©dia m√≥vel de cima para baixo na a barra atual
   if(intersect==INTERSECT_DIRECTION_DOWN)
     {
      //--- obtemos o tempo do tick no qual ocorreu a intersec√ß√£o
      datetime tick_time=TickTime();
      if(tick_time==0)
         return;
      //--- criamos o texto da mensagem
      string message=StringFormat(&quot;Bar time: %s. The price crossed the MA from top to 
      //--- se a mensagem anterior n√£o for igual √† atual, exibimos um Alert com a mens
      if(message!=message_prev)
        {
         Alert(message+&quot; at &quot;+TimeToString(tick_time,TIME_DATE|TIME_MINUTES|TIME_SECON
         message_prev=message;
        /*
¬†       Resultado:\
         Alert: Bar time: 2024.02.16 10:00. The price crossed the MA from top to botto
        */
        }
     }
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Obt√©m os dados de pre√ßo e m√©dia m√≥vel em arrays               |
//+------------------------------------------------------------------+
bool GetData(int handle,double &amp;ma_data[],MqlRates &amp;price_data[])
  {
   ResetLastError();
//--- obtemos os dados da m√©dia m√≥vel das √∫ltimas duas barras
   if(CopyBuffer(handle,0,0,2,ma_data)!=2)
     {
      PrintFormat(&quot;CopyBuffer() failed. Error code: %d&quot;,GetLastError());
      return(false);
     }
//--- obtemos os dados de pre√ßos das √∫ltimas duas barras
   if(CopyRates(Symbol(),PERIOD_CURRENT,0,2,price_data)!=2)
     {
      PrintFormat(&quot;CopyRates() failed. Error code: %d&quot;,GetLastError());
      return(false);
     }
   return(true);
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Retorna a dire√ß√£o da intersec√ß√£o do pre√ßo com a m√©dia m√≥vel      |
//+------------------------------------------------------------------+</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1134
ENUM_INTERSECT_DIRECTION GetIntersectDirection(double &amp;ma_data[],MqlRates &amp;price_data
</p>
<pre><code class="language-mql5">
  {
   double ma0=ma_data[1];
   double ma1=ma_data[0];
   double close0=price_data[1].close;
   double close1=price_data[0].close;
   if(close1&lt;=ma1 &amp;&amp; close0&gt;ma0)
      return(INTERSECT_DIRECTION_UP);
   else
     {
      if(close1&gt;=ma1 &amp;&amp; close0&lt;ma0)
         return(INTERSECT_DIRECTION_DOWN);
      else
         return(INTERSECT_DIRECTION_NONE);
     }
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Retorna o tempo do tick em segundos                              |
//+------------------------------------------------------------------+
</code></pre>
<p>
datetime TickTime()
</p>
<pre><code class="language-mql5">
  {
   MqlTick tick={};
   ResetLastError();
   if(!SymbolInfoTick(Symbol(),tick))
     {
      PrintFormat(&quot;SymbolInfoTick() failed. Error code: %d&quot;,GetLastError());
      return(0);
     }
   return(tick.time);
</code></pre>
<p>
  }</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1135
<h3>CheckPointer</h3>
A fun√ß√£o retorna o tipo do ponteiro de objeto.
<h3>ENUM_POINTER_TYPE¬† CheckPointer(</h3>
</p>
<pre><code class="language-mql5">
   object* anyobject¬†     // ponteiro de objeto
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
anyobject
[in]  Ponteiro de objeto.
<h3>Valor de retorno</h3>
Retorna um valor da enumera√ß√£o ENUM_POINTER_TYPE.
<h3>Observa√ß√£o</h3>
Uma tentativa de chamar um ponteiro incorreto resulta na finaliza√ß√£o cr√≠tica de um programa. √â por
isso que √© necess√°rio chamar a fun√ß√£o CheckPointer antes de usar um ponteiro. Um ponteiro pode
estar incorreto nos seguintes casos:
¬∑ o ponteiro √© igual a NULL;
¬∑ o objeto foi exclu√≠do usando o operador delete.
Esta fun√ß√£o pode ser usada para checar a validade do ponteiro. Um valor n√£o zero garante que o
ponteiro pode ser usado para acesso.
Para uma verifica√ß√£o r√°pida, voc√™ tamb√©m pode usar o operador &quot;!&quot;(exemplo) que testa sua
validade por meio de uma chamada de fun√ß√£o impl√≠cita CheckPointer. 
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Exclui lista atrav√©s da exclus√£o de seus elementos¬†              |
//+------------------------------------------------------------------+
void CMyList::Destroy()
  {
//--- ponteiro de servi√ßo para trabalhar no loop
   CItem* item;
//--- percorre pelo loop e tenta excluir ponteiros din√¢micos
   while(CheckPointer(m_items)!=POINTER_INVALID)
     {
      item=m_items;
      m_items=m_items.Next();
      if(CheckPointer(item)==POINTER_DYNAMIC)
        {
         Print(&quot;Dynamic object &quot;,item.Identifier(),&quot; para ser exclu√≠do&quot;);
         delete (item);
        }
      else Print(&quot;Objeto n√£o-din√¢mico &quot;,item.Identifier(),&quot; cannot be deleted&quot;);
     }</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1136
</p>
<pre><code class="language-mql5">
//---
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
Ponteiros de Objetos, Verifica√ß√£o do Ponteiro de Objeto, Exclus√£o de Objeto Operador delete</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1137
<h3>Comment</h3>
Esta fun√ß√£o exibe um coment√°rio definido pelo usu√°rio no canto superior esquerdo de um gr√°fico.
</p>
<pre><code class="language-mql5">
void¬† Comment(
   argument,     // primeiro valor
   ...¬†          // pr√≥ximos valores
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
...
[in]   Quaisquer valores, separados por v√≠rgulas. Para delimitar a exibi√ß√£o da informa√ß√£o em
v√°rias linhas, um s√≠mbolo de quebra de linha &quot;\n&quot; ou &quot;\r\n&quot; √© usado. O n√∫mero de par√¢metros n√£o
pode exceder 64. O comprimento total do coment√°rio de entrada (incluindo s√≠mbolos invis√≠veis)
n√£o pode exceder 2045 caracteres (s√≠mbolos em excesso ser√£o eliminados da exibi√ß√£o)
<h3>Valor do Retorno</h3>
<h3>Sem valor de retorno</h3>
<h3>Observa√ß√£o</h3>
Arrays n√£o podem ser passados para a fun√ß√£o Comment(). Arrays devem ser alimentados elemento a
elemento.
Dados de tipo double s√£o impressos com precis√£o de at√© 16 d√≠gitos ap√≥s o ponto decimal, e podem
ser impressos tanto na forma tradicional quanto na forma cient√≠fica, dependendo de qual nota√ß√£o
ser√° a mais compacta. Dados do tipo float s√£o exibidos com 5 d√≠gitos ap√≥s o ponto decimal. Para
exibir n√∫meros reais com uma outra precis√£o ou em um formato predefinido, use a fun√ß√£o
DoubleToString(). 
Dados de tipo bool s√£o impressos como strings &quot;true&quot; ou &quot;false&quot;. Datas s√£o mostradas como
YYYY.MM.DD HH:MM:SS. Para mostrar datas em um outro formato, use a fun√ß√£o TimeToString().
Dados de tipo color s√£o impressos tanto como strings R,G,B quanto como nome de cor, se esta cor
estiver presente no conjunto de cores.
 A fun√ß√£o Comment() n√£o funciona no durante a otimiza√ß√£o no Testador de Estrat√©gias.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
void OnTick()
  {
//---
   double Ask,Bid;
   int Spread;
   Ask=SymbolInfoDouble(Symbol(),SYMBOL_ASK);
   Bid=SymbolInfoDouble(Symbol(),SYMBOL_BID);
   Spread=SymbolInfoInteger(Symbol(),SYMBOL_SPREAD);
//--- Exibe valores em 3 linhas
   Comment(StringFormat(&quot;Mostrar pre√ßos\nAsk = %G\nBid = %G\nSpread = %d&quot;,Ask,Bid,Spre
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3></p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1138
<h3>ChartSetString, ChartGetString</h3></p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1139
<h3>CryptEncode</h3>
Transforma os dados do array com o m√©todo especificado.
</p>
<pre><code class="language-mql5">
int¬† CryptEncode(
   ENUM_CRYPT_METHOD   method,¬†       // m√©todo
   const uchar&amp;¬†       data[],¬†       // array fonte
   const uchar&amp;¬†       key[],¬†        // key
   uchar&amp;¬†             result[] ¬†     // array de destino
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
m√©todo
[in]  M√©todo de transforma√ß√£o de dados. Pode ser um dos valores da enumera√ß√£o
ENUM_CRYPT_METHOD.
data[]
[in]  Array fonte.
key[]
[in]  Key array.
result[]
[out]  Array de destino.
<h3>Valor retornado</h3>
Quantidade de bytes no array de destino ou 0 em caso de erro. Para obter informa√ß√µes sobre o erro
chame a fun√ß√£o GetLastError().
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| ArrayToHex                                                       |
//+------------------------------------------------------------------+
string ArrayToHex(uchar &amp;arr[],int count=-1)
  {
   string res=&quot;&quot;;
//--- verificar
   if(count&lt;0 || count&gt;ArraySize(arr))
      count=ArraySize(arr);
//--- transformar em HEX string
   for(int i=0; i&lt;count; i++)
      res+=StringFormat(&quot;%.2X&quot;,arr[i]);
//---
   return(res);
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Fun√ß√£o de in√≠cio do programa script                              |
//+------------------------------------------------------------------+
void OnStart()</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1140
</p>
<pre><code class="language-mql5">
  {
   string text=&quot;A r√°pida raposa marrom salta sobre o c√£o pregui√ßoso&quot;;
   string keystr=&quot;ABCDEFG&quot;;
   uchar src[],dst[],key[];
//--- preparar key
   StringToCharArray(keystr,key);
//--- copiar texto do array fonte src[]
   StringToCharArray(text,src);
//--- imprimir dados iniciais
   PrintFormat(&quot;Initial data: size=%d, string=&#x27;%s&#x27;&quot;,ArraySize(src),CharArrayToString(s
//--- encriptar src[] com a key DES 56-bit em key[]
   int res=CryptEncode(CRYPT_DES,src,key,dst);
//--- verificar erro
   if(res&gt;0)
     {
      //--- imprimir dados encriptados
      PrintFormat(&quot;Encoded data: size=%d %s&quot;,res,ArrayToHex(dst));
      //--- decodificar dst[] para src[]
      res=CryptDecode(CRYPT_DES,dst,key,src);
      //--- verificar erro     
      if(res&gt;0)
        {
         //--- imprimir dados decodificados
         PrintFormat(&quot;Decoded data: size=%d, string=&#x27;%s&#x27;&quot;,ArraySize(src),CharArrayToSt
        }
      else
         Print(&quot;Erro no CryptDecode. Error code=&quot;,GetLastError());
     }
   else
      Print(&quot;Erro no CryptEncode. Error code=&quot;,GetLastError());
</code></pre>
<p>
  }
<h3>Veja tamb√©m</h3>
<h3>Fun√ß√µes do array, CryptDecode()</h3></p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1141
<h3>CryptDecode</h3>
Executa a transforma√ß√£o inversa dos dados do array, transformada pelo CryptEncode().
</p>
<pre><code class="language-mql5">
int¬† CryptEncode(
   ENUM_CRYPT_METHOD   method,¬†       // m√©todo
   const uchar&amp;¬†       data[],¬†       // array fonte
   const uchar&amp;¬†       key[],¬†        // key
   uchar&amp;¬†             result[] ¬†     // array de destino
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
m√©todo
[in]  M√©todo de transforma√ß√£o de dados. Pode ser um dos valores da enumera√ß√£o
ENUM_CRYPT_METHOD.
data[]
[in]  Array fonte.
key[]
[in]  Key array.
result[]
[out]  Array de destino.
<h3>Valor retornado</h3>
Quantidade de bytes no array de destino ou 0 em caso de erro. Para obter informa√ß√µes sobre o erro
chame a fun√ß√£o GetLastError().
<h3>Veja tamb√©m</h3>
<h3>Fun√ß√µes do array, CryptEncode()</h3>
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
input string InpKey = &quot;ABCDEFG&quot;;  // Encryption key
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
   string text=&quot;The quick brown fox jumps over the lazy dog&quot;;
   uchar src[],dst[],key[];
//--- prepara√ß√£o da chave de criptografia
   StringToCharArray(InpKey,key);
//--- prepara√ß√£o do array de origem src[]
   StringToCharArray(text,src);</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1142
</p>
<pre><code class="language-mql5">
//--- exibi√ß√£o dos dados de entrada
   PrintFormat(&quot;Initial data: size=%d, string=&#x27;%s&#x27;&quot;,ArraySize(src),CharArrayToString(s
//--- criptografia do array src[] pelo m√©todo DES com a chave de 56 bits key[]
   int res=CryptEncode(CRYPT_DES,src,key,dst);
//--- verifica√ß√£o do resultado da criptografia
   if(res&gt;0)
     {
      //--- exibi√ß√£o dos dados criptografados
      PrintFormat(&quot;Encoded data: size=%d %s&quot;,res,ArrayToHex(dst));
      //--- descriptografia dos dados do array dst[] pelo m√©todo DES com a chave de 56
      res=CryptDecode(CRYPT_DES,dst,key,src);
      //--- verifica√ß√£o do resultado
      if(res&gt;0)
        {
         //--- exibi√ß√£o dos dados descriptografados
         PrintFormat(&quot;Decoded data: size=%d, string=&#x27;%s&#x27;&quot;,ArraySize(src),CharArrayToSt
        }
      else
         Print(&quot;CryptDecode failed. Error: &quot;,GetLastError());
     }
   else
      Print(&quot;CryptEncode failed. Error: &quot;,GetLastError());
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| ArrayToHex                                                       |
//+------------------------------------------------------------------+
string ArrayToHex(uchar &amp;arr[],int count=-1)
  {
   string res=&quot;&quot;;
//--- verifica√ß√£o do tamanho
   if(count&lt;0 || count&gt;ArraySize(arr))
      count=ArraySize(arr);
//--- convers√£o para string hexadecimal
   for(int i=0; i&lt;count; i++)
      res+=StringFormat(&quot;%.2X&quot;,arr[i]);
   return(res);
</code></pre>
<p>
  }</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1143
<h3>DebugBreak</h3>
√â um ponto de parada de programa em depura√ß√£o.
</p>
<pre><code class="language-mql5">
void¬† DebugBreak();
</code></pre>
<p>
<h3>Valor do Retorno</h3>
Sem valor de retorno.
<h3>Observa√ß√£o</h3>
A execu√ß√£o de um programa MQL5 √© interrompido somente se ele for iniciado em modo de
depura√ß√£o. A fun√ß√£o pode ser usada para ver valores de vari√°veis e/ou para avan√ßar a execu√ß√£o
passo a passo.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- compilar o arquivo pressionando F5
//--- no modo de depura√ß√£o quando i == j paramos na linha DebugBreak()  
   for(int i=0,j=20; i&lt;20; i++,j--)
     {
      if(i==j)
         DebugBreak();
     }
</code></pre>
<p>
  }</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1144
<h3>ExpertRemove</h3>
A fun√ß√£o interrompe um Expert Advisor e o descarrega de um gr√°fico.
</p>
<pre><code class="language-mql5">
void¬† ExpertRemove();
</code></pre>
<p>
<h3>Valor de retorno</h3>
Sem valor de retorno.
<h3>Observa√ß√£o</h3>
O Expert Advisor n√£o √© interrompido imediatamente ao chamar ExpertRemove(); apenas um flag
para interromper a opera√ß√£o o EA √© definido. Isso √©, nenhum evento seguinte ser√° processo,
OnDeinit() ser√° chamado e o Expert Advisor ser√° descarregado e removido do gr√°fico.
A chamada da ExpertRemove() no testador de estrat√©gias dentro do manipulador OnInit() faz com
que seja cancelado o teste no conjunto de par√¢metros atual. Essa finaliza√ß√£o √© considerada um erro
durante a inicializa√ß√£o. 
Ao chamar a ExpertRemove() no testador de estrat√©gias ap√≥s a inicializa√ß√£o bem-sucedida do EA, o
teste √© encerrado de maneira geral com chamada da OnDeinit() e da OnTester(). Neste caso, ser√£o
obtidos todas as estat√≠sticas de negocia√ß√£o e valores do crit√©rio de otimiza√ß√£o.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//|                                            Test_ExpertRemove.mq5 |
//|                        Copyright 2009, MetaQuotes Software Corp. |
//|                                             https://www.mql5.com |
//+------------------------------------------------------------------+
#property copyright &quot;2009, MetaQuotes Software Corp.&quot;
#property link      &quot;https://www.mql5.com&quot;
#property version   &quot;1.00&quot;
input int ticks_to_close=20;// n√∫mero de ticks antes do EA descarregar
//+------------------------------------------------------------------+
//| Fun√ß√£o de Desinicializa√ß√£o do Expert                             |
//+------------------------------------------------------------------+
void OnDeinit(const int reason)
  {
//--- 
   Print(TimeCurrent(),&quot;: &quot; ,__FUNCTION__,&quot; c√≥digo de motivo = &quot;,reason);
//--- &quot;limpa&quot; coment√°rio
   Comment(&quot;&quot;);
//---
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Fun√ß√£o tick (ponto) de um Expert                                 |
//+------------------------------------------------------------------+
void OnTick()
  {
   static int tick_counter=0;</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1145
</p>
<pre><code class="language-mql5">
//---
   tick_counter++;
   Comment(&quot;\nAntes de descarregar Expert Advisor &quot;,__FILE__,&quot; left&quot;,
           (ticks_to_close-tick_counter),&quot; ticks&quot;);
//--- antes
   if(tick_counter&gt;=ticks_to_close)
     {
      ExpertRemove();
      Print(TimeCurrent(),&quot;: &quot;,__FUNCTION__,&quot; Expert Advisor ser√° descarregado&quot;);
     }
   Print(&quot;tick_counter =&quot;,tick_counter);
//---
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
</code></pre>
<p>
<h3>Tamb√©m Veja</h3>
Execu√ß√£o de programas, Eventos do terminal Cliente</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1146
<h3>GetPointer</h3>
A fun√ß√£o retorna o ponteiro de objeto.
void*¬† GetPointer(
</p>
<pre><code class="language-mql5">
   any_class anyobject¬†     // objeto de qualquer classe
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
anyobject
[in]  Objeto de qualquer classe.
<h3>Valor do Retorno</h3>
A fun√ß√£o retorna o ponteiro de objeto.
<h3>Observa√ß√£o</h3>
Somente objetos de classe t√™m ponteiros. Inst√¢ncias de estruturas e vari√°veis de tipo simples n√£o
podem ter ponteiros. O objeto de classe n√£o criado usando o operador new(), mas, por exemplo,
criado automaticamente no array de objetos, tem um ponteiro. Mas este ponteiro ser√° do tipo
autom√°tico POINTER_AUTOMATIC, portanto o operador delete() n√£o pode ser aplicado a ele. Al√©m
de que, o tipo ponteiro n√£o difere dos ponteiros din√¢mico do tipo POINTER_DYNAMIC.
Como vari√°veis de tipo estrutura e de tipo simples n√£o t√™m ponteiros, √© proibido aplicar a fun√ß√£o
GetPointer() a elas. √â tamb√©m proibido passar o ponteiro como um argumento de fun√ß√£o. Nos outros
casos o resultado √© indefinido.
Uma tentativa de chamar um ponteiro incorreto causa a finaliza√ß√£o cr√≠tica de um programa. √â por
isso que a fun√ß√£o CheckPointer() deve ser chamada antes de usar um ponteiro. Um ponteiro pode
estar incorreto nos seguintes casos:
¬∑ o ponteiro √© igual a NULL;
¬∑ o objeto foi exclu√≠do usando o operador delete.
Esta fun√ß√£o pode ser usada para verificar a validade de um ponteiro. Um valor n√£o-zero garante que
o ponteiro pode ser usado para acesso.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//|                                             Check_GetPointer.mq5 |
//|                        Copyright 2009, MetaQuotes Software Corp. |
//|                                              https://www.mql5.com |
//+------------------------------------------------------------------+
#property copyright &quot;2009, MetaQuotes Software Corp.&quot;
#property link      &quot;https://www.mql5.com&quot;
#property version   &quot;1.00&quot;
//+------------------------------------------------------------------+
//| Classe implementando o elemento da lista¬†                        |
//+------------------------------------------------------------------+</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1147
</p>
<pre><code class="language-mql5">
class CItem
  {
   int               m_id;
   string            m_comment;
   CItem*            m_next;
</code></pre>
<p>
public:
</p>
<pre><code class="language-mql5">
                     CItem() { m_id=0; m_comment=NULL; m_next=NULL; }
                    ~CItem() { Print(&quot;Destrutor de &quot;,m_id,
                                     (CheckPointer(GetPointer(this))==POINTER_DYNAMIC)
                                     &quot;dynamic&quot;:&quot;n√£o din√¢mico&quot;); }
   void              Initialize(int id,string comm) { m_id=id; m_comment=comm; }
   void              PrintMe() { Print(__FUNCTION__,&quot;:&quot;,m_id,m_comment); }
   int               Identifier() { return(m_id); }
   CItem*            Next() {return(m_next); }
   void              Next(CItem *item) { m_next=item; }
</code></pre>
<p>
  };
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Classe mais simples de lista¬†                                    |
//+------------------------------------------------------------------+
class CMyList
  {
   CItem*            m_items;
</code></pre>
<p>
public:
</p>
<pre><code class="language-mql5">
                     CMyList() { m_items=NULL; }
                    ~CMyList() { Destroy(); }
    bool             InsertToBegin(CItem* item);
    void             Destroy();
</code></pre>
<p>
  };
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Incluindo elemento de lista no come√ßo¬†                           |
//+------------------------------------------------------------------+
bool CMyList::InsertToBegin(CItem* item)
  {
   if(CheckPointer(item)==POINTER_INVALID) return(false);
//---
   item.Next(m_items);
   m_items=item;
//---
   return(true);
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Excluindo a lista atrav√©s da exclus√£o dos elementos¬†             |
//+------------------------------------------------------------------+
void CMyList::Destroy()
  {
//--- ponteiro de servi√ßo para trabalhar em um loop
   CItem* item;
//--- varre o loop e tenta excluir ponteiros din√¢micos
   while(CheckPointer(m_items)!=POINTER_INVALID)</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1148
</p>
<pre><code class="language-mql5">
     {
      item=m_items;
      m_items=m_items.Next();
      if(CheckPointer(item)==POINTER_DYNAMIC)
        {
         Print(&quot;Dynamyc object &quot;,item.Identifier(),&quot; para ser exclu√≠do&quot;);
         delete (item);
        }
      else Print(&quot;Objeto n√£o-din√¢mico &quot;,item.Identifier(),&quot; cannot be deleted&quot;);
     }
//---
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Fun√ß√£o start do programa script¬†                                 |
//+------------------------------------------------------------------+
void OnStart()
  {
   CMyList list;
   CItem   items[10];
   CItem*  item;
//--- cria e adiciona na lista um ponteiro de objeto din√¢mico
   item=new CItem;
   if(item!=NULL)
     {
      item.Initialize(100,&quot;din√¢mico&quot;);
      item.PrintMe();
      list.InsertToBegin(item);
     }
//--- adiciona ponteiros autom√°ticos na lista
   for(int i=0; i&lt;10; i++)
     {
      items[i].Initialize(i,&quot;autom√°tico&quot;);
      items[i].PrintMe();
      item=GetPointer(items[i]);
      if(CheckPointer(item)!=POINTER_INVALID)
         list.InsertToBegin(item);
     }
//--- adiciona mais um ponteiro de objeto din√¢mico no come√ßo da lista
   item=new CItem;
   if(item!=NULL)
     {
      item.Initialize(200,&quot;din√¢mico&quot;);
      item.PrintMe();
      list.InsertToBegin(item);
     }
//--- exclui todos os elementos da lista
   list.Destroy();
//--- todos os elementos da lista ser√° exclu√≠dos ap√≥s o script terminar
//--- veja a guia Experts no terminal</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1149
  }
<h3>Tamb√©m Veja</h3>
Ponteiros de Objetos, Verifica√ß√£o do Ponteiro de Objeto, Exclus√£o de Objeto Operador delete</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1150
<h3>GetTickCount</h3>
A fun√ß√£o GetTickCount() retorna o n√∫mero de milissegundos decorridos desde o inicializa√ß√£o do
sistema.
uint¬† GetTickCount();
<h3>Valor do Retorno</h3>
Valor de tipo uint.
<h3>Observa√ß√£o</h3>
O contador √© limitado pelas restri√ß√µes do timer do sistema. O tempo √© armazenado como um inteiro
sem sinal, assim ele √© sobre-preenchido a cada 49.7 dias se um computador trabalhar
ininterruptamente.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
#define MAX_SIZE 40
//+------------------------------------------------------------------+
//| Script para medir o tempo de computa√ß√£o de 40 membros Fibonacci¬† |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- Lembra o valor inicial
   uint start=GetTickCount();
//--- Uma vari√°vel para obten√ß√£o do pr√≥ximo n√∫mero na s√©rie Fibonacci
   long fib=0;
//--- No loop calcular a quantidade espec√≠fica de n√∫meros de s√©rie de Fibonacci
   for(int i=0;i&lt;MAX_SIZE;i++) fib=TestFibo(i);
//--- Obt√©m o tempo gasto em milissegundos
   uint time=GetTickCount()-start;
//--- Imprime uma mensagem para o di√°rio Experts
   PrintFormat(&quot;Calculando %d primeiros n√∫meros Fibonacci tiveram %d ms&quot;,MAX_SIZE,time
//--- Script conclu√≠do
   return;
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Fun√ß√£o para obter n√∫mero de Fibonacci pelo seu n√∫mero serial¬†    |
//+------------------------------------------------------------------+
</code></pre>
<p>
long TestFibo(long n)
</p>
<pre><code class="language-mql5">
  {
//--- O primeiro membro da s√©rie Fibonacci
   if(n&lt;2) return(1);
//--- Todos os outros membros s√£o calculados pela seguinte f√≥rmula
   return(TestFibo(n-2)+TestFibo(n-1));
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
Data e Hora, EventSetMillisecondTimer, GetTickCount64, GetMicrosecondCount</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1151
<h3>GetTickCount64</h3>
A fun√ß√£o GetTickCount() 64 retorna o n√∫mero de milissegundos que passaram desde o in√≠cio do
sistema.
ulong¬† GetTickCount64();
<h3>Valor retornado</h3>
Valor do tipo ulong.
<h3>Observa√ß√£o</h3>
O contador √© limitado pela resolu√ß√£o do temporizador do sistema, que geralmente retorna um
resultado com uma precis√£o de 10 a 16 milissegundos. Ao contr√°rio da fun√ß√£o GetTickCount, que √©
do tipo uint e, consequentemente, √© abarrotada a cada 49,7 dias durante opera√ß√£o cont√≠nua do
computador,¬†GetTickCount64() pode ser usada com per√≠odo de opera√ß√£o indefinido do computador e
sem receio de abarrotamento.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
#define MAX_SIZE 40
//+------------------------------------------------------------------+
//| Script para medir o tempo de c√°lculo de 40 n√∫meros de Fibonacci  |
//+------------------------------------------------------------------+
void OnStart()
  {
   long fib_array[MAX_SIZE];
//--- armazenamos o valor inicial
   ulong start=GetTickCount64();
//--- ciclo no qual calculamos o n√∫mero especificado de n√∫meros da sequ√™ncia de Fibona
   for(int i=0;i&lt;MAX_SIZE;i++) 
      fib_array[i]=TestFibo(i);
//--- obtemos o tempo gasto em milissegundos
   ulong time=GetTickCount64()-start;
//--- exibimos uma mensagem no log &quot;Experts&quot;
   ArrayPrint(fib_array);
   PrintFormat(&quot;Calculating the first %d Fibonacci numbers took %I64u ms&quot;,MAX_SIZE,tim
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Fun√ß√£o para obter o n√∫mero de Fibonacci pelo seu n√∫mero de ordem |
//+------------------------------------------------------------------+
</code></pre>
<p>
long TestFibo(long n)
</p>
<pre><code class="language-mql5">
  {
//--- o primeiro membro da sequ√™ncia de Fibonacci
   if(n&lt;2)
      return(1);</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1152
</p>
<pre><code class="language-mql5">
//--- todos os membros subsequentes s√£o calculados por esta f√≥rmula
   return(TestFibo(n-2)+TestFibo(n-1));
</code></pre>
<p>
  }
<h3>Veja tamb√©m</h3>
Data e hora, EventSetMillisecondTimer, GetTickCount, GetMicrosecondCount</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1153
<h3>GetMicrosecondCount</h3>
A fun√ß√£o GetMicrosecondCount() retorna o n√∫mero de microssegundos que decorreram desde o in√≠cio
do programa MQL5.
ulong¬† GetMicrosecondCount();
<h3>Retornar Valor</h3>
Valor do tipo ulong.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Teste da fun√ß√£o                                                  |
//+------------------------------------------------------------------+
void Test()
  {
   int    res_int=0;
   double res_double=0;
//---  
   for(int i=0;i&lt;10000;i++)
     {
      res_int+=i*i;
      res_int++;
      res_double+=i*i;
      res_double++;
     }
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Fun√ß√£o de in√≠cio do programa script                              |
//+------------------------------------------------------------------+
void OnStart()
  {
   uint   ui=0,ui_max=0,ui_min=INT_MAX;
   ulong  ul=0,ul_max=0,ul_min=INT_MAX;
//--- n√∫mero de medidas
   for(int count=0;count&lt;1000;count++)
     {
      uint  ui_res=0;
      ulong ul_res=0;
      //--- 
      for(int n=0;n&lt;2;n++)
        {
         //--- selecionar tipo de medida
         if(n==0) ui=GetTickCount();
         else     ul=GetMicrosecondCount();
         //--- executar c√≥digo 
         Test();
         //--- adicionar resultado da medida (dependendo do tipo)</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1154
</p>
<pre><code class="language-mql5">
         if(n==0) ui_res+=GetTickCount()-ui;
         else     ul_res+=GetMicrosecondCount()-ul;         
        }
      //--- Calcular o tempo m√≠nimo e m√°ximo para ambas as medi√ß√µes
      if(ui_min&gt;ui_res) ui_min=ui_res;
      if(ui_max&lt;ui_res) ui_max=ui_res;
      if(ul_min&gt;ul_res) ul_min=ul_res;
      if(ul_max&lt;ul_res) ul_max=ul_res;
     }
//---
   Print(&quot;GetTickCount error(msec): &quot;,ui_max-ui_min);
   Print(&quot;GetMicrosecondCount error(msec): &quot;,DoubleToString((ul_max-ul_min)/1000.0,2))
</code></pre>
<p>
  }
<h3>Veja tamb√©m</h3>
<h3>Data e hora, GetTickCount, GetTickCount64</h3></p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1155
<h3>MessageBox</h3>
Cria e exibe uma caixa de mensagem e o gerencia. Um caixa de mensagem cont√©m uma mensagem e
cabe√ßalho, e qualquer combina√ß√£o de sinais predefinidos e bot√µes de comando.
</p>
<pre><code class="language-mql5">
int¬† MessageBox(
   string¬† text,¬†            // texto da mensagem
   string¬† caption=NULL,¬†    // cabe√ßalho da caixa
   int¬†    flags=0¬†          // define o conjunto de bot√µes na caixa
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
text
[in]  Texto, cont√©m a mensagem de sa√≠da.
caption=NULL
[in]  Texto opcional a ser exibido no cabe√ßalho da caixa. Se o par√¢metro estiver vazio, o nome do
Expert Advisor √© exibido no cabe√ßalho da caixa.
flags=0
[in]  Flags opcionais definindo a apar√™ncia e comportamento da caixa de mensagem. Flags podem
ser uma combina√ß√£o de um grupo especial de flags.
<h3>Valor do Retorno</h3>
Se a fun√ß√£o for executada com sucesso, o valor de retorno √© um dos valores dos c√≥digos de retorno
do MessageBox().
<h3>Observa√ß√£o</h3>
A fun√ß√£o √© proibida em indicadores personalizados, uma vez que a chamada para MessageBox()
interrompe o trabalho do thread de execu√ß√£o durante todo o tempo de espera pela resposta do
usu√°rio. Como todos os indicadores de cada s√≠mbolo s√£o executados num √∫nico thread, o
funcionamento de todos os gr√°ficos em todos os per√≠odos gr√°ficos do s√≠mbolo em quest√£o ser√°
interrompido.
A fun√ß√£o MessageBox() n√£o funciona no Testador de estrat√©gias.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| O EA mostra uma MessageBox com uma solicita√ß√£o de trabalho extra |
//| quando alcan√ßado o limite de negocia√ß√µes perdedoras consecutivas |
//| Aguarda um n√∫mero especificado de barras e exibe uma MessageBox  |
//| mostrando uma solicita√ß√£o para continuar a trabalhar.            |
//| Para verificar, abra e feche manualmente algumas posi√ß√µes        |
//| com preju√≠zo, pois, para simplificar, o EA n√£o                   |
//| controla &quot;suas&quot; posi√ß√µes com base no magic number.               |
//+------------------------------------------------------------------+</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1156
</p>
<pre><code class="language-mql5">
//--- input parameters
input uint InpMaxLossDeals      =  3;    // Max Loss deals
input uint InpInactivityNumBars =  5;    // Number of bars of advisor inactivity
//--- global variables
bool     ExtFirstStart=true;             // Flag de primeira inicializa√ß√£o
bool     ExtFlag=true;                   // Flag de permiss√£o de opera√ß√£o do EA
</code></pre>
<p>
uint     ExtNumLoss;                     // N√∫mero de negocia√ß√µes perdedoras consecuti
datetime ExtTimeLastLoss;                // Tempo da √∫ltima opera√ß√£o de fechamento de 
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Expert initialization function                                   |
//+------------------------------------------------------------------+
int OnInit()
  {
//--- obtemos o n√∫mero de negocia√ß√µes perdedoras consecutivas e o tempo da √∫ltima oper
   ExtNumLoss=GetNumLosingTradesInRow(ExtTimeLastLoss);
   return(INIT_SUCCEEDED);
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Expert deinitialization function                                 |
//+------------------------------------------------------------------+
void OnDeinit(const int reason)
  {
   Comment(&quot;&quot;);
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Expert tick function                                             |
//+------------------------------------------------------------------+
void OnTick()
  {
//--- determinamos quantas a barras se passaram desde a √∫ltima posi√ß√£o perdedora fecha
   int bars_remaining=iBarShift(Symbol(),PERIOD_CURRENT,ExtTimeLastLoss);
//--- se for a primeira inicializa√ß√£o
   if(ExtFirstStart)
     {
      //--- se j√° passou o n√∫mero especificado de a barras ap√≥s a s√©rie de posi√ß√µes pe
      if(bars_remaining&gt;(int)InpInactivityNumBars)
         ExtFlag=true;
      ExtFirstStart=false;
     }
//--- se a flag de opera√ß√£o do EA for removida
   if(!ExtFlag)
     {
      Comment(StringFormat(&quot;The advisor is stopped for %d bars. Num Loss positions: %u
                          (InpInactivityNumBars-bars_remaining),ExtNumLoss,TimeToStrin</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1157
</p>
<pre><code class="language-mql5">
      //--- se passou o n√∫mero especificado de a barras ap√≥s a s√©rie de posi√ß√µes perde
      if(bars_remaining&gt;(int)InpInactivityNumBars)
        {
         //--- exibimos uma caixa de di√°logo MessageBox com o texto especificado e o t
         //--- a janela de solicita√ß√£o tem dois bot√µes Yes/No e um √≠cone com um sinal 
         //--- o bot√£o Yes √© selecionado por padr√£o.
         string mb_text=&quot;The specified number of bars of EA inactivity have passed.\n 
         string mb_caption=&quot;Please note&quot;;
         int    mb_id=MessageBox(mb_text,mb_caption,MB_YESNO|MB_ICONQUESTION|MB_DEFBUT
         //--- se o c√≥digo de retorno do MessageBox for o bot√£o Yes pressionado, defin
         if(mb_id==IDYES)
           {
            ExtFlag=true;
            return;
           }
        }
      //--- se a flag de opera√ß√£o do EA for removida, sa√≠mos do OnTick()
      return;
     }
//---  a flag de opera√ß√£o do EA est√° definida, o EA funciona conforme o c√≥digo abaixo 
   Comment(StringFormat(&quot;The advisor is working. Num Loss positions: %u, Time last los
           ExtNumLoss,TimeToString(ExtTimeLastLoss,TIME_DATE|TIME_MINUTES|TIME_SECONDS
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| TradeTransaction function                                        |
//+------------------------------------------------------------------+
void OnTradeTransaction(const MqlTradeTransaction&amp; trans,
                        const MqlTradeRequest&amp; request,
                        const MqlTradeResult&amp; result)
  {
//--- se o tipo de transa√ß√£o for a adi√ß√£o de uma negocia√ß√£o ao hist√≥rico
   if(trans.type==TRADE_TRANSACTION_DEAL_ADD)
     {
      //--- Obtemos o ticket da negocia√ß√£o e selecionamos a negocia√ß√£o da lista pelo t
      ulong deal_ticket=trans.deal;
      if(HistoryDealSelect(deal_ticket))
        {
         //--- se for uma negocia√ß√£o para sair do mercado, obtemos o n√∫mero de negocia
         ENUM_DEAL_ENTRY entry=(ENUM_DEAL_ENTRY)HistoryDealGetInteger(deal_ticket,DEAL
         if(entry==DEAL_ENTRY_OUT || entry==DEAL_ENTRY_INOUT || entry==DEAL_ENTRY_OUT_
            ExtNumLoss=GetNumLosingTradesInRow(ExtTimeLastLoss);
        }
     }
//--- se o n√∫mero de negocia√ß√µes perdedoras consecutivas for maior que o valor especif
   if(ExtNumLoss&gt;=InpMaxLossDeals &amp;&amp; ExtFlag)
     {
         //--- exibimos uma caixa de di√°logo MessageBox com o texto especificado e o t</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1158
</p>
<pre><code class="language-mql5">
      //--- a janela de solicita√ß√£o tem dois bot√µes Yes/No e um √≠cone com um sinal de 
      //--- o bot√£o No √© selecionado por padr√£o
      string mb_text=&quot;The number of losing trades has reached the specified maximum. T
      string mb_caption=&quot;Attention!&quot;;
      int    mb_id=MessageBox(mb_text,mb_caption,MB_YESNO|MB_ICONQUESTION|MB_DEFBUTTON
      //--- se o c√≥digo de retorno do MessageBox for o bot√£o No pressionado, removemos
      if(mb_id==IDNO)
         ExtFlag=false;
     }
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Retorna o n√∫mero de negocia√ß√µes perdedoras consecutivas          |
//| e o tempo da √∫ltima opera√ß√£o de fechamento de posi√ß√£o perdedora  |
//+------------------------------------------------------------------+
</code></pre>
<p>
uint GetNumLosingTradesInRow(datetime &amp;time_last_deal)
</p>
<pre><code class="language-mql5">
  {
//--- selecionamos todo o hist√≥rico
   if(!HistorySelect(0,TimeCurrent()))
      return(0);
//--- no ciclo pela lista de negocia√ß√µes hist√≥ricas, obtemos o ticket da pr√≥xima negoc
   uint res=0;
   uint total=HistoryDealsTotal();
   for(int i=(int)total-1; i&gt;=0; i--)
     {
      ulong deal_ticket=HistoryDealGetTicket(i);
      if(deal_ticket&gt;0)
        {
         //--- se a negocia√ß√£o n√£o for de sa√≠da de posi√ß√£o, passamos para a pr√≥xima
         ENUM_DEAL_ENTRY entry=(ENUM_DEAL_ENTRY)HistoryDealGetInteger(deal_ticket,DEAL
         if(entry!=DEAL_ENTRY_OUT &amp;&amp; entry!=DEAL_ENTRY_OUT_BY &amp;&amp; entry!=DEAL_ENTRY_INO
            continue;
         //--- se o resultado do fechamento da posi√ß√£o tiver lucro positivo, interromp
         if(!IsClosePositionWithLoss(deal_ticket))
            break;
         //--- incrementamos o contador de negocia√ß√µes consecutivas com preju√≠zo
         res++;
         //--- registramos na vari√°vel o tempo m√°ximo da negocia√ß√£o (procuramos a √∫lti
         datetime deal_time=(datetime)HistoryDealGetInteger(deal_ticket,DEAL_TIME);
         if(deal_time&gt;time_last_deal)
            time_last_deal=deal_time;
        }
     }
//--- Retornamos o n√∫mero de perdas consecutivas
   return(res);
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Retorna a flag de fechamento da posi√ß√£o com perda             |</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1159
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
bool IsClosePositionWithLoss(const ulong deal_ticket)
  {
//--- obtemos a partir da negocia√ß√£o os valores das propriedades que afetam o lucro
   double profit=HistoryDealGetDouble(deal_ticket,DEAL_PROFIT);
   double comission=HistoryDealGetDouble(deal_ticket,DEAL_COMMISSION);
   double swap=HistoryDealGetDouble(deal_ticket,DEAL_SWAP);
   double fee=HistoryDealGetDouble(deal_ticket,DEAL_FEE);
//--- retornamos a flag de que o valor total das propriedades obtidas √© negativo
   return(profit+comission+swap+fee&lt;0);
</code></pre>
<p>
  }</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1160
<h3>PeriodSeconds</h3>
Esta fun√ß√£o retorna o n√∫mero de segundos em um per√≠odo.
</p>
<pre><code class="language-mql5">
int¬† PeriodSeconds(
   ENUM_TIMEFRAMES¬† period=PERIOD_CURRENT¬†     // per√≠odo do gr√°fico
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
period=PERIOD_CURRENT
[in]  Valor do per√≠odo de um gr√°fico proveniente da enumera√ß√£o ENUM_TIMEFRAMES. Se o
par√¢metro n√£o for especificado, ela retorna o n√∫mero de segundos do per√≠odo do gr√°fico corrente,
no qual o programa est√° rodando.
<h3>Valor do Retorno</h3>
N√∫mero de segundos em um per√≠odo selecionado.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//--- input parameters
input ENUM_TIMEFRAMES InpPeriod1 = PERIOD_CURRENT;   // First Period
input ENUM_TIMEFRAMES InpPeriod2 = PERIOD_M1;        // Second Period
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- obtemos a quantidade de segundos nos per√≠odos do gr√°fico InpPeriod1 e InpPeriod2
   int sec1=PeriodSeconds(InpPeriod1);
   int sec2=PeriodSeconds(InpPeriod2);
//--- exibimos os valores obtidos no log
   PrintFormat(&quot;Seconds in period %s: %lu, in period %s: %lu&quot;,TimeframeDescription(Inp
//--- calculamos quantas barras do per√≠odo do gr√°fico InpPeriod2 cabem em uma barra do
   int res=sec1/sec2;
   if(res==0)
      res=1;
//--- exibimos os valores obtidos no log
   PrintFormat(&quot;One bar %s contains %d bars %s&quot;,TimeframeDescription(InpPeriod1),res,T
  /*
</code></pre>
<p>
<h3>Resultado:</h3>
</p>
<pre><code class="language-mql5">
   Seconds in period M5: 300, in period M1: 60
   One bar M5 contains 5 bars M1
</code></pre>
<p>
  */
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Retorna o nome do timeframe                                      |</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1161
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
string TimeframeDescription(const ENUM_TIMEFRAMES period)
  {
   return(StringSubstr(EnumToString(period==PERIOD_CURRENT ? Period() : period), 7));
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
_Period, Janelas de tempo de Gr√°ficos, Date e Hora, Visibilidade de objetos</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1162
<h3>PlaySound</h3>
Toca um arquivo de som.
</p>
<pre><code class="language-mql5">
bool¬† PlaySound(
   string¬† filename¬†     // nome do arquivo
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
filename
[in]  Caminho para um arquivo de som. Se filename=NULL, a reprodu√ß√£o √© interrompida.
<h3>Valor do Retorno</h3>
true ‚Äì se o arquivo for encontrado, caso contr√°rio - false.
<h3>Observa√ß√£o</h3>
O arquivo deve estar localizado em terminal_directory\Sounds ou em sub-diret√≥rios. Somente
arquivos WAV s√£o executados.
Chamar o PlaySound() com o par√¢metro NULL interrompe a reprodu√ß√£o.
A fun√ß√£o PlaySound() n√£o funciona no Testador de Estrat√©gias.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
#include &lt;Trade\Trade.mqh&gt;
#define MAGIC (123)
//--- input parameters
input string          InpFileNameOK  = &quot;ok.wav&quot;;               // arquivo de locu√ß√£o d
input string          InpFileNameErr = &quot;timeout.wav&quot;;          // arquivo de mensagem 
input ENUM_ORDER_TYPE InpOrderType   = ORDER_TYPE_BUY_LIMIT;   // tipo de ordem
input double          InpLots        = 0.1;                    // lotes
//--- global variables
</code></pre>
<p>
<h3>CTrade ExtTrade;</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- definimos o magic e o tipo de ordem de execu√ß√£o de acordo com as configura√ß√µes d
   ExtTrade.SetExpertMagicNumber(MAGIC);
   ExtTrade.SetTypeFillingBySymbol(Symbol());
//--- chamamos a fun√ß√£o de configura√ß√£o da ordem ou abertura de posi√ß√£o com reprodu√ß√£o
   OrderSendWithAudio();
</code></pre>
<p>
  }</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1163
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| A fun√ß√£o configura a ordem ou abre a posi√ß√£o                     |
//| e reproduz o som de sucesso ou erro                              |
//+------------------------------------------------------------------+
void OrderSendWithAudio(void)
  {
   bool    res=true;
   MqlTick tick= {};
   ResetLastError();
   if(!SymbolInfoTick(Symbol(),tick))
     {
      Print(&quot;SymbolInfoTick() failed. Error code: &quot;,GetLastError());
      PlaySound(InpFileNameErr);
      return;
     }
//--- enviamos uma solicita√ß√£o ao servidor
   switch(InpOrderType)
     {
      case ORDER_TYPE_BUY :
         res=ExtTrade.Buy(InpLots);
         break;
      case ORDER_TYPE_BUY_LIMIT :
         res=ExtTrade.BuyLimit(InpLots,NormalizeDouble(tick.ask-100*Point(),Digits()))
         break;
      case ORDER_TYPE_BUY_STOP :
         res=ExtTrade.BuyStop(InpLots,NormalizeDouble(tick.ask+100*Point(),Digits()));
         break;
      case ORDER_TYPE_SELL :
         res=ExtTrade.Sell(InpLots);
         break;
      case ORDER_TYPE_SELL_LIMIT :
         res=ExtTrade.SellLimit(InpLots,NormalizeDouble(tick.bid+100*Point(),Digits())
         break;
      case ORDER_TYPE_SELL_STOP :
         res=ExtTrade.SellStop(InpLots,NormalizeDouble(tick.bid-100*Point(),Digits()))
         break;
      default :
         res=false;
     }
   if(!res)
      Print(&quot;Error &quot;,GetLastError());
   Print(ExtTrade.ResultRetcodeDescription());
//--- se a solicita√ß√£o for aceita, reproduzimos o som ok.wav
   if(ExtTrade.ResultRetcode()==TRADE_RETCODE_DONE)
      PlaySound(InpFileNameOK);
   else
      PlaySound(InpFileNameErr);</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1164
  }
<h3>Tamb√©m Veja</h3>
<h3>Recursos</h3></p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1165
<h3>Print</h3>
Entra uma mensagem no log do Expert Advisor. Par√¢metros podem ser de qualquer tipo.
</p>
<pre><code class="language-mql5">
void¬† Print(
   argument,     // primeiro valor
   ...¬†          // pr√≥ximos valores
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
...
[in]  Quaisquer valores separados por virgulas. O n√∫mero de par√¢metros n√£o pode exceder 64.
<h3>Observa√ß√£o</h3>
Arrays n√£o podem ser passados para a fun√ß√£o Print(). Arrays devem ser passados elemento a
elemento.
Dados do tipo double s√£o mostrados com precis√£o de at√© 16 d√≠gitos ap√≥s o ponto decimal, e podem
ser exibidos tanto na formato tradicional como em nota√ß√£o cient√≠fica, dependendo de qual sa√≠da
ser√° mais compacta. Dados do tipo float s√£o exibidos com 5 d√≠gitos ap√≥s o ponto decimal. Para
imprimir n√∫meros reais com uma outra precis√£o ou em um formato predefinido, use a fun√ß√£o
PrintFormat() . 
Dados do tipo bool s√£o exibidos como strings &quot;true&quot; ou &quot;false&quot;. Datas s√£o mostradas como
YYYY.MM.DD HH:MM:SS. Para mostrar datas em um outro formato, use TimeToString(). Dados do
tipo cor s√£o retornados como string R,G,B ou como nome de cor, se esta cor estiver presente no
conjunto de cores
 A fun√ß√£o Print() n√£o funciona no durante a otimiza√ß√£o no Testador de Estrat√©gias.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
void OnStart()
  {
//--- Imprime o DBL_MAX usando Print(), isso √© equivalente a PrintFormat(%%.16G,DBL_MA
   Print(&quot;---- como DBL_MAX aparece -----&quot;);
   Print(&quot;Print(DBL_MAX)=&quot;,DBL_MAX);
//--- Agora imprime o n√∫mero DBL_MAX usando PrintFormat()
   PrintFormat(&quot;PrintFormat(%%.16G,DBL_MAX)=%.16G&quot;,DBL_MAX);
//--- Imprime no di√°rio Experts
// Print(DBL_MAX)=1.797693134862316e+308
// PrintFormat(%.16G,DBL_MAX)=1.797693134862316E+308
//--- Veja como um float √© impresso
   float c=(float)M_PI; // N√≥s devemos explicitamente converter para o tipo desejado
   Print(&quot;c=&quot;,c, &quot;    Pi=&quot;,M_PI, &quot;    (float)M_PI=&quot;,(float)M_PI);
// c=3.14159    Pi=3.141592653589793    (float)M_PI=3.14159
   
//--- Mostra o que pode acontecer com opera√ß√µes aritm√©ticas com tipos reais
   double a=7,b=200;
   Print(&quot;---- Antes de opera√ß√µes aritm√©ticas&quot;);</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1166
</p>
<pre><code class="language-mql5">
   Print(&quot;a=&quot;,a,&quot;   b=&quot;,b);
   Print(&quot;Print(DoubleToString(b,16))=&quot;,DoubleToString(b,16));
//--- Dividir a por b (7/200)
   a=a/b;
//--- Agora emula a restaura√ß√£o de um valor na vari√°vel b
   b=7.0/a; // √â esperado que b=7.0/(7.0/200.0)=&gt;7.0/7.0*200.0=200 - mas ele difere
//--- Imprimi o novo valor calculado de b
   Print(&quot;----- Ap√≥s as opera√ß√µes aritm√©ticas&quot;);
   Print(&quot;Print(b)=&quot;,b);
   Print(&quot;Print(DoubleToString(b,16))=&quot;,DoubleToString(b,16));
//--- Imprime no di√°rio Experts
// Print(b)=200.0
// Print(DoubleToString(b,16))=199.9999999999999716 (veja que b n√£o √© mais igual a 200
//--- Cria um valor muito pequeno epsilon=1E-013
   double epsilon=1e-13;
   Print(&quot;---- Criando um valor muito pequeno&quot;);
   Print(&quot;epsilon=&quot;,epsilon); // Obter epsilon=1E-013
//--- Agora subtrai epsilon de b e novamente imprime o valor no di√°rio Experts
   b=b-epsilon;
//--- Duas formas de uso
   Print(&quot;---- Depois de subtrair epsilon da vari√°vel b&quot;);
   Print(&quot;Print(b)=&quot;,b);
   Print(&quot;Print(DoubleToString(b,16))=&quot;,DoubleToString(b,16));
//--- Imprime no di√°rio Experts
// Print(b)=199.9999999999999  (agora o valor de b ap√≥s subtrair epsilon n√£o pode ser 
// Print(DoubleToString(b,16))=199.9999999999998578
//    (agora o valor de b ap√≥s subtrair epsilon n√£o podem ser arredondado para 200)
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
<h3>DoubleToString, StringFormat</h3></p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1167
<h3>PrintFormat</h3>
Formata e entra conjuntos de s√≠mbolos e valores no log do Expert Advisor em concord√¢ncia com um
formato predefinido.
</p>
<pre><code class="language-mql5">
void¬† PrintFormat(
   string format_string,   // string de formato
   ...¬†                    // valores de tipo simples
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
format_string
[in]  A string de formato consiste de s√≠mbolos simples, e se a string de formato √© seguido por
argumentos, ela tamb√©m cont√©m especifica√ß√µes de formato.
...
[in]  Quaisquer valores de tipos simples separados por v√≠rgula. N√∫mero total de par√¢metros n√£o
pode exceder A 64, incluindo a string de formato.
<h3>Valor do Retorno</h3>
String.
<h3>Observa√ß√£o</h3>
A fun√ß√£o Printformat() n√£o funciona no durante a otimiza√ß√£o no Testador de Estrat√©gias.
O n√∫mero, ordem e tipo dos par√¢metros devem corresponder exatamente com o conjunto de
qualificadores, caso contr√°rio, o resultado do print √© indefinido. Ao inv√©s de PrintFormat(), voc√™
pode usar printf().
Se a string de formato for seguida por par√¢metros, esta string deve conter especifica√ß√µes de
formato que denotem o formato de sa√≠da destes par√¢metros. Especifica√ß√µes de formato sempre
come√ßam com o sinal de percentual (%).
Uma string de formato √© lida da esquerda para direita. Quando a primeira especifica√ß√£o de formato
√© encontrada (se houver alguma), o valor do primeiro par√¢metro ap√≥s a string de formato √©
transformado e impresso de acordo com a especifica√ß√£o predefinida. A segunda especifica√ß√£o de
formato chama a transforma√ß√£o e impress√£o do segundo par√¢metro, e assim por diante at√© a string
de formato acabe.
A especifica√ß√£o de formato tem a seguinte forma:            
</p>
<pre><code class="language-mql5">
            %[flags][largura][.precis√£o][{h | l | ll | I32 | I64}]tipo
</code></pre>
<p>
Cada campo da especifica√ß√£o de formato √© tanto um s√≠mbolo simples, como um n√∫mero denotando
uma op√ß√£o de formato simples. A especifica√ß√£o de formato mais simples cont√©m somente o sinal de
percentagem (%) e um s√≠mbolo definindo o tipo do par√¢metro de sa√≠da (por exemplo, %s). Se voc√™
precisar imprimir o sinal de percentual na string de formato, use o especifica√ß√£o de formato %%.
flags</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1168
<h3>Flag</h3>
<h3>Descri√ß√£o</h3>
<h3>Comportamento Default</h3>
‚Äì
(meno
s)
Justifica√ß√£o a esquerda dentro da largura (width)
predefinida
<h3>Justifica√ß√£o a direita</h3>
+
(mais)
Imprime o sinal + ou - de valores de tipos com sinal
<h3>O sinal somente √© mostrada</h3>
se o valor for negativo
0
(zero)
Zeros s√£o adicionados antes de um valor impresso
com a largura predefinida. Se o flag 0 for
especificado com um formato inteiro (i, u, x, X, o,
d) e a especifica√ß√£o de precis√£o for definida (por
exemplo, %04.d), ent√£o 0 √© ignorado.
<h3>Nada √© adicionado</h3>
espa√ßo
Um espa√ßo √© exibido antes de um valor impresso, se
ele for um valor com sinal e positivo
<h3>Espa√ßos n√£o s√£o inseridos</h3>
#
Se usado em conjunto com o formato o, x ou X,
ent√£o antes do valor de sa√≠da 0, 0x ou 0X √©
adicionado respectivamente.
<h3>Nada √© adicionado</h3>
Se usado em conjunto com o formato e, E, a ou A, o
valor √© sempre mostrado com um ponto decimal.
<h3>Ponto decimal √© mostrado</h3>
somente se houver um parte
fracion√°ria n√£o-zero.
Se usado em conjunto com o formato g ou G, o flag
define a presen√ßa de um ponto decimal no valor de
sa√≠da e evita o truncamento de zeros √† esquerda. 
O flag # √© ignorado quando usado em conjunto com
formatos c, d, i, u, s.
<h3>Ponto decimal √© mostrado</h3>
somente se houver um parte
fracion√°ria n√£o-zero. Zeros √†
esquerda s√£o cortados.
largura
Um n√∫mero decimal n√£o negativo que define o n√∫mero m√≠nimo de s√≠mbolos de sa√≠da do valor
formatado. Se o n√∫mero de sa√≠da de s√≠mbolos √© menor do que a largura especificada, o
correspondente n√∫mero de espa√ßos √© adicionado a partir da esquerda ou direita, dependendo do
alinhamento (flag -). Se houver o flag zero (0), o n√∫mero correspondente de zeros √© adicionado
antes do valor de sa√≠da. Se o n√∫mero de sa√≠da de s√≠mbolos de sa√≠da √© maior do que a largura
especificada, o valor de sa√≠da n√£o √© cortado.
Se um asterisco (*) for especificado como width, um valor de tipo int deve ser indicado no lugar
correspondente da lista de par√¢metros passados. Ele ser√° usado para especificar a largura do valor
de sa√≠da.
precis√£o
Um n√∫mero decimal n√£o negativo que define a precis√£o de sa√≠da - n√∫mero de d√≠gitos ap√≥s o ponto
decimal. Como diferen√ßa da especifica√ß√£o de largura, a especifica√ß√£o de precis√£o pode truncar a
parte fracion√°rio com ou sem arredondamento.
O uso da especifica√ß√£o de precis√£o √© diferente para tipos de formato diferentes.</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1169
<h3>Tipos</h3>
<h3>Descri√ß√£o</h3>
<h3>Comportamento Default</h3>
a, A
Especifica√ß√£o de precis√£o define o n√∫mero de
d√≠gitos ap√≥s o ponto decimal.
Precis√£o padr√£o ‚Äì 6.
c, C
<h3>N√£o usado</h3>
d, 
i,
u, 
o,
x, X
Define o n√∫mero m√≠nimo de d√≠gitos de sa√≠da. Se o
n√∫mero de d√≠gitos em um par√¢metro correspondente
</p>
<pre><code class="language-mql5">
for menor que esta precis√£o, zeros s√£o adicionados
</code></pre>
<p>
a esquerda do valor de sa√≠da. O valor de sa√≠da n√£o √©
cortado, se o n√∫mero de d√≠gitos de sa√≠da √© maior do
que a precis√£o apurada.
Precis√£o padr√£o ‚Äì 1.
e, E, f
Define o n√∫mero de d√≠gitos de sa√≠da ap√≥s o ponto
decimal. O √∫ltimo d√≠gito √© arredondado.
<h3>Precis√£o padr√£o ‚Äì 6. Se a</h3>
defini√ß√£o de precis√£o for 0 ou a
parte decimal estiver ausente,
o ponto decimal n√£o √© exibido.
g, G
Define o n√∫mero m√°ximo de n√∫meros significativos.
6 n√∫meros significativos s√£o
impressos.
s
Define o n√∫mero de sa√≠da dos s√≠mbolos de uma
string. Se o comprimento da string excede ao
apurado, a string e cortada.
Toda a string √© a sa√≠da.
</p>
<pre><code class="language-mql5">
   PrintFormat(&quot;1. %s&quot;, _Symbol);
   PrintFormat(&quot;2. %.3s&quot;, _Symbol);
   int length=4;
   PrintFormat(&quot;3. %.*s&quot;, length, _Symbol);
   /*
   1. EURUSD
   2. EUR
   3. EURU
   /
</code></pre>
<p>
h | l | ll | I32 | I64
Especifica√ß√£o de tamanhos dos dados, passados como par√¢metro.
<h3>Tipo de</h3>
<h3>Par√¢met</h3>
ro
<h3>Prefixo Usado</h3>
<h3>Especificador Conjunto de Tipo</h3>
int
l 
(letra
min√∫scula L)
d, i, o, x, or X
uint
l 
(letra
min√∫scula L)
o, u, x, or X</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1170
<h3>Tipo de</h3>
<h3>Par√¢met</h3>
ro
<h3>Prefixo Usado</h3>
<h3>Especificador Conjunto de Tipo</h3>
long
ll (duas letras
min√∫sculas L)
d, i, o, x, or X
short
h
d, i, o, x, or X
ushort
h
o, u, x, or X
int
<h3>I32</h3>
d, i, o, x, or X
uint
<h3>I32</h3>
o, u, x, or X
long
<h3>I64</h3>
d, i, o, x, or X
ulong
<h3>I64</h3>
o, u, x, or X
tipo
Especificador de tipo √© o √∫nico campo obrigat√≥rio para a sa√≠da formatada.
<h3>S√≠mbol</h3>
o
<h3>Tipo</h3>
<h3>Formato de Sa√≠da</h3>
c
int
<h3>S√≠mbolo de tipo short (Unicode)</h3>
<h3>C</h3>
int
<h3>S√≠mbolo de tipo char (ANSI)</h3>
d
int
<h3>Inteiro decimal com sinal</h3>
i
int
<h3>Inteiro decimal com sinal</h3>
o
int
<h3>Inteiro octal sem sinal</h3>
u
int
<h3>Inteiro decimal sem sinal</h3>
x
int
<h3>Inteiro hexadecimal sem sinal, usando &quot;abcdef&quot;</h3>
<h3>X</h3>
int
<h3>Inteiro hexadecimal sem sinal, usando &quot;ABCDEF&quot;</h3>
e
doubl
e
Um valor real no formato [-] d.dddde[sinal] ddd, onde d - um d√≠gito decimal,
dddd - um ou mais d√≠gitos decimais, ddd - um n√∫mero de tr√™s d√≠gitos que
determina o tamanho do exponente, sinal - mais ou menos
<h3>E</h3>
doubl
e
Semelhando ao formato de e, exceto que o sinal do expoente √© impresso em
letra mai√∫scula (E ao inv√©s de e)
f
doubl
e
Um valor real no format [-] dddd.dddd, onde dddd - um ou mais d√≠gitos
decimais. N√∫mero de d√≠gitos exibidos depois do ponto decimal depende do
tamanho do valor do n√∫mero. N√∫mero de d√≠gitos ap√≥s o ponto decimal
depende da precis√£o requerida.
g
doubl
e
Uma sa√≠da de valor real no formato f ou edepende de qual sa√≠da √© mais
compacta.</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1171
<h3>S√≠mbol</h3>
o
<h3>Tipo</h3>
<h3>Formato de Sa√≠da</h3>
<h3>G</h3>
doubl
e
Uma sa√≠da de valor real no formato F ou Edepende de qual sa√≠da √© mais
compacta.
a
doubl
e
Um n√∫mero real no formato [‚àí]0xh.hhhh p¬±dd, onde h.hhhh ‚Äì mantissa na
forma de d√≠gitos hexadecimais, usando &quot;abcdef&quot;, dd - Um ou mais d√≠gitos de
expoente. N√∫mero de posi√ß√µes decimais √© determinado pela especifica√ß√£o de
precis√£o
<h3>A</h3>
doubl
e
Um n√∫mero real no formato [‚àí]0xh.hhhh p¬±dd, onde h.hhhh ‚Äì mantissa na
forma de d√≠gitos hexadecimais, usando &quot;abcdef&quot;, dd - Um ou mais d√≠gitos de
expoente. N√∫mero de posi√ß√µes decimais √© determinado pela especifica√ß√£o de
precis√£o
s
string
<h3>Sa√≠da da string</h3>
Ao inv√©s de PrintFormat(), voc√™ pode usar printf().
<h3>Exemplo:</h3></p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1172
</p>
<pre><code class="language-mql5">
void OnStart()
  {
//--- trade server name
   string server=AccountInfoString(ACCOUNT_SERVER);
//--- account number
   int login=(int)AccountInfoInteger(ACCOUNT_LOGIN);
//--- long value output
   long leverage=AccountInfoInteger(ACCOUNT_LEVERAGE);
   PrintFormat(&quot;%s %d: leverage = 1:%I64d&quot;,
               server,login,leverage);
//--- account currency
   string currency=AccountInfoString(ACCOUNT_CURRENCY);
//--- double value output with 2 digits after the decimal point
   double equity=AccountInfoDouble(ACCOUNT_EQUITY);
   PrintFormat(&quot;%s %d: account equity = %.2f %s&quot;,
               server,login,equity,currency);
//--- double value output with mandatory output of the +/- sign
   double profit=AccountInfoDouble(ACCOUNT_PROFIT);
   PrintFormat(&quot;%s %d: current result for open positions = %+.2f %s&quot;,
               server,login,profit,currency);
//--- double value output with variable number of digits after the decimal point
   double point_value=SymbolInfoDouble(_Symbol,SYMBOL_POINT);
   string format_string=StringFormat(&quot;%%s: point value  = %%.%df&quot;,_Digits);
   PrintFormat(format_string,_Symbol,point_value);
//--- int value output
   int spread=(int)SymbolInfoInteger(_Symbol,SYMBOL_SPREAD);
   PrintFormat(&quot;%s: current spread in points = %d &quot;,
               _Symbol,spread);
//--- double value output in the scientific (floating point) format with 17 meaningful
   PrintFormat(&quot;DBL_MAX = %.17e&quot;,DBL_MAX);
//--- double value output in the scientific (floating point) format with 17 meaningful
   PrintFormat(&quot;EMPTY_VALUE = %.17e&quot;,EMPTY_VALUE);
//--- output using PrintFormat() with default accuracy
   PrintFormat(&quot;PrintFormat(EMPTY_VALUE) = %e&quot;,EMPTY_VALUE);
//--- simple output using Print()
   Print(&quot;Print(EMPTY_VALUE) = &quot;,EMPTY_VALUE);
/* execution result
   MetaQuotes-Demo 1889998: leverage = 1:100
   MetaQuotes-Demo 1889998: account equity = 22139.86 USD
   MetaQuotes-Demo 1889998: current result for open positions = +174.00 USD
   EURUSD: point value  = 0.00001
   EURUSD: current spread in points = 12 
   DBL_MAX = 1.79769313486231570e+308
   EMPTY_VALUE = 1.79769313486231570e+308
   PrintFormat(EMPTY_VALUE) = 1.797693e+308
   Print(EMPTY_VALUE) = 1.797693134862316e+308
</code></pre>
<p>
*/
  }
<h3>Tamb√©m Veja</h3>
<h3>StringFormat, DoubleToString, Tipos reais¬†(double,¬†float)</h3></p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1173
<h3>ResetLastError</h3>
Define o valor do vari√°vel predefinida _LastError para zero.
</p>
<pre><code class="language-mql5">
void¬† ResetLastError();
</code></pre>
<p>
<h3>Valor do Retorno</h3>
Sem valor de retorno.
<h3>Observa√ß√£o</h3>
Deve ser notado que a fun√ß√£o GetLastError() n√£o zera a vari√°vel _LastError. Geralmente a fun√ß√£o
ResetLastError() √© chamada antes de chamar uma fun√ß√£o, ap√≥s o qual um surgimento de erro √©
verificado.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- redefinimos o c√≥digo do √∫ltimo erro antes de chamar a fun√ß√£o
//--- caso contr√°rio, GetLastError() pode retornar o c√≥digo de um erro anterior
   long lres=SymbolInfoInteger(&quot;123456&quot;,SYMBOL_DIGITS);
   PrintFormat(&quot;lres=%d  error=%d&quot;,lres,GetLastError());
   lres=SymbolInfoInteger(_Symbol,SYMBOL_DIGITS);
   PrintFormat(&quot;lres=%d  error=%d&quot;,lres,GetLastError());
   ResetLastError();
   lres=SymbolInfoInteger(_Symbol,SYMBOL_DIGITS);
   PrintFormat(&quot;lres=%d  error=%d&quot;,lres,GetLastError());
</code></pre>
<p>
  }</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1174
<h3>ResourceCreate</h3>
Criar um recurso de imagem baseado em um conjunto de dados. Existe duas variantes da fun√ß√£o:
Criando um recurso baseado em um arquivo
</p>
<pre><code class="language-mql5">
bool¬† ResourceCreate(
   const string¬†     resource_name,       // Nome do recurso
   const string¬†     path                 // Uma caminho relativo para o arquivo
   );
</code></pre>
<p>
Criando um recurso baseado em um array de pixels
</p>
<pre><code class="language-mql5">
bool¬† ResourceCreate(
   const string¬†     resource_name,¬†      // Nome do recurso
   const uint&amp; ¬†     data[],¬†             // Conjunto de dados em um array
   uint              img_width,        ¬†  // A largura do recurso de imagem
   uint              img_height,        ¬† // A altura do recurso de imagem
   uint              data_xoffset,        // O deslocamento horizontal para direita do
   uint              data_yoffset,        // O deslocamento vertical para baixo do can
   uint              data_width,        ¬† // A largura total da imagem baseada no conj
   ENUM_COLOR_FORMAT color_format         // M√©todo de processamento de cor
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
resource_name
[in]  Nome do recurso.
data[][]
[in]  Um array de uma dimens√£o ou duas dimens√µes de cores para criar uma imagem completa.
img_width
[in]  A largura da √°rea da imagem retangular em pixels para ser colocada no recurso na forma de
uma imagem. Ela n√£o pode ser maior que o valor data_width.
img_height
[in]  A altura da √°rea da imagem retangular em pixels para ser colocada no recurso na forma de
uma imagem.
data_xoffset
[in]  O deslocamento horizontal para direita da √°rea retangular da imagem.
data_yoffset
[in]  O deslocamento vertical para baixa da √°rea retangular da imagem.
data_width
[in]  Requerido somente para arrays de uma dimens√£o. Denota a largura total da imagem a partir
do conjunto de dados. Se data_width=0, √© assumido ser igual a img_width. Para arrays
bidimensionais o par√¢metro √© ignorado e √© assumido como sendo igual √† segunda dimens√£o do
array data[].
color_format</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1175
[in]  
<h3>M√©todo</h3>
de 
processamento 
de 
cor, 
a 
partir 
de 
um 
valor 
da 
enumera√ß√£o
ENUM_COLOR_FORMAT.
<h3>Valor do Retorno</h3>
Retorna true se bem sucedido, caso contr√°rio false. Para obter informa√ß√µes sobre o erro chame a
fun√ß√£o GetLastError(). Os seguintes erros podem ocorrer:
¬∑ 4015 ‚Äì ERR_RESOURCE_NAME_DUPLICATED (nomes id√™nticos do recurso din√¢mico e est√°tico)
¬∑ 4016 ‚Äì ERR_RESOURCE_NOT_FOUND (o recurso n√£o foi encontrado)
¬∑ 4017 ‚Äì ERR_RESOURCE_UNSUPPORTED_TYPE (este tipo de recurso n√£o √© suportado)
¬∑ 4018 ‚Äì ERR_RESOURCE_NAME_IS_TOO_LONG (o nome do recurso √© muito longo)
<h3>Observa√ß√£o</h3>
Se a segunda vers√£o da fun√ß√£o √© chamada para criar o mesmo recurso com largura, altura e
par√¢metros de deslocamento diferentes, ela n√£o cria um novo recurso, mas simplesmente atualiza o
recurso existente.
A primeira vers√£o da fun√ß√£o √© usada para carregar imagens e sons a partir de arquivos, e a segunda
vers√£o √© usada somente para a cria√ß√£o din√¢mica de imagens.
Imagens devem estar no formato BMP com um profundidade de cor de 24 ou 32 bits. Sons podem
somente ser no formato WAV. O tamanho do recurso n√£o deve exceder 16 Mb.
<h3>ENUM_COLOR_FORMAT</h3>
<h3>Identifier</h3>
<h3>Descri√ß√£o</h3>
<h3>COLOR_FORMAT_XRGB_NOALPHA</h3>
O componente do canal alfa √© ignorado
<h3>COLOR_FORMAT_ARGB_RAW</h3>
Componentes de cor n√£o s√£o tratados pelo
terminal (devem ser corretamente definidos
pelo usu√°rio)
<h3>COLOR_FORMAT_ARGB_NORMALIZE</h3>
Componentes de cor s√£o tratados pelo terminal
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Atualiza os dados do recurso gr√°fico                             |
//+------------------------------------------------------------------+
void Update(const string res_name,const uint &amp;pixel_data[],const uint width,const uint
  {
//--- Se forem passados tamanhos nulos, sa√≠mos
   if(width==0 || height==0)
      return;
//--- Atualizamos os dados do recurso e redesenhamos o gr√°fico
   if(ResourceCreate(res_name,pixel_data,width,height,0,0,0,COLOR_FORMAT_ARGB_NORMALIZ
      ChartRedraw();
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1176
</p>
<pre><code class="language-mql5">
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- declaramos os par√¢metros do recurso gr√°fico
   string rc_name=&quot;Resource&quot;;
   uint   rc_width=100;
   uint   rc_height=100;
   uint   rc_data[];
   uint   rc_size=rc_width*rc_height;
   ResetLastError();
//--- definimos o tamanho do array de pixels
   if(ArrayResize(rc_data,rc_size)!=rc_size)
     {
      Print(&quot;ArrayResize() failed. Error code: &quot;,GetLastError());
      return;
     }
//--- preenchemos o array de pixels com cor transparente e com base nele criamos um re
   ArrayInitialize(rc_data,0x00FFFFFF);
   if(!ResourceCreate(rc_name,rc_data,rc_width,rc_height,0,0,0,COLOR_FORMAT_ARGB_NORMA
     {
      Print(&quot;ResourceCreate() failed. Error code: &quot;,GetLastError());
      return;
     }
   Print(&quot;Size of created recource array: &quot;,rc_data.Size());
//--- verificamos o recurso gr√°fico criado
//--- obtemos os dados de tempo e pre√ßo da barra atual
   MqlTick tick={};
   if(!SymbolInfoTick(Symbol(),tick))
     {
      Print(&quot;SymbolInfoTick() failed. Error code: &quot;,GetLastError());
      return;
     }
//--- criamos um objeto &quot;Desenho&quot; nas coordenadas de pre√ßo e tempo do √∫ltimo tick
   string obj_name=&quot;Bitmap&quot;;
   if(!ObjectCreate(0,obj_name,OBJ_BITMAP,0,tick.time,tick.bid))
     {
      Print(&quot;ObjectCreate() failed. Error code: &quot;,GetLastError());
      return;
     }
//--- definimos para o objeto-desenho a largura e a altura iguais √†s do recurso gr√°fic
//--- definimos o ponto de ancoragem do objeto pelo seu centro.
   ObjectSetInteger(0,obj_name,OBJPROP_XSIZE,rc_width);
   ObjectSetInteger(0,obj_name,OBJPROP_YSIZE,rc_height);
   ObjectSetInteger(0,obj_name,OBJPROP_ANCHOR,ANCHOR_CENTER);
//--- especificamos para o objeto-desenho o arquivo de imagem do recurso gr√°fico criad
//--- Neste caso, para indicar o nome do recurso gr√°fico usado, deve-se escrever &quot;::&quot; </p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1177
</p>
<pre><code class="language-mql5">
   ObjectSetString(0,obj_name,OBJPROP_BMPFILE,&quot;::&quot;+rc_name);
   
//--- definimos a cor DodgerBlue com transpar√™ncia de 200
   uint clr=ColorToARGB(clrDodgerBlue,200);
//--- preenchemos com a cor definida todo o array de pixels do recurso gr√°fico
   ArrayInitialize(rc_data,clr);
//--- atualizamos os dados do recurso gr√°fico
   Update(rc_name,rc_data,rc_width,rc_height,true);
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
Recursos, ObjectCreate(), ObjectSetString(), OBJPROP_BMPFILE</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1178
<h3>ResourceFree</h3>
A fun√ß√£o exclui dinamicamente recursos criados (liberando a mem√≥ria alocada para ele). 
</p>
<pre><code class="language-mql5">
bool¬† ResourceFree(
   const string¬† resource_name¬†     // nome do recurso
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
resource_name
[in]  Nome do recurso deve come√ßar com &quot;::&quot;.
<h3>Valor de retorno</h3>
true se bem sucedido, caso contr√°rio false. Para obter informa√ß√µes sobre o erro, chamar a fun√ß√£o
GetLastError().
<h3>Observa√ß√£o</h3>
ResourceFree() permite aos desenvolvedores de aplicativos MQL5 gerenciarem o consumo de
mem√≥ria quando se trabalha ativamente com recursos. Objetos gr√°ficos vinculados ao recurso que
ser√° apagado da mem√≥ria ser√£o exibidos corretamente ap√≥s a sua exclus√£o. No entanto, os objetos
gr√°ficos rec√©m-criados ((OBJ_BITMAP e OBJ_BITMAP_LABEL) n√£o poder√£o utilizar o recurso
suprimido.
A fun√ß√£o deleta apenas recursos din√¢micos criados pelo programa.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- declaramos os par√¢metros do recurso gr√°fico
   string rc_name=&quot;Resource&quot;;
   uint   rc_width=100;
   uint   rc_height=100;
   uint   rc_data[];
   uint   rc_size=rc_width*rc_height;
   ResetLastError();
//--- definimos o tamanho do array de pixels
   if(ArrayResize(rc_data,rc_size)!=rc_size)
     {
      Print(&quot;ArrayResize() failed. Error code: &quot;,GetLastError());
      return;
     }
//--- preenchemos o array de pixels com cor transparente e com base nele criamos um re
   ArrayInitialize(rc_data,0x00FFFFFF);</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1179
</p>
<pre><code class="language-mql5">
   if(!ResourceCreate(rc_name,rc_data,rc_width,rc_height,0,0,0,COLOR_FORMAT_ARGB_NORMA
     {
      Print(&quot;ResourceCreate() failed. Error code: &quot;,GetLastError());
      return;
     }
   Print(&quot;Size of created recource array: &quot;,rc_data.Size());
//--- verificamos o recurso gr√°fico criado
//--- obtemos os dados de tempo e pre√ßo da barra atual
   MqlTick tick={};
   if(!SymbolInfoTick(Symbol(),tick))
     {
      Print(&quot;SymbolInfoTick() failed. Error code: &quot;,GetLastError());
      return;
     }
//--- criamos um objeto &quot;Desenho&quot; nas coordenadas de pre√ßo e tempo do √∫ltimo tick
   string obj_name=&quot;Bitmap&quot;;
   if(!ObjectCreate(0,obj_name,OBJ_BITMAP,0,tick.time,tick.bid))
     {
      Print(&quot;ObjectCreate() failed. Error code: &quot;,GetLastError());
      return;
     }
//--- definimos para o objeto-desenho a largura e a altura iguais √†s do recurso gr√°fic
//--- definimos o ponto de ancoragem do objeto pelo seu centro.
   ObjectSetInteger(0,obj_name,OBJPROP_XSIZE,rc_width);
   ObjectSetInteger(0,obj_name,OBJPROP_YSIZE,rc_height);
   ObjectSetInteger(0,obj_name,OBJPROP_ANCHOR,ANCHOR_CENTER);
//--- especificamos para o objeto-desenho o arquivo de imagem do recurso gr√°fico criad
//--- neste caso, para indicar o nome do recurso gr√°fico usado, deve-se escrever &quot;::&quot; 
   ObjectSetString(0,obj_name,OBJPROP_BMPFILE,&quot;::&quot;+rc_name);
   
//--- definimos a cor DodgerBlue com transpar√™ncia de 200
   uint clr=ColorToARGB(clrDodgerBlue,200);
//--- preenchemos com a cor definida todo o array de pixels do recurso gr√°fico
   ArrayInitialize(rc_data,clr);
//--- atualizamos os dados do recurso gr√°fico
   Update(rc_name,rc_data,rc_width,rc_height,true);
   
//--- esperamos tr√™s segundos e mudamos a cor da imagem
   Print(&quot;Wait 3 seconds before changing color&quot;);
   Sleep(3000);
//--- definimos a cor OrangeRed com transpar√™ncia de 200
   Print(&quot;Change color&quot;);
   clr=ColorToARGB(clrOrangeRed,200);
//--- preenchemos com a cor definida todo o array de pixels do recurso gr√°fico
   ArrayInitialize(rc_data,clr);
//--- atualizamos os dados do recurso gr√°fico
   Update(rc_name,rc_data,rc_width,rc_height,true);
   </p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1180
</p>
<pre><code class="language-mql5">
//--- esperamos tr√™s segundos e liberamos o recurso gr√°fico
   Print(&quot;Wait 3 seconds before ResourceFree()&quot;);
   Sleep(3000);
   bool res=ResourceFree(&quot;::&quot;+rc_name);
   Print(&quot;ResourceFree: &quot;,res);
//--- tentamos mudar a cor ap√≥s a libera√ß√£o do recurso
   Print(&quot;Trying to change color to GreenYellow after ResourceFree()&quot;);
//--- definimos a cor GreenYellow com transpar√™ncia de 200
   clr=ColorToARGB(clrGreenYellow,200);
//--- preenchemos com a cor definida todo o array de pixels do recurso gr√°fico
   ArrayInitialize(rc_data,clr);
//--- atualizamos os dados do recurso gr√°fico (o desenho permanece, mas a cor n√£o pode
   Update(rc_name,rc_data,rc_width,rc_height,true);
   Print(&quot;The color has not changed because the resource has been released&quot;);
   
//--- esperamos tr√™s segundos e deletamos o objeto-desenho
   Print(&quot;Wait 3 seconds before deleting the Bitmap object&quot;);
   Sleep(3000);
   Print(&quot;Delete Bitmap object&quot;);
   ObjectDelete(0,obj_name);
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Atualizamos os dados do recurso gr√°fico                          |
//+------------------------------------------------------------------+
void Update(const string res_name,const uint &amp;pixel_data[],const uint width,const uint
  {
//--- se forem passados tamanhos nulos, sa√≠mos
   if(width==0 || height==0)
      return;
//--- atualizamos os dados do recurso e redesenhamos o gr√°fico
   if(ResourceCreate(res_name,pixel_data,width,height,0,0,0,COLOR_FORMAT_ARGB_NORMALIZ
      ChartRedraw();
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
Recursos, ObjectCreate(), PlaySound(), ObjectSetString(), OBJPROP_BMPFILE</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1181
<h3>ResourceReadImage</h3>
A fun√ß√£o l√™ os dados do recurso gr√°fico criado pela fun√ß√£o ResourceCreate() ou  salvo como arquivo
EX5 durante a compila√ß√£o.
</p>
<pre><code class="language-mql5">
bool¬† ResourceReadImage(
   const string¬†     resource_name,       // nome do recurso gr√°fico para leitura
   uint&amp;       ¬†     data[],              // array recebendo dados a partir do recurso
   uint&amp;             width,            ¬†  // para receber a largura da imagem no recur
   uint&amp;             height,        ¬†     // para receber a altura da imagem no recurs
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
resource_name
[in]  Nome do recurso gr√°fico contendo uma imagem. Para acessar novamente seus pr√≥prios
recursos, o nome √© usado em formato abreviado &quot;::resourcename&quot;. Se baixamos um recurso a
partir de uma compila√ß√£o de arquivo EX5, o nome completo seria usado com o caminho relativo do
diret√≥rio MQL5, nomes do arquivo e recurso - &quot;path\\filename.ex5::resourcename&quot;.
data[][]
[in]  Array uni- ou bi-dimensional para recebimento de dados do recurso gr√°fico.
img_width
[out]  Recurso gr√°fico da largura da imagem em pixels.
img_height
[out]  Recurso gr√°fico da altura da imagem em pixels.
<h3>Valor de retorno</h3>
true se bem sucedido, caso contr√°rio false. Para obter informa√ß√µes sobre o erro, chamar a fun√ß√£o
GetLastError().
<h3>Observa√ß√£o</h3>
Se √© array data[], ent√£o ser√° usado para criar um recurso gr√°fico, formatos de cor
COLOR_FORMAT_ARGB_NORMALIZE ou COLOR_FORMAT_XRGB_NOALPHA devem ser utilizados. 
Se √© array data[] bidimensional e sua segunda dimens√£o √© menor do que X (largura) tamanho do
recurso gr√°fico,a fun√ß√£o ResourceReadImage() retorna falso e a leitura n√£o √© executada. Mas se o
recurso existe, o tamanho da imagem real √© retornada pelos par√¢metros de largura e altura.  Isto
permitir√° fazer outra tentativa para receber dados a partir do recurso.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- declaramos os par√¢metros do recurso gr√°fico</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1182
</p>
<pre><code class="language-mql5">
   string rc_name=&quot;Resource&quot;;
   uint   rc_width=100;
   uint   rc_height=100;
   uint   rc_data[];
   uint   rc_size=rc_width*rc_height;
   ResetLastError();
//--- definimos o tamanho do array de pixels
   if(ArrayResize(rc_data,rc_size)!=rc_size)
     {
      Print(&quot;ArrayResize() failed. Error code: &quot;,GetLastError());
      return;
     }
//--- preenchemos o array de pixels com cor transparente e com base nele criamos um re
   ArrayInitialize(rc_data,0x00FFFFFF);
   if(!ResourceCreate(rc_name,rc_data,rc_width,rc_height,0,0,0,COLOR_FORMAT_ARGB_NORMA
     {
      Print(&quot;ResourceCreate() failed. Error code: &quot;,GetLastError());
      return;
     }
   Print(&quot;Size of created recource array: &quot;,rc_data.Size());
//--- verificamos o recurso gr√°fico criado
//--- obtemos os dados de tempo e pre√ßo da barra atual
   MqlTick tick={};
   if(!SymbolInfoTick(Symbol(),tick))
     {
      Print(&quot;SymbolInfoTick() failed. Error code: &quot;,GetLastError());
      return;
     }
//--- criamos um objeto &quot;Desenho&quot; nas coordenadas de pre√ßo e tempo do √∫ltimo tick
   string obj_name=&quot;Bitmap&quot;;
   if(!ObjectCreate(0,obj_name,OBJ_BITMAP,0,tick.time,tick.bid))
     {
      Print(&quot;ObjectCreate() failed. Error code: &quot;,GetLastError());
      return;
     }
//--- definimos para o objeto-desenho a largura e a altura iguais √†s do recurso gr√°fic
//--- definimos o ponto de ancoragem do objeto pelo seu centro.
   ObjectSetInteger(0,obj_name,OBJPROP_XSIZE,rc_width);
   ObjectSetInteger(0,obj_name,OBJPROP_YSIZE,rc_height);
   ObjectSetInteger(0,obj_name,OBJPROP_ANCHOR,ANCHOR_CENTER);
//--- especificamos para o objeto-desenho o arquivo de imagem do recurso gr√°fico criad
//--- Neste caso, para indicar o nome do recurso gr√°fico usado, deve-se escrever &quot;::&quot; 
   ObjectSetString(0,obj_name,OBJPROP_BMPFILE,&quot;::&quot;+rc_name);
   
//--- definimos a cor DodgerBlue com transpar√™ncia de 200
   uint clr=ColorToARGB(clrDodgerBlue,200);
//--- preenchemos com a cor definida todo o array de pixels do recurso gr√°fico</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1183
</p>
<pre><code class="language-mql5">
   ArrayInitialize(rc_data,clr);
//--- atualizamos os dados do recurso gr√°fico
   Update(rc_name,rc_data,rc_width,rc_height,true);
   
//--- esperamos 3 segundos antes de ler os dados do recurso gr√°fico
   Print(&quot;Wait 3 seconds before ResourceReadImage()&quot;);
   Sleep(3000);
//--- lemos a imagem do recurso para um novo array de pixels
   uint rc_data_copy[];
   uint w=0,h=0;
   ResetLastError();
   if(!ResourceReadImage(&quot;::&quot;+rc_name,rc_data_copy,w,h))
     {
      Print(&quot;ResourceReadImage() failed. Error code: &quot;,GetLastError());
      return;
     }
//--- definimos a cor OrangeRed com transpar√™ncia de 200
   clr=ColorToARGB(clrOrangeRed,200);
//--- preenchemos com a cor definida todo o array de pixels e com base nele criamos um
   ArrayInitialize(rc_data_copy,clr);
   if(!ResourceCreate(rc_name+&quot;Copy&quot;,rc_data_copy,rc_width,rc_height,0,0,0,COLOR_FORMA
     {
      Print(&quot;New ResourceCreate() failed. Error code: &quot;,GetLastError());
      return;
     }
   Print(&quot;Size of created new recource array: &quot;,rc_data_copy.Size());
   
//--- criamos um objeto &quot;Marca Gr√°fica&quot; nas coordenadas de pre√ßo e tempo do √∫ltimo tic
   string obj_name2=&quot;BitmapLabel&quot;;
   if(!ObjectCreate(0,obj_name2,OBJ_BITMAP_LABEL,0,0,0))
     {
      Print(&quot;ObjectCreate() failed. Error code: &quot;,GetLastError());
      return;
     }
//--- obtemos as coordenadas de tela com base no pre√ßo e tempo obtidos anteriormente
   int x=0,y=0;
   if(!ChartTimePriceToXY(0,0,tick.time,tick.bid,x,y))
     {
      Print(&quot;New ChartTimePriceToXY() failed. Error code: &quot;,GetLastError());
      return;
     }
//--- definimos para o objeto-marca gr√°fica a largura e a altura iguais √†s do recurso 
//--- definimos o ponto de ancoragem do objeto pelo seu centro.
   ObjectSetInteger(0,obj_name2,OBJPROP_XSIZE,rc_width);
   ObjectSetInteger(0,obj_name2,OBJPROP_YSIZE,rc_height);
   ObjectSetInteger(0,obj_name2,OBJPROP_ANCHOR,ANCHOR_LEFT_UPPER);
   ObjectSetInteger(0,obj_name2,OBJPROP_XDISTANCE,x);
   ObjectSetInteger(0,obj_name2,OBJPROP_YDISTANCE,y);</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1184
</p>
<pre><code class="language-mql5">
//--- especificamos para o objeto-marca gr√°fica o arquivo de imagem do recurso gr√°fico
//--- neste caso, para indicar o nome do recurso gr√°fico usado, deve-se escrever &quot;::&quot; 
   ObjectSetString(0,obj_name2,OBJPROP_BMPFILE,&quot;::&quot;+rc_name+&quot;Copy&quot;);
   
//--- mudamos a cor do novo objeto-marca gr√°fica
   Print(&quot;Wait 3 seconds before changing color to GreenYellow&quot;);
   Sleep(3000);
//--- definimos a cor GreenYellow com transpar√™ncia de 200
   clr=ColorToARGB(clrGreenYellow,200);
//--- preenchemos com a cor definida todo o array de pixels do novo recurso gr√°fico
   ArrayInitialize(rc_data_copy,clr);
//--- atualizamos os dados do recurso gr√°fico
   Update(rc_name+&quot;Copy&quot;,rc_data_copy,rc_width,rc_height,true);
   
//--- esperamos tr√™s segundos e deletamos os recursos e ambos os objetos
   Print(&quot;Wait 3 seconds before deleting both objects&quot;);
   Sleep(3000);
   Print(&quot;Deleting Resource and all Bitmap objects&quot;);
   ResourceFree(&quot;::&quot;+rc_name);
   ResourceFree(&quot;::&quot;+rc_name+&quot;Copy&quot;);
   ObjectDelete(0,obj_name);
   ObjectDelete(0,obj_name2);
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Atualizamos os dados do recurso gr√°fico                          |
//+------------------------------------------------------------------+
void Update(const string res_name,const uint &amp;pixel_data[],const uint width,const uint
  {
//--- se forem passados tamanhos nulos, sa√≠mos
   if(width==0 || height==0)
      return;
//--- atualizamos os dados do recurso e redesenhamos o gr√°fico
   if(ResourceCreate(res_name,pixel_data,width,height,0,0,0,COLOR_FORMAT_ARGB_NORMALIZ
      ChartRedraw();
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
Recursos, ObjectCreate(), ObjectSetString(), OBJPROP_BMPFILE</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1185
<h3>ResourceSave</h3>
Salva um recurso no arquivo especificado.
</p>
<pre><code class="language-mql5">
bool¬† ResourceSave(
   const string¬† resource_name¬†     // Nome do recurso
   const string¬† file_name¬†         // Nome do arquivo
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
resource_name
[in]  O nome do recurso deve come√ßar com &quot;::&quot;.
file_name
[in]  O nome do arquivo relativo a MQL5\Files.
<h3>Valor do Retorno</h3>
true ‚Äì no caso de sucesso, caso contr√°rio, false. Para informa√ß√µes do erro chamar GetLastError().
<h3>Observa√ß√£o</h3>
A fun√ß√£o sempre sobre-escreve um arquivo e cria todos os diret√≥rios intermedi√°rios requeridos no
nome do arquivo se necess√°rio.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//--- par√¢metros do recurso gr√°fico
string ExtResName=&quot;Resource&quot;;
int    ExtResWidth=100;
int    ExtResHeight=100;
</code></pre>
<p>
uint   ExtResData[];
</p>
<pre><code class="language-mql5">
int    ExtResSize=ExtResWidth*ExtResHeight;
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
   ResetLastError();
//--- definimos o tamanho do array de pixels
   if(ArrayResize(ExtResData,ExtResSize)!=ExtResSize)
     {
      Print(&quot;ArrayResize() failed. Error code: &quot;,GetLastError());
      return;
     }
//--- preenchemos o array de pixels com cor transparente e com base nele criamos um re
   ArrayInitialize(ExtResData,0x00FFFFFF);
   if(!ResourceCreate(ExtResName,ExtResData,ExtResWidth,ExtResHeight,0,0,0,COLOR_FORMA</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1186
</p>
<pre><code class="language-mql5">
     {
      Print(&quot;ResourceCreate() failed. Error code: &quot;,GetLastError());
      return;
     }
   Print(&quot;Size of created recource array: &quot;,ExtResData.Size());
//--- verificamos o recurso gr√°fico criado
//--- obtemos os dados de tempo e pre√ßo da barra atual
   MqlTick tick={};
   if(!SymbolInfoTick(Symbol(),tick))
     {
      Print(&quot;SymbolInfoTick() failed. Error code: &quot;,GetLastError());
      return;
     }
//--- criamos um objeto &quot;Desenho&quot; nas coordenadas de pre√ßo e tempo do √∫ltimo tick
   string obj_name=&quot;Bitmap&quot;;
   if(!ObjectCreate(0,obj_name,OBJ_BITMAP,0,tick.time,tick.bid))
     {
      Print(&quot;ObjectCreate() failed. Error code: &quot;,GetLastError());
      return;
     }
//--- definimos para o objeto-desenho a largura e a altura iguais √†s do recurso gr√°fic
//--- definimos o ponto de ancoragem do objeto pelo seu centro.
   ObjectSetInteger(0,obj_name,OBJPROP_XSIZE,ExtResWidth);
   ObjectSetInteger(0,obj_name,OBJPROP_YSIZE,ExtResHeight);
   ObjectSetInteger(0,obj_name,OBJPROP_ANCHOR,ANCHOR_CENTER);
//--- especificamos para o objeto-desenho o arquivo de imagem do recurso gr√°fico criad
//--- neste caso, para indicar o nome do recurso gr√°fico usado, deve-se escrever &quot;::&quot; 
   ObjectSetString(0,obj_name,OBJPROP_BMPFILE,&quot;::&quot;+ExtResName);
   
//--- definimos a cor GreenYellow com transpar√™ncia de 200
   uint clr=ColorToARGB(clrGreenYellow,200);
//--- preenchemos com a cor definida todo o array de pixels do recurso gr√°fico
   ArrayInitialize(ExtResData,clr);
//--- tra√ßamos a grade com a cor DodgerBlue
   for(int x=0;x&lt;ExtResWidth;x+=9)
      LineVertical(x,0,ExtResHeight,ColorToARGB(clrDodgerBlue,200));
   for(int y=0;y&lt;ExtResHeight;y+=9)
      LineHorizontal(0,ExtResWidth,y,ColorToARGB(clrDodgerBlue,200));
//--- atualizamos os dados do recurso gr√°fico
   Update(ExtResName,ExtResData,ExtResWidth,ExtResHeight,true);
   
//--- aguardamos 3 segundos antes de excluir o recurso e o objeto gr√°fico
   Print(&quot;Wait 3 seconds before deleting the resource and graphic object&quot;);
   Sleep(3000);
//--- salvamos o recurso em um arquivo
   ResetLastError();
   if(!ResourceSave(&quot;::&quot;+ExtResName,&quot;ResourceSave\\&quot;+ExtResName+&quot;.bmp&quot;))</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1187
</p>
<pre><code class="language-mql5">
     {
      Print(&quot;ResourceSave() failed. Error code: &quot;,GetLastError());
      return;
     }
//--- excluimos o recurso e o objeto desenho
   if(!ResourceFree(&quot;::&quot;+ExtResName))
     {
      Print(&quot;ResourceFree() failed. Error code: &quot;,GetLastError());
      return;
     }
   if(!ObjectDelete(0,obj_name))
     {
      Print(&quot;ObjectDelete() failed. Error code: &quot;,GetLastError());
      return;
     }
//--- criamos um objeto &quot;Marca Gr√°fica&quot; nas coordenadas de pre√ßo e tempo do √∫ltimo tic
//--- obtemos as coordenadas de tela com base no pre√ßo e tempo obtidos anteriormente
   int x=0,y=0;
   if(!ChartTimePriceToXY(0,0,tick.time,tick.bid,x,y))
     {
      Print(&quot;ChartTimePriceToXY() failed. Error code: &quot;,GetLastError());
      return;
     }
   obj_name=&quot;BitmapLabel&quot;;
   if(!ObjectCreate(0,obj_name,OBJ_BITMAP_LABEL,0,0,0))
     {
      Print(&quot;ObjectCreate() failed. Error code: &quot;,GetLastError());
      return;
     }
//--- definimos o ponto de ancoragem do objeto pelo seu centro.
   ObjectSetInteger(0,obj_name,OBJPROP_ANCHOR,ANCHOR_CENTER);
//--- definimos as coordenadas do pre√ßo e da hora do √∫ltimo tick, deslocadas para a es
   ObjectSetInteger(0,obj_name,OBJPROP_XDISTANCE,x-ExtResWidth);
   ObjectSetInteger(0,obj_name,OBJPROP_YDISTANCE,y);
//--- para o objeto marca gr√°fica como um arquivo de imagem, especificamos o recurso s
   ObjectSetString(0,obj_name,OBJPROP_BMPFILE,&quot;\\Files\\ResourceSave\\&quot;+ExtResName+&quot;.b
//--- atualizamos o gr√°fico
   ChartRedraw();
   
//--- aguardamos 3 segundos antes de excluir o objeto marca gr√°fica
   Print(&quot;Wait 3 seconds before deleting the new graphic object&quot;);
   Sleep(3000);
   if(!ObjectDelete(0,obj_name))
      Print(&quot;ObjectDelete() failed. Error code: &quot;,GetLastError());
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Atualiza os dados do recurso gr√°fico                             |
//+------------------------------------------------------------------+</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1188
</p>
<pre><code class="language-mql5">
void Update(const string res_name,const uint &amp;pixel_data[],const uint width,const uint
  {
//--- se forem passados tamanhos nulos, sa√≠mos
   if(width==0 || height==0)
      return;
//--- atualizamos os dados do recurso e redesenhamos o gr√°fico
   if(ResourceCreate(res_name,pixel_data,width,height,0,0,0,COLOR_FORMAT_ARGB_NORMALIZ
      ChartRedraw();
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Desenha uma linha vertical                                       |
//+------------------------------------------------------------------+
void LineVertical(int x,int y1,int y2,const uint clr)
  {
   int tmp;
//--- classifica√ß√£o por Y
   if(y1&gt;y2)
     {
      tmp=y1;
      y1 =y2;
      y2 =tmp;
     }
//--- linha fora dos limites da imagem
   if(y2&lt;0 || y1&gt;=ExtResHeight || x&lt;0 || x&gt;=ExtResWidth)
      return;
//--- ficamos dentro dos limites da imagem
   if(y1&lt;0)
      y1=0;
   if(y2&gt;=ExtResHeight)
      y2=ExtResHeight-1;
//--- tra√ßamos uma linha¬¥
   int index=y1*ExtResWidth+x;
   for(int i=y1; i&lt;=y2; i++,index+=ExtResWidth)
      ExtResData[index]=clr;
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Desenha uma linha horizontal                                     |
//+------------------------------------------------------------------+
void LineHorizontal(int x1,int x2,int y,const uint clr)
  {
   int tmp;
//--- classifica√ß√£o por X
   if(x1&gt;x2)
     {
      tmp=x1;
      x1 =x2;
      x2 =tmp;
     }
//--- linha fora dos limites da imagem</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1189
</p>
<pre><code class="language-mql5">
   if(x2&lt;0 || x1&gt;=ExtResWidth || y&lt;0 || y&gt;=ExtResHeight)
      return;
//--- ficamos dentro dos limites da imagem
   if(x1&lt;0)
      x1=0;
   if(x2&gt;=ExtResWidth)
      x2=ExtResWidth-1;
//--- tra√ßamos uma linha¬¥
   ArrayFill(ExtResData,y*ExtResWidth+x1,(x2-x1)+1,clr);
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
Recursos, ObjectCreate(), PlaySound(), ObjectSetString(), OBJPROP_BMPFILE</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1190
<h3>SetReturnError</h3>
Define o c√≥digo de retorno que devolver√° um processo do terminal ao encerrar o trabalho.
</p>
<pre><code class="language-mql5">
void¬† SetReturnError(
   int ret_code¬†     // c√≥digo de encerramento do terminal do cliente
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
ret_code
[in]  O c√≥digo de retorno que ser√° devolvido pelo processo do terminal do cliente ao encerrar o
trabalho.
<h3>Valor retornado</h3>
N√£o h√° nenhum valor de retorno.
<h3>Observa√ß√£o</h3>
A instala√ß√£o desse c√≥digo de retorno ret_code usando a fun√ß√£o SetReturnError() ser√° √∫til para
analisar os motivos de encerramento do programa ao iniciar o terminal a partir da linha de
comando.
Ao contr√°rio da fun√ß√£o SetReturnError(), a fun√ß√£o TerminalClose() n√£o encerra o terminal, ela
apenas define o c√≥digo de retorno que devolver√° o processo do terminal ap√≥s seu encerramento.
Se a fun√ß√£o SetReturnError() foi chamada repetidamente e/eu a partir de diferentes programas
MQL5, o terminal retornar√° o √∫ltimo c√≥digo de retorno definido.
O c√≥digo exibido ser√° devolvido no final do processo do terminal, exceto nos seguintes casos:
¬∑ se surgir um erro cr√≠tico em tempo de execu√ß√£o;
¬∑ se for chamada a fun√ß√£o TerminalClose(int ret_code) que fornece ao terminal um comando para
encerrar o trabalho com um c√≥digo especificado.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
   matrix matrix_a =
     {
        {-3.474589, 1.106384, -9.091977,-3.925227 },
        {-5.522139, 2.366887,-15.162351,-6.357512 },
        { 8.394926,-2.960067, 22.292115, 9.524129 },
        { 7.803242,-2.080287, 19.217706, 8.186645 }
     };
   matrix matrix_l(4,4);
   matrix matrix_u(4,4);</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1191
</p>
<pre><code class="language-mql5">
//--- decomposi√ß√£o LU
   matrix_a.LU(matrix_l,matrix_u);
//--- verificamos se de A = L * U
   matrix matrix_lu=matrix_l.MatMul(matrix_u);
   int    compare_errors=(int)matrix_a.Compare(matrix_lu,1e-29);
   Print(&quot;MatrixCompare errors=&quot;,compare_errors);
//--- o terminal cliente ao terminar retornar√° o n√∫mero de erros de compara√ß√£o entre d
   SetReturnError(compare_errors);
</code></pre>
<p>
  }
<h3>Veja tamb√©m</h3>
Execu√ß√£o de programas, Erros de execu√ß√£o, Causas de desinicializa√ß√£o, TerminalClose</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1192
<h3>SetUserError</h3>
Define a vari√°vel predefinida _LastError para o valor igual a ERR_USER_ERROR_FIRST + user_error
</p>
<pre><code class="language-mql5">
void¬† SetUserError(
   ushort user_error,   // n√∫mero do erro
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
user_error
[in]  N√∫mero do erro definido pelo usu√°rio.
<h3>Valor do Retorno</h3>
Sem valor de retorno.
<h3>Observa√ß√£o</h3>
Depois de um erro ser definido usando a fun√ß√£o SetUserError(user_error), GetLastError() retorna um
valor igual a ERR_USER_ERROR_FIRST + user_error.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
void OnStart()
  {
//--- define o n√∫mero de erro 65537=(ERR_USER_ERROR_FIRST +1)
   SetUserError(1);
//--- obt√©m o √∫ltimo c√≥digo de erro
   Print(&quot;GetLastError = &quot;,GetLastError());
/* 
   Result
   GetLastError = 65537
</code></pre>
<p>
*/ 
  }</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1193
<h3>Sleep</h3>
A fun√ß√£o suspende a execu√ß√£o do Expert Advisor corrente ou script por um intervalo especificado.
</p>
<pre><code class="language-mql5">
void¬† Sleep(
   int¬† milliseconds¬†     // intervalo
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
milliseconds
[in]  Intervalo de atraso em milissegundos.
<h3>Valor do Retorno</h3>
Sem valor de retorno.
<h3>Observa√ß√£o</h3>
A fun√ß√£o Sleep() n√£o pode ser chamada por indicadores customizados, porque indicadores s√£o
executados na thread de interface e n√£o devem ser atrasados. A fun√ß√£o foi incorporada para
verificar flag interrompido a cada 0.1 segundos.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- exibimos no coment√°rio no gr√°fico a contagem regressiva de 10 a 1
   for(int i=10; i&gt;0 &amp;&amp; !IsStopped(); i--)
     {
      Comment(StringFormat(&quot;Wait %u seconds&quot;,i));
      Sleep(1000);
     }
//--- escrevemos em um &quot;coment√°rio em andamento&quot; um texto descrevendo a finalidade do 
   string text=&quot;This was a test showing how the Sleep() function works&quot;;
   string mess=&quot;&quot;;
   for(int i=0; i&lt;(int)text.Length(); i++)
     {
      mess+=ShortToString(text.GetChar(i));
      Sleep(100);
      Comment(mess);
     }
//--- nos despedimos...
   Sleep(1000);
   for(int i=0; i&lt;6; i++)
     {
      mess=(i % 2 == 0 ? &quot;&quot; : &quot;  Bye!&quot;);</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1194
</p>
<pre><code class="language-mql5">
      Comment(mess);
      Sleep(300);
     }
//--- apagamos o texto no gr√°ficos
   Comment(&quot;&quot;);
</code></pre>
<p>
  }</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1195
<h3>TerminalClose</h3>
A fun√ß√£o ordena o terminal a finalizar a opera√ß√£o.
</p>
<pre><code class="language-mql5">
bool¬† TerminalClose(
   int ret_code¬†     // c√≥digo de fechamento do terminal cliente
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
ret_code
[in]  C√≥digo de retorno, retornado pelo processo do terminal cliente na finaliza√ß√£o da opera√ß√£o.
<h3>Valor do Retorno</h3>
A fun√ß√£o retorna true para sucesso, caso contr√°rio - false.
<h3>Observa√ß√£o</h3>
A fun√ß√£o TerminalClose() n√£o interrompe o terminal imediatamente, ela apenas ordena o terminal a
finalizar sua opera√ß√£o.
O c√≥digo de um Expert Advisor que chamou TerminalClose() deve ter todos os arranjos para a
finaliza√ß√£o imediata (por exemplo, todos os arquivo previamente abertos devem ser fechados no
modo normal. A chamada desta fun√ß√£o deve ser seguida pelo operador return.
O par√¢metro ret_code permite indicar o c√≥digo de retorno necess√°rio para analise dos motivos da
finaliza√ß√£o de programa da opera√ß√£o do terminal ao inicializ√°-lo a partir da linha de comando.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//--- par√¢metros de entrada
input int  tiks_before=500; // n√∫mero de ticks at√© finaliza√ß√£o
input int  pips_to_go=15;   // distancia em pips
input int  seconds_st=50;   // n√∫mero de segundos dados para o Expert Advisor
//--- globais
</code></pre>
<p>
datetime   launch_time;
</p>
<pre><code class="language-mql5">
int        tick_counter=0;
//+------------------------------------------------------------------+
//| Fun√ß√£o de Desinicializa√ß√£o do Expert                             |
//+------------------------------------------------------------------+
void OnDeinit(const int reason)
  {
//---
   Print(__FUNCTION__,&quot; c√≥digo do motivo = &quot;,reason);
   Comment(&quot;&quot;);
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Fun√ß√£o tick (ponto) de um Expert                                 |
//+------------------------------------------------------------------+
void OnTick()
  {
   static double first_bid=0.0;</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1196
</p>
<pre><code class="language-mql5">
   MqlTick       tick;
   double        distance;
//---
   SymbolInfoTick(_Symbol,tick);
   tick_counter++;
   if(first_bid==0.0)
     {
      launch_time=tick.time;
      first_bid=tick.bid;
      Print(&quot;first_bid =&quot;,first_bid);
      return;
     }
//--- dist√¢ncia do pre√ßo em pips
   distance=(tick.bid-first_bid)/_Point;
//--- exibe uma notifica√ß√£o para rastrear a opera√ß√£o do EA
   string comm=&quot;A partir do momento da inicial:\r\n\x25CF segundos decorridos: &quot;+
               IntegerToString(tick.time-launch_time)+&quot; ;&quot;+
               &quot;\r\n\x25CF ticks recebidos: &quot;+(string)tick_counter+&quot; ;&quot;+
               &quot;\r\n\x25CF pre√ßo passou em pontos: &quot;+StringFormat(&quot;%G&quot;,distance);
   Comment(comm);
//--- se√ß√£o para verificar condi√ß√£o para fechar o terminal
   if(tick_counter&gt;=tiks_before)
      TerminalClose(0);    // sa√≠da pela contador de tick
   if(distance&gt;pips_to_go)
      TerminalClose(1);    // subida pelo n√∫mero de pips igual ao pips_to_go
   if(distance&lt;-pips_to_go)
      TerminalClose(-1);   // descida pelo n√∫mero de pips igual ao pips_to_go
   if(tick.time-launch_time&gt;seconds_st)
      TerminalClose(100);  // finaliza√ß√£o por timeout
//---
</code></pre>
<p>
  }
<h3>Tamb√©m Veja</h3>
Execu√ß√£o de programa, Erros de execu√ß√£o, Motivos para desinicializa√ß√£o</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1197
<h3>TesterHideIndicators</h3>
Define o modo mostrar/ocultar indicadores usados no Expert Advisor. Esta fun√ß√£o √© usada para
controlar a visibilidade dos indicadores utilizados somente durante o teste.
</p>
<pre><code class="language-mql5">
void¬† TesterHideIndicators(
   bool¬†     hide     // sinalizador
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
hide
[in]  Sinalizador para ocultar indicadores durante o teste. Especifique true, se voc√™ quiser ocultar
os indicadores criados, caso contr√°rio, false.
<h3>Valor de retorno</h3>
N√£o.
<h3>Observa√ß√£o</h3>
Por padr√£o, no gr√°fico de teste visual, s√£o apresentados todos os indicadores que s√£o criados no
Expert Advisor testado. Al√©m disso, esses indicadores s√£o mostrados no gr√°fico que se abre
automaticamente no final do teste. A fun√ß√£o TesterHideIndicators() permite que o desenvolvedor
especifique no c√≥digo do EA a proibi√ß√£o da exibi√ß√£o dos indicadores utilizados.
Para proibir a exibi√ß√£o do indicador usado durante o teste do EA, √© necess√°rio, antes de criar seu
identificador, chamar a fun√ß√£o TesterHideIndicators() com o par√¢metro false, dessa maneira todos
os indicadores criados ap√≥s isso ser√£o marcados com o sinalizador de ocultar. Indicadores marcados
com o sinalizador de ocultar n√£o s√£o exibidos nem durante o teste visual nem no gr√°fico que se abre
automaticamente ap√≥s a conclus√£o do teste.
Para novamente desativar o modo de ocultar os indicadores criados, basta chamar novamente a
fun√ß√£o TesterHideIndicators(), mas com o par√¢metro true. No gr√°fico de teste, podem ser vistos
apenas os indicadores que s√£o criados diretamente a partir do EA testado. Esta regra se aplica
apenas 
aos 
casos 
em 
que 
n√£o 
h√° 
um 
modelo 
na 
pasta
&lt;cat√°logo_de_dados&gt;MQL5\Profiles\Templates.
<h3>Se,</h3>
na 
pasta 
&lt;cat√°logo_de_dados&gt;MQL5\Profiles\Templates, 
estiver 
o 
modelo 
especial
&lt;nome_do_expert&gt;.tpl, ser√£o exibidos apenas os indicadores desse modelo, durante o teste visual e
no gr√°fico de teste. Neste caso, n√£o ser√£o exibidos os indicadores utilizados no EA testado. Mesmo
se, no c√≥digo do EA, fosse chamada a fun√ß√£o TesterHideIndicators() com par√¢metro true.
Se, na pasta &lt;cat√°logo_de_dados&gt;MQL5\Profiles\Templates, n√£o se encontrar o modelo especial
&lt;nome_do_expert&gt;.tpl, mas estiver o modelo tester.tpl, ent√£o, durante o teste visual e no gr√°fico
de teste, ser√£o exibidos os indicadores do modelo tester.tpl e os indicadores n√£o exibidos devido ao
uso da fun√ß√£o TesterHideIndicators(). Se n√£o estiver o modelo tester.tpl, em vez dele ser√£o usados
os indicadores do modelo default.tpl.
Se o testador de estrat√©gias n√£o encontrar nenhum modelo adequado (&lt;nome_do_expert&gt;.tpl,
tester.tpl ou default.tpl), a fun√ß√£o TesterHideIndicators() controlar√° completamente a exibi√ß√£o dos
indicadores usados no EA.
<h3>Exemplo:</h3></p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1198
</p>
<pre><code class="language-mql5">
bool CSampleExpert::InitIndicators(void)
  {
   TesterHideIndicators(true);
//--- create MACD indicator
   if(m_handle_macd==INVALID_HANDLE)
      if((m_handle_macd=iMACD(NULL,0,12,26,9,PRICE_CLOSE))==INVALID_HANDLE)
        {
         printf(&quot;Error creating MACD indicator&quot;);
         return(false);
        }
   TesterHideIndicators(false);
//--- create EMA indicator and add it to collection
   if(m_handle_ema==INVALID_HANDLE)
      if((m_handle_ema=iMA(NULL,0,InpMATrendPeriod,0,MODE_EMA,PRICE_CLOSE))==INVALID_H
        {
         printf(&quot;Error creating EMA indicator&quot;);
         return(false);
        }
//--- succeed
   return(true);
</code></pre>
<p>
  }
<h3>Veja tamb√©m</h3>
<h3>IndicatorRelease</h3></p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1199
<h3>TesterStatistics</h3>
A fun√ß√£o retorna o valor do par√¢metro estat√≠stico especificado calculado baseado em resultados de
teste.
</p>
<pre><code class="language-mql5">
double¬† TesterStatistics(
   ENUM_STATISTICS statistic_id¬†     // ID
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
statistic_id
[in]   O ID do par√¢metro estat√≠stico a partir da enumera√ß√£o ENUM_STATISTICS.
<h3>Valor do Retorno</h3>
O valor do par√¢metro estat√≠stico proveniente de resultados de teste.
<h3>Observa√ß√£o</h3>
A fun√ß√£o pode ser chamada de dentro de OnTester() ou OnDeinit() no Provador de Estrat√©gias. Nos
outros casos o resultado √© indefinido.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
// expert baseado no arquivo padr√£o &quot;MACD Sample.mq5&quot;
// mostra o resultado da execu√ß√£o de TesterStatistics() no manipulador de eventos Test
#define MACD_MAGIC 1234502
//---
#include &lt;Trade\Trade.mqh&gt;
#include &lt;Trade\SymbolInfo.mqh&gt;
#include &lt;Trade\PositionInfo.mqh&gt;
#include &lt;Trade\AccountInfo.mqh&gt;
//---
input double InpLots          =0.1; // Lots
input int    InpTakeProfit    =50;  // Take Profit (in pips)
input int    InpTrailingStop  =30;  // Trailing Stop Level (in pips)
input int    InpMACDOpenLevel =3;   // MACD open level (in pips)
input int    InpMACDCloseLevel=2;   // MACD close level (in pips)
input int    InpMATrendPeriod =26;  // MA trend period
//---
//+------------------------------------------------------------------+
//| Expert initialization function                                   |
//+------------------------------------------------------------------+
int OnInit(void)
  {
//--- criamos todos os objetos necess√°rios
   if(!ExtExpert.Init())
      return(INIT_FAILED);
//--- inicializa√ß√£o bem-sucedida</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1200
</p>
<pre><code class="language-mql5">
   return(INIT_SUCCEEDED);
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Expert new tick handling function                                |
//+------------------------------------------------------------------+
void OnTick(void)
  {
   static datetime limit_time=0; // hora da √∫ltima chamada com timeout
//--- se o tempo tiver excedido o valor definido limit_time
   if(TimeCurrent()&gt;=limit_time)
     {
      //--- verificamos os dados
      if(Bars(Symbol(),Period())&gt;2*InpMATrendPeriod)
        {
         //--- em caso de execu√ß√£o bem-sucedida, aumentamos o limit_time para timeout 
         if(ExtExpert.Processing())
            limit_time=TimeCurrent()+ExtTimeOut;
        }
     }
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Expert tester handling function                                  |
//+------------------------------------------------------------------+
double OnTester(void)
  {
   double ret=TesterStatistics(STAT_PROFIT_FACTOR);
   double profit=TesterStatistics(STAT_PROFIT);
   int    trades_total=(int)TesterStatistics(STAT_TRADES);
   int    profit_total=(int)TesterStatistics(STAT_PROFIT_TRADES);
   int    loss_total=(int)TesterStatistics(STAT_LOSS_TRADES);
   PrintFormat(&quot;%s: Profit = %.2f, trades total: %lu, profit trades total: %lu, loss t
   return(ret);
  /*
</code></pre>
<p>
<h3>Resultado:</h3>
</p>
<pre><code class="language-mql5">
   OnTester: Profit = 209.84, trades total: 13, profit trades total: 11, loss trades t
   final balance 10209.84 USD
   OnTester result 3.020606644198363
</code></pre>
<p>
  */
  }  </p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1201
<h3>TesterStop</h3>
D√° o comando para encerrar o programa durante os testes.
</p>
<pre><code class="language-mql5">
void¬† TesterStop();
</code></pre>
<p>
<h3>Valor retornado</h3>
N√£o h√° nenhum valor de retorno.
<h3>Observa√ß√£o</h3>
A fun√ß√£o TesterStop() se destina ao desligamento antecipado geral do EA no agente de teste, por
exemplo, ao atingir um n√∫mero especificado de transa√ß√µes desfavor√°veis ou um n√≠vel de
rebaixamento especificado. 
A chamada da TesterStop() √© considerada um encerramento normal do teste e, portanto, ser√°
chamada a fun√ß√£o OnTester() com feedback para o testador de estrat√©gias sobre todas as
estat√≠sticas de negocia√ß√£o acumuladas e valores dos crit√©rios de otimiza√ß√£o.
A chamada da ExpertRemove() no testador de estrat√©gia tamb√©m significa o encerramento normal
do teste e permite obter estat√≠sticas de negocia√ß√£o, mas, enquanto isso, o EA √© descarregado da
mem√≥ria do agente. Nesse caso, para concluir a passagem no pr√≥ximo conjunto de par√¢metros, ser√°
necess√°rio mais tempo a fim de recarregar o programa. Portanto, para encerramento antecipado
geral do teste, o uso da TesterStop() √© a op√ß√£o preferida.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//--- defines
#define BALANCE_LOSS_STOP  100.0       // valor do rebaixamento do saldo durante o qua
#define EQUITY_LOSS_STOP   100.0       // valor do rebaixamento dos fundos durante o q
//--- input parameters
input double          InpLots        = 0.1;                    // lotes
input  uint    InpStopLoss    =  50;   // Stop loss em pontos
input  uint    InpTakeProfit  =  150;  // Take Profit  em pontos
</code></pre>
<p>
sinput ulong   InpMagic       =  123;  // MagicNumber
sinput ulong   InpDeviation   =  5;    // desvio
</p>
<pre><code class="language-mql5">
//--- global variables
</code></pre>
<p>
CTrade      trade;                     // inst√¢ncia da classe de negocia√ß√£o
CSymbolInfo symb;                      // inst√¢ncia da classe de s√≠mbolo
CAccountInfo account;                  // inst√¢ncia da classe de conta de negocia√ß√£o
...
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Expert initialization function                                   |
//+------------------------------------------------------------------+
int OnInit()
  {
   ...
//--- Inicializa√ß√£o bem-sucedida
   return(INIT_SUCCEEDED);</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1202
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Expert tick function                                             |
//+------------------------------------------------------------------+
void OnTick()
  {
//--- atualizamos as cota√ß√µes atuais
   if(!symb.RefreshRates())
      return;
   ...
//--- se o saldo ou os fundos ca√≠rem mais do que o indicado nas macrosubstitui√ß√µes BAL
//--- consideramos o teste falho e chamamos a fun√ß√£o TesterStop()
//--- verificamos a perda do saldo mais do que em BALANCE_LOSS_STOP
   if(balance_prev!=account.Balance())
     {
      if(account.Balance()&lt;balance_prev-BALANCE_LOSS_STOP)
        {
         PrintFormat(&quot;The initial balance of %.2f %s decreased by %.2f %s, and now has
         TesterStop();
         /*
¬†       Resultado:
         The initial balance of 10000.00 USD decreased by 100.10 USD, and now has a va
         TesterStop() called on 9% of testing interval
         */
        }
     }
//--- verificamos a perda dos fundos mais do que em EQUITY_LOSS_STOP
   if(equity_prev!=account.Equity())
     {
      if(account.Equity()&lt;equity_prev-EQUITY_LOSS_STOP)
        {
         PrintFormat(&quot;The initial equity of %.2f %s decreased by %.2f %s, and now has 
         TesterStop();
        /*
¬†       Resultado:
         The initial equity of 10000.00 USD decreased by 100.10 USD, and now has a val
         TesterStop() called on 9% of testing interval
        */
        }
     }
</code></pre>
<p>
  }
<h3>Veja tamb√©m</h3>
Execu√ß√£o de programas, Teste de estrat√©gias de negocia√ß√£o, ExpertRemove, SetReturnError</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1203
<h3>TesterDeposit</h3>
Fun√ß√£o especial para emular opera√ß√µes de dep√≥sito durante o teste. Pode ser usado em alguns
sistemas de gerenciamento de capital.
</p>
<pre><code class="language-mql5">
bool¬† TesterDeposit(
   double money¬†     // tamanho do montante a ser depositado
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
money
[in]  Quantidade de dinheiro a ser depositado na moeda de dep√≥sito.
<h3>Valor retornado</h3>
Retorna true em caso de sucesso, caso contr√°rio, false.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//--- defines
#define BALANCE_LOSS_DEPOSIT  100.0    // valor do rebaixamento do saldo durante o qua
//--- input parameters
input  double  InpLots        =  0.1;  // Lots
input  uint    InpStopLoss    =  50;   // Stop loss in points
input  uint    InpTakeProfit  =  150;  // Take Profit in points
</code></pre>
<p>
sinput ulong   InpMagic       =  123;  // Magic number
sinput ulong   InpDeviation   =  5;    // Deviation
</p>
<pre><code class="language-mql5">
//--- global variables
</code></pre>
<p>
CTrade      trade;                     // inst√¢ncia da classe de negocia√ß√£o
CSymbolInfo symb;                      // inst√¢ncia da classe de s√≠mbolo
CAccountInfo account;                  // inst√¢ncia da classe de conta de negocia√ß√£o
...
</p>
<pre><code class="language-mql5">
double      balance_dep_summ;          // total de reabastecimentos de saldo
</code></pre>
<p>
uint        balance_dep_total;         // n√∫mero de reabastecimentos de saldo
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Expert initialization function                                   |
//+------------------------------------------------------------------+
int OnInit()
  {
   ...
//--- salvamos os valores do saldo inicial
   balance_prev=account.Balance();
   balance_dep_summ=0;
   balance_dep_total=0;
//--- inicializa√ß√£o bem-sucedida
   return(INIT_SUCCEEDED);
</code></pre>
<p>
  }</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1204
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Expert tick function                                             |
//+------------------------------------------------------------------+
void OnTick()
  {
//--- atualizamos as cota√ß√µes atuais
   if(!symb.RefreshRates())
      return;
   ...
//--- se o saldo cair mais do que o indicado na macrosubstitui√ß√£o BALANCE_LOSS_DEPOSIT
//--- consideramos necess√°rio depositar na conta e chamamos a fun√ß√£o TesterDeposit()
//--- verificamos a perda do saldo mais do que em BALANCE_LOSS_DEPOSIT
   if(balance_prev!=account.Balance())
     {
      if(account.Balance()&lt;balance_prev-BALANCE_LOSS_DEPOSIT)
        {
         double loss=balance_prev-account.Balance();
         PrintFormat(&quot;The initial balance of %.2f %s decreased by %.2f %s. It is neces
         if(TesterDeposit(loss))
           {
            balance_dep_total++;
            balance_dep_summ+=loss;
            balance_prev=account.Balance();
            PrintFormat(&quot;Funds have been deposited into the account. Account balance: 
            PrintFormat(&quot;Total deposits: %lu. Amount of deposits: %.2f %s.&quot;,balance_de
           }
        /*
¬†       Resultado:
         The initial balance of 10000.00 USD decreased by 116.00 USD. It is necessary 
         deal #45 balance 116.00 [deposit] done
         Funds have been deposited into the account. Account balance: 10000.00 USD.
         Total deposits: 1. Amount of deposits: 116.00 USD.
        */
        }
     }
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Tester function                                                  |
//+------------------------------------------------------------------+
double OnTester()
  {
//--- o valor de sa√≠da do manipulador indicar√° o valor m√°ximo de drawdown do saldo em 
   double ret=TesterStatistics(STAT_BALANCE_DD);
//--- exibimos no jornal a mensagem sobre o rebaixamento, sobre o n√∫mero de dep√≥sitos 
   PrintFormat(&quot;%s: Maximum balance drawdown in money: %.2f %s. Total deposits: %lu. A
//--- retornamos o resultado
   return(ret);
   /*</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1205
<h3>Resultado:</h3>
</p>
<pre><code class="language-mql5">
   OnTester: Maximum balance drawdown in money: 5188.50 USD. Total deposits: 46. Amoun
   final balance 4867.50 USD
   OnTester result 5188.5
   */
</code></pre>
<p>
  }
<h3>Veja tamb√©m</h3>
<h3>TesterWithdrawal</h3></p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1206
<h3>TesterWithdrawal</h3>
Fun√ß√£o especial para emular a opera√ß√£o de saque de dinheiro no processo de teste. Pode ser usado em
alguns sistemas de gerenciamento de ativos.
</p>
<pre><code class="language-mql5">
bool¬† TesterWithdrawal(
   double money¬†     // a soma para sacar
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
money
[in]  A soma de dinheiro que n√≥s precisamos sacar (no moeda de dep√≥sito).
<h3>Valor do Retorno</h3>
Com sucesso, retorna verdadeiro (true), do contr√°rio - falso.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//--- defines
#define BALANCE_PROFIT_WITHDRAWAL   5  // valor do lucro no saldo, presente quando os 
//--- input parameters
input  double  InpLots        =  0.1;  // Lots
input  uint    InpStopLoss    =  50;   // Stop loss in points
input  uint    InpTakeProfit  =  150;  // Take Profit in points
</code></pre>
<p>
sinput ulong   InpMagic       =  123;  // Magic number
sinput ulong   InpDeviation   =  5;    // Deviation
</p>
<pre><code class="language-mql5">
//--- global variables
</code></pre>
<p>
CTrade      trade;                     // inst√¢ncia da classe de negocia√ß√£o
CSymbolInfo symb;                      // inst√¢ncia da classe de s√≠mbolo
CAccountInfo account;                  // inst√¢ncia da classe de conta de negocia√ß√£o
...
</p>
<pre><code class="language-mql5">
double      balance_op_sum;            // total de opera√ß√µes de saldo
</code></pre>
<p>
uint        balance_op_total;          // n√∫mero de opera√ß√µes de saldo
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Expert initialization function                                   |
//+------------------------------------------------------------------+
int OnInit()
  {
   ...
//--- salvamos os valores do saldo inicial
   balance_prev=account.Balance();
   balance_op_sum=0;
   balance_op_total=0;
//--- inicializa√ß√£o bem-sucedida
   return(INIT_SUCCEEDED);
</code></pre>
<p>
  }</p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1207
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Expert tick function                                             |
//+------------------------------------------------------------------+
void OnTick()
  {
//--- Atualizamos as cota√ß√µes atuais
   if(!symb.RefreshRates())
      return;
   ...
//--- se o lucro no saldo for maior que o saldo atual no valor indicado na macrosubsti
//--- consideramos necess√°rio retirar esses fundos da conta e chamamos a fun√ß√£o Tester
//--- Verificamos o lucro no saldo mais do que em BALANCE_PROFIT_WITHDRAWAL
   if(balance_prev!=account.Balance())
     {
      if(account.Balance()&gt;balance_prev+BALANCE_PROFIT_WITHDRAWAL)
        {
         double profit=account.Balance()-balance_prev;
         PrintFormat(&quot;The account balance has been increased by %.2f %s. Need to withd
         if(TesterWithdrawal(profit))
           {
            balance_op_total++;
            balance_op_summ+=profit;
            balance_prev=account.Balance();
            PrintFormat(&quot;Funds have been withdrawn from the account. Account balance: 
            PrintFormat(&quot;Total withdrawals: %lu. Amount of withdrawals: %.2f %s.&quot;,bala
           }
         /*
¬†       Resultado:
         The account balance has been increased by 21.00 USD. Need to withdraw these f
         deal #13 balance -21.00 [withdrawal] done
         Funds have been withdrawn from the account. Account balance: 10000.00 USD.
         Total withdrawals: 1. Amount of withdrawals: 21.00 USD.
         */
        }
     }
</code></pre>
<p>
  }
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Tester function                                                  |
//+------------------------------------------------------------------+
double OnTester()
  {
//--- O valor de sa√≠da do manipulador indicar√° o valor m√°ximo de drawdown do saldo em 
   double ret=TesterStatistics(STAT_BALANCE_DD);
//--- Exibimos no jornal a mensagem sobre o drawdown, sobre o n√∫mero de retiradas e se
   PrintFormat(&quot;%s: Maximum balance drawdown in money: %.2f %s. Total withdrawals: %lu
//--- Retornamos o resultado
   return(ret);
   /*</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1208
<h3>Resultado:</h3>
</p>
<pre><code class="language-mql5">
   OnTester: Maximum balance drawdown in money: 5188.50 USD. Total withdrawals: 2. Amo
   final balance 4867.50 USD
   OnTester result 5188.5
   */
</code></pre>
<p>
  }
<h3>Veja tamb√©m</h3>
<h3>TesterDeposit</h3></p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1209
<h3>TranslateKey</h3>
Retorna o caractere Unicode de acordo com o c√≥digo de tecla virtual, tendo em conta o idioma de
entrada atual e o status das teclas de controle.
short¬† TranslateKey(
</p>
<pre><code class="language-mql5">
   int¬† key_code¬†     // c√≥digo de teclas para obter o caractere Unicode
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
key_code
[in]  C√≥digo de tecla.
<h3>Valor de retorno</h3>
Caractere Unicode no caso de uma convers√£o bem-sucedida. No caso de erro, a fun√ß√£o retorna -1.
<h3>Observa√ß√£o</h3>
A fun√ß√£o utiliza ToUnicodeEx para converter as teclas digitadas - pelo usu√°rio - para caracteres
Unicode. O erro pode surgir se n√£o funcionar ToUnicodeEx, por exemplo, ao tentar obter o caractere
para a tecla SHIFT.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
void OnChartEvent(const int id,const long&amp; lparam,const double&amp; dparam,const string&amp; s
  { 
   if(id==CHARTEVENT_KEYDOWN)
     {
      short sym=TranslateKey((int)lparam);
      //--- se o caractere digitado for convertido com sucesso para Unicode
      if(sym&gt;0)
         Print(sym,&quot;&#x27;&quot;,ShortToString(sym),&quot;&#x27;&quot;);
      else
         Print(&quot;Error in TranslateKey for key=&quot;,lparam);
     }
</code></pre>
<p>
  }
<h3>Veja tamb√©m</h3>
<h3>Eventos do terminal de cliente, OnChartEvent</h3></p>
<p><h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1210
<h3>ZeroMemory</h3>
A fun√ß√£o redefine uma vari√°vel passada para ela por refer√™ncia.
</p>
<pre><code class="language-mql5">
void¬† ZeroMemory(
   void¬†&amp; variable¬†     // redefine vari√°vel
   );
</code></pre>
<p>
<h3>Par√¢metros</h3>
variable
[in] [out]  Vari√°vel passada por refer√™ncia, que voc√™ quer redefinir (inicializar com zeros).
<h3>Valor do Retorno</h3>
Sem valor de retorno.
<h3>Observa√ß√£o</h3>
Se o par√¢metro da fun√ß√£o √© uma string, a chamada ser√° equivalente a indicar NULL como seu valor.
Para tipos simples e seus arrays, bem como para estruturas/classes consistindo de tais tipos, isso √©
uma simples redefini√ß√£o.
Para objetos contendo strings e arrays din√¢micos, ZeroMemory() √© chamada para cada elemento.
Para quaisquer arrays n√£o protegidos pelo modificador const, todos os elementos s√£o zerados.
Para arrays de objetos complexos, ZeroMemory() √© chamada para cada elemento.
ZeroMemory() n√£o pode ser aplicada a classes com membros protegidos ou heran√ßa.
<h3>Exemplo:</h3>
</p>
<pre><code class="language-mql5">
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- declaramos e inicializamos a string
   string str=&quot;Test ZeroMemory func&quot;;
//--- imprimimos no log a string antes que ZeroMemory() seja aplicada a ela
   PrintFormat(&quot;The line before applying ZeroMemory() to it: &#x27;%s&#x27;&quot;,str);
//--- zeramos a linha e registramos o resultado
   ZeroMemory(str);
   Print(&quot;The same line after applying ZeroMemory() to it: &#x27;&quot;,str,&quot;&#x27;&quot;);
/*
</code></pre>
<p>
<h3>Resultado:</h3>
</p>
<pre><code class="language-mql5">
   The line before applying ZeroMemory() to it: &#x27;Test ZeroMemory func&#x27;
   The same line after applying ZeroMemory() to it: &#x27;&#x27;
</code></pre>
<p>
*/
</p>
<pre><code class="language-mql5">
//--- declaramos e inicializamos uma vari√°vel com o tipo int
   int var=123;
//--- imprimimos no log a string antes que ZeroMemory() seja aplicada a ela</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1211
</p>
<pre><code class="language-mql5">
   PrintFormat(&quot;\nThe integer variable before applying ZeroMemory() to it: %d&quot;,var);
//--- zeramos a vari√°vel e registramos o resultado
   ZeroMemory(var);
   PrintFormat(&quot;The same variable after applying ZeroMemory() to it: %d&quot;,var);
/*
</code></pre>
<p>
<h3>Resultado:</h3>
</p>
<pre><code class="language-mql5">
   The integer variable before applying ZeroMemory() to it: 123
   The same variable after applying ZeroMemory() to it: 0
</code></pre>
<p>
*/
</p>
<pre><code class="language-mql5">
//--- declaramos e inicializamos um array com o tipo int
   int arr[]={0,1,2,3,4,5,6,7,8,9};
//--- imprimimos no log o array antes que ZeroMemory() seja aplicada a ele
   Print(&quot;\nThe integer array before applying ZeroMemory() to it:&quot;);
   ArrayPrint(arr);
//--- zeramos o array e registramos o resultado
   ZeroMemory(arr);
   Print(&quot;The same array after applying ZeroMemory() to it:&quot;);
   ArrayPrint(arr);
/*
</code></pre>
<p>
<h3>Resultado:</h3>
</p>
<pre><code class="language-mql5">
   The integer array before applying ZeroMemory() to it:
   0 1 2 3 4 5 6 7 8 9
   The same array after applying ZeroMemory() to it:
   0 0 0 0 0 0 0 0 0 0
</code></pre>
<p>
*/
</p>
<pre><code class="language-mql5">
//--- declaramos uma estrutura de dois campos: string e inteiro
   struct STest
     {
      string   var_string;
      long     var_long;
     };
//--- declaramos e inicializamos um array com o tipo STest
   STest arr_struct[]={ {&quot;0&quot;,0}, {&quot;1&quot;,1}, {&quot;2&quot;,2}, {&quot;3&quot;,3} };
//--- imprimimos no log o array de estruturas antes que ZeroMemory() seja aplicada a e
   Print(&quot;\nThe array struct before applying ZeroMemory() to it:&quot;);
   ArrayPrint(arr_struct);
//--- zeramos o array de estruturas e registramos o resultado
   ZeroMemory(arr_struct);
   Print(&quot;The same array struct after applying ZeroMemory() to it:&quot;);
   ArrayPrint(arr_struct);
/*
</code></pre>
<p>
<h3>Resultado:</h3>
</p>
<pre><code class="language-mql5">
   The array struct before applying ZeroMemory() to it:
       [var_string] [var_long]
   [0] &quot;0&quot;                   0
   [1] &quot;1&quot;                   1
   [2] &quot;2&quot;                   2</p>
<p></code></pre>
<p>
<h3>Fun√ß√µes Comuns</h3>
¬© 2000-2025, MetaQuotes Ltd.
1212
</p>
<pre><code class="language-mql5">
   [3] &quot;3&quot;                   3
   The same array struct after applying ZeroMemory() to it:
       [var_string] [var_long]
   [0] null                  0
   [1] null                  0
   [2] null                  0
   [3] null                  0
</code></pre>
<p>
*/
  }
</p>
        </article>
        
        <footer>
            <p>Documenta√ß√£o MQL5 - Fonte: MetaQuotes Ltd.</p>
        </footer>
    </main>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
        
        function toggleSidebar() {
            document.querySelector('.sidebar').classList.toggle('open');
        }
        
        function filterNav() {
            const filter = document.getElementById('search').value.toLowerCase();
            const items = document.querySelectorAll('.nav-list li');
            items.forEach(item => {
                const text = item.textContent.toLowerCase();
                item.style.display = text.includes(filter) ? '' : 'none';
            });
        }
    </script>
</body>
</html>